/*! For license information please see main.8467a474.js.LICENSE.txt */
(()=>{"use strict";var e={4(e,n,t){var a=t(853),r=t(43),o=t(950);function i(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var t=2;t<arguments.length;t++)n+="&args[]="+encodeURIComponent(arguments[t])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function l(e){var n=e,t=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do{0!==(4098&(n=e).flags)&&(t=n.return),e=n.return}while(e)}return 3===n.tag?t:null}function c(e){if(13===e.tag){var n=e.memoizedState;if(null===n&&(null!==(e=e.alternate)&&(n=e.memoizedState)),null!==n)return n.dehydrated}return null}function u(e){if(31===e.tag){var n=e.memoizedState;if(null===n&&(null!==(e=e.alternate)&&(n=e.memoizedState)),null!==n)return n.dehydrated}return null}function d(e){if(l(e)!==e)throw Error(i(188))}function p(e){var n=e.tag;if(5===n||26===n||27===n||6===n)return e;for(e=e.child;null!==e;){if(null!==(n=p(e)))return n;e=e.sibling}return null}var m=Object.assign,f=Symbol.for("react.element"),g=Symbol.for("react.transitional.element"),h=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),E=Symbol.for("react.consumer"),S=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),C=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),N=Symbol.for("react.lazy");Symbol.for("react.scope");var k=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var L=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var A=Symbol.iterator;function w(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=A&&e[A]||e["@@iterator"])?e:null}var I=Symbol.for("react.client.reference");function O(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===I?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case b:return"Fragment";case v:return"Profiler";case y:return"StrictMode";case T:return"Suspense";case C:return"SuspenseList";case k:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case h:return"Portal";case S:return e.displayName||"Context";case E:return(e._context.displayName||"Context")+".Consumer";case x:var n=e.render;return(e=e.displayName)||(e=""!==(e=n.displayName||n.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case R:return null!==(n=e.displayName||null)?n:O(e.type)||"Memo";case N:n=e._payload,e=e._init;try{return O(e(n))}catch(t){}}return null}var P=Array.isArray,q=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,_=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,j={pending:!1,data:null,method:null,action:null},D=[],U=-1;function z(e){return{current:e}}function M(e){0>U||(e.current=D[U],D[U]=null,U--)}function F(e,n){U++,D[U]=e.current,e.current=n}var B,H,W=z(null),Q=z(null),G=z(null),V=z(null);function Y(e,n){switch(F(G,n),F(Q,e),F(W,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?bd(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)e=yd(n=bd(n),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}M(W),F(W,e)}function J(){M(W),M(Q),M(G)}function $(e){null!==e.memoizedState&&F(V,e);var n=W.current,t=yd(n,e.type);n!==t&&(F(Q,e),F(W,t))}function K(e){Q.current===e&&(M(W),M(Q)),V.current===e&&(M(V),up._currentValue=j)}function X(e){if(void 0===B)try{throw Error()}catch(t){var n=t.stack.trim().match(/\n( *(at )?)/);B=n&&n[1]||"",H=-1<t.stack.indexOf("\n    at")?" (<anonymous>)":-1<t.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+B+e+H}var Z=!1;function ee(e,n){if(!e||Z)return"";Z=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(n){var t=function(){throw Error()};if(Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(r){var a=r}Reflect.construct(e,[],t)}else{try{t.call()}catch(o){a=o}e.call(t.prototype)}}else{try{throw Error()}catch(i){a=i}(t=e())&&"function"===typeof t.catch&&t.catch(function(){})}}catch(s){if(s&&a&&"string"===typeof s.stack)return[s.stack,a.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var o=a.DetermineComponentFrameRoot(),i=o[0],s=o[1];if(i&&s){var l=i.split("\n"),c=s.split("\n");for(r=a=0;a<l.length&&!l[a].includes("DetermineComponentFrameRoot");)a++;for(;r<c.length&&!c[r].includes("DetermineComponentFrameRoot");)r++;if(a===l.length||r===c.length)for(a=l.length-1,r=c.length-1;1<=a&&0<=r&&l[a]!==c[r];)r--;for(;1<=a&&0<=r;a--,r--)if(l[a]!==c[r]){if(1!==a||1!==r)do{if(a--,0>--r||l[a]!==c[r]){var u="\n"+l[a].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=a&&0<=r);break}}}finally{Z=!1,Error.prepareStackTrace=t}return(t=e?e.displayName||e.name:"")?X(t):""}function ne(e,n){switch(e.tag){case 26:case 27:case 5:return X(e.type);case 16:return X("Lazy");case 13:return e.child!==n&&null!==n?X("Suspense Fallback"):X("Suspense");case 19:return X("SuspenseList");case 0:case 15:return ee(e.type,!1);case 11:return ee(e.type.render,!1);case 1:return ee(e.type,!0);case 31:return X("Activity");default:return""}}function te(e){try{var n="",t=null;do{n+=ne(e,t),t=e,e=e.return}while(e);return n}catch(a){return"\nError generating stack: "+a.message+"\n"+a.stack}}var ae=Object.prototype.hasOwnProperty,re=a.unstable_scheduleCallback,oe=a.unstable_cancelCallback,ie=a.unstable_shouldYield,se=a.unstable_requestPaint,le=a.unstable_now,ce=a.unstable_getCurrentPriorityLevel,ue=a.unstable_ImmediatePriority,de=a.unstable_UserBlockingPriority,pe=a.unstable_NormalPriority,me=a.unstable_LowPriority,fe=a.unstable_IdlePriority,ge=a.log,he=a.unstable_setDisableYieldValue,be=null,ye=null;function ve(e){if("function"===typeof ge&&he(e),ye&&"function"===typeof ye.setStrictMode)try{ye.setStrictMode(be,e)}catch(n){}}var Ee=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(Se(e)/xe|0)|0},Se=Math.log,xe=Math.LN2;var Te=256,Ce=262144,Re=4194304;function Ne(e){var n=42&e;if(0!==n)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return 261888&e;case 262144:case 524288:case 1048576:case 2097152:return 3932160&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ke(e,n,t){var a=e.pendingLanes;if(0===a)return 0;var r=0,o=e.suspendedLanes,i=e.pingedLanes;e=e.warmLanes;var s=134217727&a;return 0!==s?0!==(a=s&~o)?r=Ne(a):0!==(i&=s)?r=Ne(i):t||0!==(t=s&~e)&&(r=Ne(t)):0!==(s=a&~o)?r=Ne(s):0!==i?r=Ne(i):t||0!==(t=a&~e)&&(r=Ne(t)),0===r?0:0!==n&&n!==r&&0===(n&o)&&((o=r&-r)>=(t=n&-n)||32===o&&0!==(4194048&t))?n:r}function Le(e,n){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)}function Ae(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;default:return-1}}function we(){var e=Re;return 0===(62914560&(Re<<=1))&&(Re=4194304),e}function Ie(e){for(var n=[],t=0;31>t;t++)n.push(e);return n}function Oe(e,n){e.pendingLanes|=n,268435456!==n&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Pe(e,n,t){e.pendingLanes|=n,e.suspendedLanes&=~n;var a=31-Ee(n);e.entangledLanes|=n,e.entanglements[a]=1073741824|e.entanglements[a]|261930&t}function qe(e,n){var t=e.entangledLanes|=n;for(e=e.entanglements;t;){var a=31-Ee(t),r=1<<a;r&n|e[a]&n&&(e[a]|=n),t&=~r}}function _e(e,n){var t=n&-n;return 0!==((t=0!==(42&t)?1:je(t))&(e.suspendedLanes|n))?0:t}function je(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function De(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function Ue(){var e=_.p;return 0!==e?e:void 0===(e=window.event)?32:Np(e.type)}function ze(e,n){var t=_.p;try{return _.p=e,n()}finally{_.p=t}}var Me=Math.random().toString(36).slice(2),Fe="__reactFiber$"+Me,Be="__reactProps$"+Me,He="__reactContainer$"+Me,We="__reactEvents$"+Me,Qe="__reactListeners$"+Me,Ge="__reactHandles$"+Me,Ve="__reactResources$"+Me,Ye="__reactMarker$"+Me;function Je(e){delete e[Fe],delete e[Be],delete e[We],delete e[Qe],delete e[Ge]}function $e(e){var n=e[Fe];if(n)return n;for(var t=e.parentNode;t;){if(n=t[He]||t[Fe]){if(t=n.alternate,null!==n.child||null!==t&&null!==t.child)for(e=jd(e);null!==e;){if(t=e[Fe])return t;e=jd(e)}return n}t=(e=t).parentNode}return null}function Ke(e){if(e=e[Fe]||e[He]){var n=e.tag;if(5===n||6===n||13===n||31===n||26===n||27===n||3===n)return e}return null}function Xe(e){var n=e.tag;if(5===n||26===n||27===n||6===n)return e.stateNode;throw Error(i(33))}function Ze(e){var n=e[Ve];return n||(n=e[Ve]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function en(e){e[Ye]=!0}var nn=new Set,tn={};function an(e,n){rn(e,n),rn(e+"Capture",n)}function rn(e,n){for(tn[e]=n,e=0;e<n.length;e++)nn.add(n[e])}var on=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),sn={},ln={};function cn(e,n,t){if(r=n,ae.call(ln,r)||!ae.call(sn,r)&&(on.test(r)?ln[r]=!0:(sn[r]=!0,0)))if(null===t)e.removeAttribute(n);else{switch(typeof t){case"undefined":case"function":case"symbol":return void e.removeAttribute(n);case"boolean":var a=n.toLowerCase().slice(0,5);if("data-"!==a&&"aria-"!==a)return void e.removeAttribute(n)}e.setAttribute(n,""+t)}var r}function un(e,n,t){if(null===t)e.removeAttribute(n);else{switch(typeof t){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttribute(n,""+t)}}function dn(e,n,t,a){if(null===a)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttributeNS(n,t,""+a)}}function pn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function mn(e){var n=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===n||"radio"===n)}function fn(e){if(!e._valueTracker){var n=mn(e)?"checked":"value";e._valueTracker=function(e,n,t){var a=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&"undefined"!==typeof a&&"function"===typeof a.get&&"function"===typeof a.set){var r=a.get,o=a.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return r.call(this)},set:function(e){t=""+e,o.call(this,e)}}),Object.defineProperty(e,n,{enumerable:a.enumerable}),{getValue:function(){return t},setValue:function(e){t=""+e},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}(e,n,""+e[n])}}function gn(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var t=n.getValue(),a="";return e&&(a=mn(e)?e.checked?"true":"false":e.value),(e=a)!==t&&(n.setValue(e),!0)}function hn(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(n){return e.body}}var bn=/[\n"\\]/g;function yn(e){return e.replace(bn,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function vn(e,n,t,a,r,o,i,s){e.name="",null!=i&&"function"!==typeof i&&"symbol"!==typeof i&&"boolean"!==typeof i?e.type=i:e.removeAttribute("type"),null!=n?"number"===i?(0===n&&""===e.value||e.value!=n)&&(e.value=""+pn(n)):e.value!==""+pn(n)&&(e.value=""+pn(n)):"submit"!==i&&"reset"!==i||e.removeAttribute("value"),null!=n?Sn(e,i,pn(n)):null!=t?Sn(e,i,pn(t)):null!=a&&e.removeAttribute("value"),null==r&&null!=o&&(e.defaultChecked=!!o),null!=r&&(e.checked=r&&"function"!==typeof r&&"symbol"!==typeof r),null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s?e.name=""+pn(s):e.removeAttribute("name")}function En(e,n,t,a,r,o,i,s){if(null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o&&(e.type=o),null!=n||null!=t){if(!("submit"!==o&&"reset"!==o||void 0!==n&&null!==n))return void fn(e);t=null!=t?""+pn(t):"",n=null!=n?""+pn(n):t,s||n===e.value||(e.value=n),e.defaultValue=n}a="function"!==typeof(a=null!=a?a:r)&&"symbol"!==typeof a&&!!a,e.checked=s?e.checked:!!a,e.defaultChecked=!!a,null!=i&&"function"!==typeof i&&"symbol"!==typeof i&&"boolean"!==typeof i&&(e.name=i),fn(e)}function Sn(e,n,t){"number"===n&&hn(e.ownerDocument)===e||e.defaultValue===""+t||(e.defaultValue=""+t)}function xn(e,n,t,a){if(e=e.options,n){n={};for(var r=0;r<t.length;r++)n["$"+t[r]]=!0;for(t=0;t<e.length;t++)r=n.hasOwnProperty("$"+e[t].value),e[t].selected!==r&&(e[t].selected=r),r&&a&&(e[t].defaultSelected=!0)}else{for(t=""+pn(t),n=null,r=0;r<e.length;r++){if(e[r].value===t)return e[r].selected=!0,void(a&&(e[r].defaultSelected=!0));null!==n||e[r].disabled||(n=e[r])}null!==n&&(n.selected=!0)}}function Tn(e,n,t){null==n||((n=""+pn(n))!==e.value&&(e.value=n),null!=t)?e.defaultValue=null!=t?""+pn(t):"":e.defaultValue!==n&&(e.defaultValue=n)}function Cn(e,n,t,a){if(null==n){if(null!=a){if(null!=t)throw Error(i(92));if(P(a)){if(1<a.length)throw Error(i(93));a=a[0]}t=a}null==t&&(t=""),n=t}t=pn(n),e.defaultValue=t,(a=e.textContent)===t&&""!==a&&null!==a&&(e.value=a),fn(e)}function Rn(e,n){if(n){var t=e.firstChild;if(t&&t===e.lastChild&&3===t.nodeType)return void(t.nodeValue=n)}e.textContent=n}var Nn=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function kn(e,n,t){var a=0===n.indexOf("--");null==t||"boolean"===typeof t||""===t?a?e.setProperty(n,""):"float"===n?e.cssFloat="":e[n]="":a?e.setProperty(n,t):"number"!==typeof t||0===t||Nn.has(n)?"float"===n?e.cssFloat=t:e[n]=(""+t).trim():e[n]=t+"px"}function Ln(e,n,t){if(null!=n&&"object"!==typeof n)throw Error(i(62));if(e=e.style,null!=t){for(var a in t)!t.hasOwnProperty(a)||null!=n&&n.hasOwnProperty(a)||(0===a.indexOf("--")?e.setProperty(a,""):"float"===a?e.cssFloat="":e[a]="");for(var r in n)a=n[r],n.hasOwnProperty(r)&&t[r]!==a&&kn(e,r,a)}else for(var o in n)n.hasOwnProperty(o)&&kn(e,o,n[o])}function An(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wn=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),In=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function On(e){return In.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Pn(){}var qn=null;function _n(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var jn=null,Dn=null;function Un(e){var n=Ke(e);if(n&&(e=n.stateNode)){var t=e[Be]||null;e:switch(e=n.stateNode,n.type){case"input":if(vn(e,t.value,t.defaultValue,t.defaultValue,t.checked,t.defaultChecked,t.type,t.name),n=t.name,"radio"===t.type&&null!=n){for(t=e;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll('input[name="'+yn(""+n)+'"][type="radio"]'),n=0;n<t.length;n++){var a=t[n];if(a!==e&&a.form===e.form){var r=a[Be]||null;if(!r)throw Error(i(90));vn(a,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(n=0;n<t.length;n++)(a=t[n]).form===e.form&&gn(a)}break e;case"textarea":Tn(e,t.value,t.defaultValue);break e;case"select":null!=(n=t.value)&&xn(e,!!t.multiple,n,!1)}}}var zn=!1;function Mn(e,n,t){if(zn)return e(n,t);zn=!0;try{return e(n)}finally{if(zn=!1,(null!==jn||null!==Dn)&&(Zc(),jn&&(n=jn,e=Dn,Dn=jn=null,Un(n),e)))for(n=0;n<e.length;n++)Un(e[n])}}function Fn(e,n){var t=e.stateNode;if(null===t)return null;var a=t[Be]||null;if(null===a)return null;t=a[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(a=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!a;break e;default:e=!1}if(e)return null;if(t&&"function"!==typeof t)throw Error(i(231,n,typeof t));return t}var Bn=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),Hn=!1;if(Bn)try{var Wn={};Object.defineProperty(Wn,"passive",{get:function(){Hn=!0}}),window.addEventListener("test",Wn,Wn),window.removeEventListener("test",Wn,Wn)}catch(Kp){Hn=!1}var Qn=null,Gn=null,Vn=null;function Yn(){if(Vn)return Vn;var e,n,t=Gn,a=t.length,r="value"in Qn?Qn.value:Qn.textContent,o=r.length;for(e=0;e<a&&t[e]===r[e];e++);var i=a-e;for(n=1;n<=i&&t[a-n]===r[o-n];n++);return Vn=r.slice(e,1<n?1-n:void 0)}function Jn(e){var n=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===n&&(e=13):e=n,10===e&&(e=13),32<=e||13===e?e:0}function $n(){return!0}function Kn(){return!1}function Xn(e){function n(n,t,a,r,o){for(var i in this._reactName=n,this._targetInst=a,this.type=t,this.nativeEvent=r,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(i)&&(n=e[i],this[i]=n?n(r):r[i]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?$n:Kn,this.isPropagationStopped=Kn,this}return m(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=$n)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=$n)},persist:function(){},isPersistent:$n}),n}var Zn,et,nt,tt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},at=Xn(tt),rt=m({},tt,{view:0,detail:0}),ot=Xn(rt),it=m({},rt,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bt,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==nt&&(nt&&"mousemove"===e.type?(Zn=e.screenX-nt.screenX,et=e.screenY-nt.screenY):et=Zn=0,nt=e),Zn)},movementY:function(e){return"movementY"in e?e.movementY:et}}),st=Xn(it),lt=Xn(m({},it,{dataTransfer:0})),ct=Xn(m({},rt,{relatedTarget:0})),ut=Xn(m({},tt,{animationName:0,elapsedTime:0,pseudoElement:0})),dt=Xn(m({},tt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),pt=Xn(m({},tt,{data:0})),mt={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ft={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ht(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):!!(e=gt[e])&&!!n[e]}function bt(){return ht}var yt=Xn(m({},rt,{key:function(e){if(e.key){var n=mt[e.key]||e.key;if("Unidentified"!==n)return n}return"keypress"===e.type?13===(e=Jn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?ft[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bt,charCode:function(e){return"keypress"===e.type?Jn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Jn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),vt=Xn(m({},it,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Et=Xn(m({},rt,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bt})),St=Xn(m({},tt,{propertyName:0,elapsedTime:0,pseudoElement:0})),xt=Xn(m({},it,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),Tt=Xn(m({},tt,{newState:0,oldState:0})),Ct=[9,13,27,32],Rt=Bn&&"CompositionEvent"in window,Nt=null;Bn&&"documentMode"in document&&(Nt=document.documentMode);var kt=Bn&&"TextEvent"in window&&!Nt,Lt=Bn&&(!Rt||Nt&&8<Nt&&11>=Nt),At=String.fromCharCode(32),wt=!1;function It(e,n){switch(e){case"keyup":return-1!==Ct.indexOf(n.keyCode);case"keydown":return 229!==n.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ot(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Pt=!1;var qt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _t(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===n?!!qt[e.type]:"textarea"===n}function jt(e,n,t,a){jn?Dn?Dn.push(a):Dn=[a]:jn=a,0<(n=ad(n,"onChange")).length&&(t=new at("onChange","change",null,t,a),e.push({event:t,listeners:n}))}var Dt=null,Ut=null;function zt(e){Ju(e,0)}function Mt(e){if(gn(Xe(e)))return e}function Ft(e,n){if("change"===e)return n}var Bt=!1;if(Bn){var Ht;if(Bn){var Wt="oninput"in document;if(!Wt){var Qt=document.createElement("div");Qt.setAttribute("oninput","return;"),Wt="function"===typeof Qt.oninput}Ht=Wt}else Ht=!1;Bt=Ht&&(!document.documentMode||9<document.documentMode)}function Gt(){Dt&&(Dt.detachEvent("onpropertychange",Vt),Ut=Dt=null)}function Vt(e){if("value"===e.propertyName&&Mt(Ut)){var n=[];jt(n,Ut,e,_n(e)),Mn(zt,n)}}function Yt(e,n,t){"focusin"===e?(Gt(),Ut=t,(Dt=n).attachEvent("onpropertychange",Vt)):"focusout"===e&&Gt()}function Jt(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Mt(Ut)}function $t(e,n){if("click"===e)return Mt(n)}function Kt(e,n){if("input"===e||"change"===e)return Mt(n)}var Xt="function"===typeof Object.is?Object.is:function(e,n){return e===n&&(0!==e||1/e===1/n)||e!==e&&n!==n};function Zt(e,n){if(Xt(e,n))return!0;if("object"!==typeof e||null===e||"object"!==typeof n||null===n)return!1;var t=Object.keys(e),a=Object.keys(n);if(t.length!==a.length)return!1;for(a=0;a<t.length;a++){var r=t[a];if(!ae.call(n,r)||!Xt(e[r],n[r]))return!1}return!0}function ea(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function na(e,n){var t,a=ea(e);for(e=0;a;){if(3===a.nodeType){if(t=e+a.textContent.length,e<=n&&t>=n)return{node:a,offset:n-e};e=t}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=ea(a)}}function ta(e,n){return!(!e||!n)&&(e===n||(!e||3!==e.nodeType)&&(n&&3===n.nodeType?ta(e,n.parentNode):"contains"in e?e.contains(n):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(n))))}function aa(e){for(var n=hn((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);n instanceof e.HTMLIFrameElement;){try{var t="string"===typeof n.contentWindow.location.href}catch(a){t=!1}if(!t)break;n=hn((e=n.contentWindow).document)}return n}function ra(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&("input"===n&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===n||"true"===e.contentEditable)}var oa=Bn&&"documentMode"in document&&11>=document.documentMode,ia=null,sa=null,la=null,ca=!1;function ua(e,n,t){var a=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;ca||null==ia||ia!==hn(a)||("selectionStart"in(a=ia)&&ra(a)?a={start:a.selectionStart,end:a.selectionEnd}:a={anchorNode:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset},la&&Zt(la,a)||(la=a,0<(a=ad(sa,"onSelect")).length&&(n=new at("onSelect","select",null,n,t),e.push({event:n,listeners:a}),n.target=ia)))}function da(e,n){var t={};return t[e.toLowerCase()]=n.toLowerCase(),t["Webkit"+e]="webkit"+n,t["Moz"+e]="moz"+n,t}var pa={animationend:da("Animation","AnimationEnd"),animationiteration:da("Animation","AnimationIteration"),animationstart:da("Animation","AnimationStart"),transitionrun:da("Transition","TransitionRun"),transitionstart:da("Transition","TransitionStart"),transitioncancel:da("Transition","TransitionCancel"),transitionend:da("Transition","TransitionEnd")},ma={},fa={};function ga(e){if(ma[e])return ma[e];if(!pa[e])return e;var n,t=pa[e];for(n in t)if(t.hasOwnProperty(n)&&n in fa)return ma[e]=t[n];return e}Bn&&(fa=document.createElement("div").style,"AnimationEvent"in window||(delete pa.animationend.animation,delete pa.animationiteration.animation,delete pa.animationstart.animation),"TransitionEvent"in window||delete pa.transitionend.transition);var ha=ga("animationend"),ba=ga("animationiteration"),ya=ga("animationstart"),va=ga("transitionrun"),Ea=ga("transitionstart"),Sa=ga("transitioncancel"),xa=ga("transitionend"),Ta=new Map,Ca="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ra(e,n){Ta.set(e,n),an(n,[e])}Ca.push("scrollEnd");var Na="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},ka=[],La=0,Aa=0;function wa(){for(var e=La,n=Aa=La=0;n<e;){var t=ka[n];ka[n++]=null;var a=ka[n];ka[n++]=null;var r=ka[n];ka[n++]=null;var o=ka[n];if(ka[n++]=null,null!==a&&null!==r){var i=a.pending;null===i?r.next=r:(r.next=i.next,i.next=r),a.pending=r}0!==o&&qa(t,r,o)}}function Ia(e,n,t,a){ka[La++]=e,ka[La++]=n,ka[La++]=t,ka[La++]=a,Aa|=a,e.lanes|=a,null!==(e=e.alternate)&&(e.lanes|=a)}function Oa(e,n,t,a){return Ia(e,n,t,a),_a(e)}function Pa(e,n){return Ia(e,null,null,n),_a(e)}function qa(e,n,t){e.lanes|=t;var a=e.alternate;null!==a&&(a.lanes|=t);for(var r=!1,o=e.return;null!==o;)o.childLanes|=t,null!==(a=o.alternate)&&(a.childLanes|=t),22===o.tag&&(null===(e=o.stateNode)||1&e._visibility||(r=!0)),e=o,o=o.return;return 3===e.tag?(o=e.stateNode,r&&null!==n&&(r=31-Ee(t),null===(a=(e=o.hiddenUpdates)[r])?e[r]=[n]:a.push(n),n.lane=536870912|t),o):null}function _a(e){if(50<Wc)throw Wc=0,Qc=null,Error(i(185));for(var n=e.return;null!==n;)n=(e=n).return;return 3===e.tag?e.stateNode:null}var ja={};function Da(e,n,t,a){this.tag=e,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ua(e,n,t,a){return new Da(e,n,t,a)}function za(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ma(e,n){var t=e.alternate;return null===t?((t=Ua(e.tag,n,e.key,e.mode)).elementType=e.elementType,t.type=e.type,t.stateNode=e.stateNode,t.alternate=e,e.alternate=t):(t.pendingProps=n,t.type=e.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=65011712&e.flags,t.childLanes=e.childLanes,t.lanes=e.lanes,t.child=e.child,t.memoizedProps=e.memoizedProps,t.memoizedState=e.memoizedState,t.updateQueue=e.updateQueue,n=e.dependencies,t.dependencies=null===n?null:{lanes:n.lanes,firstContext:n.firstContext},t.sibling=e.sibling,t.index=e.index,t.ref=e.ref,t.refCleanup=e.refCleanup,t}function Fa(e,n){e.flags&=65011714;var t=e.alternate;return null===t?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=t.childLanes,e.lanes=t.lanes,e.child=t.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=t.memoizedProps,e.memoizedState=t.memoizedState,e.updateQueue=t.updateQueue,e.type=t.type,n=t.dependencies,e.dependencies=null===n?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Ba(e,n,t,a,r,o){var s=0;if(a=e,"function"===typeof e)za(e)&&(s=1);else if("string"===typeof e)s=function(e,n,t){if(1===t||null!=n.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof n.precedence||"string"!==typeof n.href||""===n.href)break;return!0;case"link":if("string"!==typeof n.rel||"string"!==typeof n.href||""===n.href||n.onLoad||n.onError)break;return"stylesheet"!==n.rel||(e=n.disabled,"string"===typeof n.precedence&&null==e);case"script":if(n.async&&"function"!==typeof n.async&&"symbol"!==typeof n.async&&!n.onLoad&&!n.onError&&n.src&&"string"===typeof n.src)return!0}return!1}(e,t,W.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case k:return(e=Ua(31,t,n,r)).elementType=k,e.lanes=o,e;case b:return Ha(t.children,r,o,n);case y:s=8,r|=24;break;case v:return(e=Ua(12,t,n,2|r)).elementType=v,e.lanes=o,e;case T:return(e=Ua(13,t,n,r)).elementType=T,e.lanes=o,e;case C:return(e=Ua(19,t,n,r)).elementType=C,e.lanes=o,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case S:s=10;break e;case E:s=9;break e;case x:s=11;break e;case R:s=14;break e;case N:s=16,a=null;break e}s=29,t=Error(i(130,null===e?"null":typeof e,"")),a=null}return(n=Ua(s,t,n,r)).elementType=e,n.type=a,n.lanes=o,n}function Ha(e,n,t,a){return(e=Ua(7,e,a,n)).lanes=t,e}function Wa(e,n,t){return(e=Ua(6,e,null,n)).lanes=t,e}function Qa(e){var n=Ua(18,null,null,0);return n.stateNode=e,n}function Ga(e,n,t){return(n=Ua(4,null!==e.children?e.children:[],e.key,n)).lanes=t,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Va=new WeakMap;function Ya(e,n){if("object"===typeof e&&null!==e){var t=Va.get(e);return void 0!==t?t:(n={value:e,source:n,stack:te(n)},Va.set(e,n),n)}return{value:e,source:n,stack:te(n)}}var Ja=[],$a=0,Ka=null,Xa=0,Za=[],er=0,nr=null,tr=1,ar="";function rr(e,n){Ja[$a++]=Xa,Ja[$a++]=Ka,Ka=e,Xa=n}function or(e,n,t){Za[er++]=tr,Za[er++]=ar,Za[er++]=nr,nr=e;var a=tr;e=ar;var r=32-Ee(a)-1;a&=~(1<<r),t+=1;var o=32-Ee(n)+r;if(30<o){var i=r-r%5;o=(a&(1<<i)-1).toString(32),a>>=i,r-=i,tr=1<<32-Ee(n)+r|t<<r|a,ar=o+e}else tr=1<<o|t<<r|a,ar=e}function ir(e){null!==e.return&&(rr(e,1),or(e,1,0))}function sr(e){for(;e===Ka;)Ka=Ja[--$a],Ja[$a]=null,Xa=Ja[--$a],Ja[$a]=null;for(;e===nr;)nr=Za[--er],Za[er]=null,ar=Za[--er],Za[er]=null,tr=Za[--er],Za[er]=null}function lr(e,n){Za[er++]=tr,Za[er++]=ar,Za[er++]=nr,tr=n.id,ar=n.overflow,nr=e}var cr=null,ur=null,dr=!1,pr=null,mr=!1,fr=Error(i(519));function gr(e){throw Sr(Ya(Error(i(418,1<arguments.length&&void 0!==arguments[1]&&arguments[1]?"text":"HTML","")),e)),fr}function hr(e){var n=e.stateNode,t=e.type,a=e.memoizedProps;switch(n[Fe]=e,n[Be]=a,t){case"dialog":$u("cancel",n),$u("close",n);break;case"iframe":case"object":case"embed":$u("load",n);break;case"video":case"audio":for(t=0;t<Vu.length;t++)$u(Vu[t],n);break;case"source":$u("error",n);break;case"img":case"image":case"link":$u("error",n),$u("load",n);break;case"details":$u("toggle",n);break;case"input":$u("invalid",n),En(n,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0);break;case"select":$u("invalid",n);break;case"textarea":$u("invalid",n),Cn(n,a.value,a.defaultValue,a.children)}"string"!==typeof(t=a.children)&&"number"!==typeof t&&"bigint"!==typeof t||n.textContent===""+t||!0===a.suppressHydrationWarning||cd(n.textContent,t)?(null!=a.popover&&($u("beforetoggle",n),$u("toggle",n)),null!=a.onScroll&&$u("scroll",n),null!=a.onScrollEnd&&$u("scrollend",n),null!=a.onClick&&(n.onclick=Pn),n=!0):n=!1,n||gr(e,!0)}function br(e){for(cr=e.return;cr;)switch(cr.tag){case 5:case 31:case 13:return void(mr=!1);case 27:case 3:return void(mr=!0);default:cr=cr.return}}function yr(e){if(e!==cr)return!1;if(!dr)return br(e),dr=!0,!1;var n,t=e.tag;if((n=3!==t&&27!==t)&&((n=5===t)&&(n=!("form"!==(n=e.type)&&"button"!==n)||vd(e.type,e.memoizedProps)),n=!n),n&&ur&&gr(e),br(e),13===t){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));ur=_d(e)}else if(31===t){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));ur=_d(e)}else 27===t?(t=ur,Nd(e.type)?(e=qd,qd=null,ur=e):ur=t):ur=cr?Pd(e.stateNode.nextSibling):null;return!0}function vr(){ur=cr=null,dr=!1}function Er(){var e=pr;return null!==e&&(null===wc?wc=e:wc.push.apply(wc,e),pr=null),e}function Sr(e){null===pr?pr=[e]:pr.push(e)}var xr=z(null),Tr=null,Cr=null;function Rr(e,n,t){F(xr,n._currentValue),n._currentValue=t}function Nr(e){e._currentValue=xr.current,M(xr)}function kr(e,n,t){for(;null!==e;){var a=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,null!==a&&(a.childLanes|=n)):null!==a&&(a.childLanes&n)!==n&&(a.childLanes|=n),e===t)break;e=e.return}}function Lr(e,n,t,a){var r=e.child;for(null!==r&&(r.return=e);null!==r;){var o=r.dependencies;if(null!==o){var s=r.child;o=o.firstContext;e:for(;null!==o;){var l=o;o=r;for(var c=0;c<n.length;c++)if(l.context===n[c]){o.lanes|=t,null!==(l=o.alternate)&&(l.lanes|=t),kr(o.return,t,e),a||(s=null);break e}o=l.next}}else if(18===r.tag){if(null===(s=r.return))throw Error(i(341));s.lanes|=t,null!==(o=s.alternate)&&(o.lanes|=t),kr(s,t,e),s=null}else s=r.child;if(null!==s)s.return=r;else for(s=r;null!==s;){if(s===e){s=null;break}if(null!==(r=s.sibling)){r.return=s.return,s=r;break}s=s.return}r=s}}function Ar(e,n,t,a){e=null;for(var r=n,o=!1;null!==r;){if(!o)if(0!==(524288&r.flags))o=!0;else if(0!==(262144&r.flags))break;if(10===r.tag){var s=r.alternate;if(null===s)throw Error(i(387));if(null!==(s=s.memoizedProps)){var l=r.type;Xt(r.pendingProps.value,s.value)||(null!==e?e.push(l):e=[l])}}else if(r===V.current){if(null===(s=r.alternate))throw Error(i(387));s.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(null!==e?e.push(up):e=[up])}r=r.return}null!==e&&Lr(n,e,t,a),n.flags|=262144}function wr(e){for(e=e.firstContext;null!==e;){if(!Xt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ir(e){Tr=e,Cr=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Or(e){return qr(Tr,e)}function Pr(e,n){return null===Tr&&Ir(e),qr(e,n)}function qr(e,n){var t=n._currentValue;if(n={context:n,memoizedValue:t,next:null},null===Cr){if(null===e)throw Error(i(308));Cr=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Cr=Cr.next=n;return t}var _r="undefined"!==typeof AbortController?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(n,t){e.push(t)}};this.abort=function(){n.aborted=!0,e.forEach(function(e){return e()})}},jr=a.unstable_scheduleCallback,Dr=a.unstable_NormalPriority,Ur={$$typeof:S,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function zr(){return{controller:new _r,data:new Map,refCount:0}}function Mr(e){e.refCount--,0===e.refCount&&jr(Dr,function(){e.controller.abort()})}var Fr=null,Br=0,Hr=0,Wr=null;function Qr(){if(0===--Br&&null!==Fr){null!==Wr&&(Wr.status="fulfilled");var e=Fr;Fr=null,Hr=0,Wr=null;for(var n=0;n<e.length;n++)(0,e[n])()}}var Gr=q.S;q.S=function(e,n){Pc=le(),"object"===typeof n&&null!==n&&"function"===typeof n.then&&function(e,n){if(null===Fr){var t=Fr=[];Br=0,Hr=Bu(),Wr={status:"pending",value:void 0,then:function(e){t.push(e)}}}Br++,n.then(Qr,Qr)}(0,n),null!==Gr&&Gr(e,n)};var Vr=z(null);function Yr(){var e=Vr.current;return null!==e?e:fc.pooledCache}function Jr(e,n){F(Vr,null===n?Vr.current:n.pool)}function $r(){var e=Yr();return null===e?null:{parent:Ur._currentValue,pool:e}}var Kr=Error(i(460)),Xr=Error(i(474)),Zr=Error(i(542)),eo={then:function(){}};function no(e){return"fulfilled"===(e=e.status)||"rejected"===e}function to(e,n,t){switch(void 0===(t=e[t])?e.push(n):t!==n&&(n.then(Pn,Pn),n=t),n.status){case"fulfilled":return n.value;case"rejected":throw io(e=n.reason),e;default:if("string"===typeof n.status)n.then(Pn,Pn);else{if(null!==(e=fc)&&100<e.shellSuspendCounter)throw Error(i(482));(e=n).status="pending",e.then(function(e){if("pending"===n.status){var t=n;t.status="fulfilled",t.value=e}},function(e){if("pending"===n.status){var t=n;t.status="rejected",t.reason=e}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw io(e=n.reason),e}throw ro=n,Kr}}function ao(e){try{return(0,e._init)(e._payload)}catch(n){if(null!==n&&"object"===typeof n&&"function"===typeof n.then)throw ro=n,Kr;throw n}}var ro=null;function oo(){if(null===ro)throw Error(i(459));var e=ro;return ro=null,e}function io(e){if(e===Kr||e===Zr)throw Error(i(483))}var so=null,lo=0;function co(e){var n=lo;return lo+=1,null===so&&(so=[]),to(so,e,n)}function uo(e,n){n=n.props.ref,e.ref=void 0!==n?n:null}function po(e,n){if(n.$$typeof===f)throw Error(i(525));throw e=Object.prototype.toString.call(n),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(n).join(", ")+"}":e))}function mo(e){function n(n,t){if(e){var a=n.deletions;null===a?(n.deletions=[t],n.flags|=16):a.push(t)}}function t(t,a){if(!e)return null;for(;null!==a;)n(t,a),a=a.sibling;return null}function a(e){for(var n=new Map;null!==e;)null!==e.key?n.set(e.key,e):n.set(e.index,e),e=e.sibling;return n}function r(e,n){return(e=Ma(e,n)).index=0,e.sibling=null,e}function o(n,t,a){return n.index=a,e?null!==(a=n.alternate)?(a=a.index)<t?(n.flags|=67108866,t):a:(n.flags|=67108866,t):(n.flags|=1048576,t)}function s(n){return e&&null===n.alternate&&(n.flags|=67108866),n}function l(e,n,t,a){return null===n||6!==n.tag?((n=Wa(t,e.mode,a)).return=e,n):((n=r(n,t)).return=e,n)}function c(e,n,t,a){var o=t.type;return o===b?d(e,n,t.props.children,a,t.key):null!==n&&(n.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===N&&ao(o)===n.type)?(uo(n=r(n,t.props),t),n.return=e,n):(uo(n=Ba(t.type,t.key,t.props,null,e.mode,a),t),n.return=e,n)}function u(e,n,t,a){return null===n||4!==n.tag||n.stateNode.containerInfo!==t.containerInfo||n.stateNode.implementation!==t.implementation?((n=Ga(t,e.mode,a)).return=e,n):((n=r(n,t.children||[])).return=e,n)}function d(e,n,t,a,o){return null===n||7!==n.tag?((n=Ha(t,e.mode,a,o)).return=e,n):((n=r(n,t)).return=e,n)}function p(e,n,t){if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return(n=Wa(""+n,e.mode,t)).return=e,n;if("object"===typeof n&&null!==n){switch(n.$$typeof){case g:return uo(t=Ba(n.type,n.key,n.props,null,e.mode,t),n),t.return=e,t;case h:return(n=Ga(n,e.mode,t)).return=e,n;case N:return p(e,n=ao(n),t)}if(P(n)||w(n))return(n=Ha(n,e.mode,t,null)).return=e,n;if("function"===typeof n.then)return p(e,co(n),t);if(n.$$typeof===S)return p(e,Pr(e,n),t);po(e,n)}return null}function m(e,n,t,a){var r=null!==n?n.key:null;if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return null!==r?null:l(e,n,""+t,a);if("object"===typeof t&&null!==t){switch(t.$$typeof){case g:return t.key===r?c(e,n,t,a):null;case h:return t.key===r?u(e,n,t,a):null;case N:return m(e,n,t=ao(t),a)}if(P(t)||w(t))return null!==r?null:d(e,n,t,a,null);if("function"===typeof t.then)return m(e,n,co(t),a);if(t.$$typeof===S)return m(e,n,Pr(e,t),a);po(e,t)}return null}function f(e,n,t,a,r){if("string"===typeof a&&""!==a||"number"===typeof a||"bigint"===typeof a)return l(n,e=e.get(t)||null,""+a,r);if("object"===typeof a&&null!==a){switch(a.$$typeof){case g:return c(n,e=e.get(null===a.key?t:a.key)||null,a,r);case h:return u(n,e=e.get(null===a.key?t:a.key)||null,a,r);case N:return f(e,n,t,a=ao(a),r)}if(P(a)||w(a))return d(n,e=e.get(t)||null,a,r,null);if("function"===typeof a.then)return f(e,n,t,co(a),r);if(a.$$typeof===S)return f(e,n,t,Pr(n,a),r);po(n,a)}return null}function y(l,c,u,d){if("object"===typeof u&&null!==u&&u.type===b&&null===u.key&&(u=u.props.children),"object"===typeof u&&null!==u){switch(u.$$typeof){case g:e:{for(var v=u.key;null!==c;){if(c.key===v){if((v=u.type)===b){if(7===c.tag){t(l,c.sibling),(d=r(c,u.props.children)).return=l,l=d;break e}}else if(c.elementType===v||"object"===typeof v&&null!==v&&v.$$typeof===N&&ao(v)===c.type){t(l,c.sibling),uo(d=r(c,u.props),u),d.return=l,l=d;break e}t(l,c);break}n(l,c),c=c.sibling}u.type===b?((d=Ha(u.props.children,l.mode,d,u.key)).return=l,l=d):(uo(d=Ba(u.type,u.key,u.props,null,l.mode,d),u),d.return=l,l=d)}return s(l);case h:e:{for(v=u.key;null!==c;){if(c.key===v){if(4===c.tag&&c.stateNode.containerInfo===u.containerInfo&&c.stateNode.implementation===u.implementation){t(l,c.sibling),(d=r(c,u.children||[])).return=l,l=d;break e}t(l,c);break}n(l,c),c=c.sibling}(d=Ga(u,l.mode,d)).return=l,l=d}return s(l);case N:return y(l,c,u=ao(u),d)}if(P(u))return function(r,i,s,l){for(var c=null,u=null,d=i,g=i=0,h=null;null!==d&&g<s.length;g++){d.index>g?(h=d,d=null):h=d.sibling;var b=m(r,d,s[g],l);if(null===b){null===d&&(d=h);break}e&&d&&null===b.alternate&&n(r,d),i=o(b,i,g),null===u?c=b:u.sibling=b,u=b,d=h}if(g===s.length)return t(r,d),dr&&rr(r,g),c;if(null===d){for(;g<s.length;g++)null!==(d=p(r,s[g],l))&&(i=o(d,i,g),null===u?c=d:u.sibling=d,u=d);return dr&&rr(r,g),c}for(d=a(d);g<s.length;g++)null!==(h=f(d,r,g,s[g],l))&&(e&&null!==h.alternate&&d.delete(null===h.key?g:h.key),i=o(h,i,g),null===u?c=h:u.sibling=h,u=h);return e&&d.forEach(function(e){return n(r,e)}),dr&&rr(r,g),c}(l,c,u,d);if(w(u)){if("function"!==typeof(v=w(u)))throw Error(i(150));return function(r,s,l,c){if(null==l)throw Error(i(151));for(var u=null,d=null,g=s,h=s=0,b=null,y=l.next();null!==g&&!y.done;h++,y=l.next()){g.index>h?(b=g,g=null):b=g.sibling;var v=m(r,g,y.value,c);if(null===v){null===g&&(g=b);break}e&&g&&null===v.alternate&&n(r,g),s=o(v,s,h),null===d?u=v:d.sibling=v,d=v,g=b}if(y.done)return t(r,g),dr&&rr(r,h),u;if(null===g){for(;!y.done;h++,y=l.next())null!==(y=p(r,y.value,c))&&(s=o(y,s,h),null===d?u=y:d.sibling=y,d=y);return dr&&rr(r,h),u}for(g=a(g);!y.done;h++,y=l.next())null!==(y=f(g,r,h,y.value,c))&&(e&&null!==y.alternate&&g.delete(null===y.key?h:y.key),s=o(y,s,h),null===d?u=y:d.sibling=y,d=y);return e&&g.forEach(function(e){return n(r,e)}),dr&&rr(r,h),u}(l,c,u=v.call(u),d)}if("function"===typeof u.then)return y(l,c,co(u),d);if(u.$$typeof===S)return y(l,c,Pr(l,u),d);po(l,u)}return"string"===typeof u&&""!==u||"number"===typeof u||"bigint"===typeof u?(u=""+u,null!==c&&6===c.tag?(t(l,c.sibling),(d=r(c,u)).return=l,l=d):(t(l,c),(d=Wa(u,l.mode,d)).return=l,l=d),s(l)):t(l,c)}return function(e,n,t,a){try{lo=0;var r=y(e,n,t,a);return so=null,r}catch(i){if(i===Kr||i===Zr)throw i;var o=Ua(29,i,null,e.mode);return o.lanes=a,o.return=e,o}}}var fo=mo(!0),go=mo(!1),ho=!1;function bo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function yo(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function vo(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Eo(e,n,t){var a=e.updateQueue;if(null===a)return null;if(a=a.shared,0!==(2&mc)){var r=a.pending;return null===r?n.next=n:(n.next=r.next,r.next=n),a.pending=n,n=_a(e),qa(e,null,t),n}return Ia(e,a,n,t),_a(e)}function So(e,n,t){if(null!==(n=n.updateQueue)&&(n=n.shared,0!==(4194048&t))){var a=n.lanes;t|=a&=e.pendingLanes,n.lanes=t,qe(e,t)}}function xo(e,n){var t=e.updateQueue,a=e.alternate;if(null!==a&&t===(a=a.updateQueue)){var r=null,o=null;if(null!==(t=t.firstBaseUpdate)){do{var i={lane:t.lane,tag:t.tag,payload:t.payload,callback:null,next:null};null===o?r=o=i:o=o.next=i,t=t.next}while(null!==t);null===o?r=o=n:o=o.next=n}else r=o=n;return t={baseState:a.baseState,firstBaseUpdate:r,lastBaseUpdate:o,shared:a.shared,callbacks:a.callbacks},void(e.updateQueue=t)}null===(e=t.lastBaseUpdate)?t.firstBaseUpdate=n:e.next=n,t.lastBaseUpdate=n}var To=!1;function Co(){if(To){if(null!==Wr)throw Wr}}function Ro(e,n,t,a){To=!1;var r=e.updateQueue;ho=!1;var o=r.firstBaseUpdate,i=r.lastBaseUpdate,s=r.shared.pending;if(null!==s){r.shared.pending=null;var l=s,c=l.next;l.next=null,null===i?o=c:i.next=c,i=l;var u=e.alternate;null!==u&&((s=(u=u.updateQueue).lastBaseUpdate)!==i&&(null===s?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(null!==o){var d=r.baseState;for(i=0,u=c=l=null,s=o;;){var p=-536870913&s.lane,f=p!==s.lane;if(f?(hc&p)===p:(a&p)===p){0!==p&&p===Hr&&(To=!0),null!==u&&(u=u.next={lane:0,tag:s.tag,payload:s.payload,callback:null,next:null});e:{var g=e,h=s;p=n;var b=t;switch(h.tag){case 1:if("function"===typeof(g=h.payload)){d=g.call(b,d,p);break e}d=g;break e;case 3:g.flags=-65537&g.flags|128;case 0:if(null===(p="function"===typeof(g=h.payload)?g.call(b,d,p):g)||void 0===p)break e;d=m({},d,p);break e;case 2:ho=!0}}null!==(p=s.callback)&&(e.flags|=64,f&&(e.flags|=8192),null===(f=r.callbacks)?r.callbacks=[p]:f.push(p))}else f={lane:p,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,i|=p;if(null===(s=s.next)){if(null===(s=r.shared.pending))break;s=(f=s).next,f.next=null,r.lastBaseUpdate=f,r.shared.pending=null}}null===u&&(l=d),r.baseState=l,r.firstBaseUpdate=c,r.lastBaseUpdate=u,null===o&&(r.shared.lanes=0),Cc|=i,e.lanes=i,e.memoizedState=d}}function No(e,n){if("function"!==typeof e)throw Error(i(191,e));e.call(n)}function ko(e,n){var t=e.callbacks;if(null!==t)for(e.callbacks=null,e=0;e<t.length;e++)No(t[e],n)}var Lo=z(null),Ao=z(0);function wo(e,n){F(Ao,e=xc),F(Lo,n),xc=e|n.baseLanes}function Io(){F(Ao,xc),F(Lo,Lo.current)}function Oo(){xc=Ao.current,M(Lo),M(Ao)}var Po=z(null),qo=null;function _o(e){var n=e.alternate;F(Mo,1&Mo.current),F(Po,e),null===qo&&(null===n||null!==Lo.current||null!==n.memoizedState)&&(qo=e)}function jo(e){F(Mo,Mo.current),F(Po,e),null===qo&&(qo=e)}function Do(e){22===e.tag?(F(Mo,Mo.current),F(Po,e),null===qo&&(qo=e)):Uo()}function Uo(){F(Mo,Mo.current),F(Po,Po.current)}function zo(e){M(Po),qo===e&&(qo=null),M(Mo)}var Mo=z(0);function Fo(e){for(var n=e;null!==n;){if(13===n.tag){var t=n.memoizedState;if(null!==t&&(null===(t=t.dehydrated)||Id(t)||Od(t)))return n}else if(19!==n.tag||"forwards"!==n.memoizedProps.revealOrder&&"backwards"!==n.memoizedProps.revealOrder&&"unstable_legacy-backwards"!==n.memoizedProps.revealOrder&&"together"!==n.memoizedProps.revealOrder){if(null!==n.child){n.child.return=n,n=n.child;continue}}else if(0!==(128&n.flags))return n;if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Bo=0,Ho=null,Wo=null,Qo=null,Go=!1,Vo=!1,Yo=!1,Jo=0,$o=0,Ko=null,Xo=0;function Zo(){throw Error(i(321))}function ei(e,n){if(null===n)return!1;for(var t=0;t<n.length&&t<e.length;t++)if(!Xt(e[t],n[t]))return!1;return!0}function ni(e,n,t,a,r,o){return Bo=o,Ho=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,q.H=null===e||null===e.memoizedState?hs:bs,Yo=!1,o=t(a,r),Yo=!1,Vo&&(o=ai(n,t,a,r)),ti(e),o}function ti(e){q.H=gs;var n=null!==Wo&&null!==Wo.next;if(Bo=0,Qo=Wo=Ho=null,Go=!1,$o=0,Ko=null,n)throw Error(i(300));null===e||Ps||null!==(e=e.dependencies)&&wr(e)&&(Ps=!0)}function ai(e,n,t,a){Ho=e;var r=0;do{if(Vo&&(Ko=null),$o=0,Vo=!1,25<=r)throw Error(i(301));if(r+=1,Qo=Wo=null,null!=e.updateQueue){var o=e.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,null!=o.memoCache&&(o.memoCache.index=0)}q.H=ys,o=n(t,a)}while(Vo);return o}function ri(){var e=q.H,n=e.useState()[0];return n="function"===typeof n.then?ui(n):n,e=e.useState()[0],(null!==Wo?Wo.memoizedState:null)!==e&&(Ho.flags|=1024),n}function oi(){var e=0!==Jo;return Jo=0,e}function ii(e,n,t){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~t}function si(e){if(Go){for(e=e.memoizedState;null!==e;){var n=e.queue;null!==n&&(n.pending=null),e=e.next}Go=!1}Bo=0,Qo=Wo=Ho=null,Vo=!1,$o=Jo=0,Ko=null}function li(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Qo?Ho.memoizedState=Qo=e:Qo=Qo.next=e,Qo}function ci(){if(null===Wo){var e=Ho.alternate;e=null!==e?e.memoizedState:null}else e=Wo.next;var n=null===Qo?Ho.memoizedState:Qo.next;if(null!==n)Qo=n,Wo=e;else{if(null===e){if(null===Ho.alternate)throw Error(i(467));throw Error(i(310))}e={memoizedState:(Wo=e).memoizedState,baseState:Wo.baseState,baseQueue:Wo.baseQueue,queue:Wo.queue,next:null},null===Qo?Ho.memoizedState=Qo=e:Qo=Qo.next=e}return Qo}function ui(e){var n=$o;return $o+=1,null===Ko&&(Ko=[]),e=to(Ko,e,n),n=Ho,null===(null===Qo?n.memoizedState:Qo.next)&&(n=n.alternate,q.H=null===n||null===n.memoizedState?hs:bs),e}function di(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return ui(e);if(e.$$typeof===S)return Or(e)}throw Error(i(438,String(e)))}function pi(e){var n=null,t=Ho.updateQueue;if(null!==t&&(n=t.memoCache),null==n){var a=Ho.alternate;null!==a&&(null!==(a=a.updateQueue)&&(null!=(a=a.memoCache)&&(n={data:a.data.map(function(e){return e.slice()}),index:0})))}if(null==n&&(n={data:[],index:0}),null===t&&(t={lastEffect:null,events:null,stores:null,memoCache:null},Ho.updateQueue=t),t.memoCache=n,void 0===(t=n.data[n.index]))for(t=n.data[n.index]=Array(e),a=0;a<e;a++)t[a]=L;return n.index++,t}function mi(e,n){return"function"===typeof n?n(e):n}function fi(e){return gi(ci(),Wo,e)}function gi(e,n,t){var a=e.queue;if(null===a)throw Error(i(311));a.lastRenderedReducer=t;var r=e.baseQueue,o=a.pending;if(null!==o){if(null!==r){var s=r.next;r.next=o.next,o.next=s}n.baseQueue=r=o,a.pending=null}if(o=e.baseState,null===r)e.memoizedState=o;else{var l=s=null,c=null,u=n=r.next,d=!1;do{var p=-536870913&u.lane;if(p!==u.lane?(hc&p)===p:(Bo&p)===p){var m=u.revertLane;if(0===m)null!==c&&(c=c.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),p===Hr&&(d=!0);else{if((Bo&m)===m){u=u.next,m===Hr&&(d=!0);continue}p={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=p,s=o):c=c.next=p,Ho.lanes|=m,Cc|=m}p=u.action,Yo&&t(o,p),o=u.hasEagerState?u.eagerState:t(o,p)}else m={lane:p,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=m,s=o):c=c.next=m,Ho.lanes|=p,Cc|=p;u=u.next}while(null!==u&&u!==n);if(null===c?s=o:c.next=l,!Xt(o,e.memoizedState)&&(Ps=!0,d&&null!==(t=Wr)))throw t;e.memoizedState=o,e.baseState=s,e.baseQueue=c,a.lastRenderedState=o}return null===r&&(a.lanes=0),[e.memoizedState,a.dispatch]}function hi(e){var n=ci(),t=n.queue;if(null===t)throw Error(i(311));t.lastRenderedReducer=e;var a=t.dispatch,r=t.pending,o=n.memoizedState;if(null!==r){t.pending=null;var s=r=r.next;do{o=e(o,s.action),s=s.next}while(s!==r);Xt(o,n.memoizedState)||(Ps=!0),n.memoizedState=o,null===n.baseQueue&&(n.baseState=o),t.lastRenderedState=o}return[o,a]}function bi(e,n,t){var a=Ho,r=ci(),o=dr;if(o){if(void 0===t)throw Error(i(407));t=t()}else t=n();var s=!Xt((Wo||r).memoizedState,t);if(s&&(r.memoizedState=t,Ps=!0),r=r.queue,Bi(Ei.bind(null,a,r,e),[e]),r.getSnapshot!==n||s||null!==Qo&&1&Qo.memoizedState.tag){if(a.flags|=2048,Di(9,{destroy:void 0},vi.bind(null,a,r,t,n),null),null===fc)throw Error(i(349));o||0!==(127&Bo)||yi(a,n,t)}return t}function yi(e,n,t){e.flags|=16384,e={getSnapshot:n,value:t},null===(n=Ho.updateQueue)?(n={lastEffect:null,events:null,stores:null,memoCache:null},Ho.updateQueue=n,n.stores=[e]):null===(t=n.stores)?n.stores=[e]:t.push(e)}function vi(e,n,t,a){n.value=t,n.getSnapshot=a,Si(n)&&xi(e)}function Ei(e,n,t){return t(function(){Si(n)&&xi(e)})}function Si(e){var n=e.getSnapshot;e=e.value;try{var t=n();return!Xt(e,t)}catch(a){return!0}}function xi(e){var n=Pa(e,2);null!==n&&Yc(n,e,2)}function Ti(e){var n=li();if("function"===typeof e){var t=e;if(e=t(),Yo){ve(!0);try{t()}finally{ve(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:mi,lastRenderedState:e},n}function Ci(e,n,t,a){return e.baseState=t,gi(e,Wo,"function"===typeof a?a:mi)}function Ri(e,n,t,a,r){if(ps(e))throw Error(i(485));if(null!==(e=n.action)){var o={payload:r,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){o.listeners.push(e)}};null!==q.T?t(!0):o.isTransition=!1,a(o),null===(t=n.pending)?(o.next=n.pending=o,Ni(n,o)):(o.next=t.next,n.pending=t.next=o)}}function Ni(e,n){var t=n.action,a=n.payload,r=e.state;if(n.isTransition){var o=q.T,i={};q.T=i;try{var s=t(r,a),l=q.S;null!==l&&l(i,s),ki(e,n,s)}catch(c){Ai(e,n,c)}finally{null!==o&&null!==i.types&&(o.types=i.types),q.T=o}}else try{ki(e,n,o=t(r,a))}catch(u){Ai(e,n,u)}}function ki(e,n,t){null!==t&&"object"===typeof t&&"function"===typeof t.then?t.then(function(t){Li(e,n,t)},function(t){return Ai(e,n,t)}):Li(e,n,t)}function Li(e,n,t){n.status="fulfilled",n.value=t,wi(n),e.state=t,null!==(n=e.pending)&&((t=n.next)===n?e.pending=null:(t=t.next,n.next=t,Ni(e,t)))}function Ai(e,n,t){var a=e.pending;if(e.pending=null,null!==a){a=a.next;do{n.status="rejected",n.reason=t,wi(n),n=n.next}while(n!==a)}e.action=null}function wi(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Ii(e,n){return n}function Oi(e,n){if(dr){var t=fc.formState;if(null!==t){e:{var a=Ho;if(dr){if(ur){n:{for(var r=ur,o=mr;8!==r.nodeType;){if(!o){r=null;break n}if(null===(r=Pd(r.nextSibling))){r=null;break n}}r="F!"===(o=r.data)||"F"===o?r:null}if(r){ur=Pd(r.nextSibling),a="F!"===r.data;break e}}gr(a)}a=!1}a&&(n=t[0])}}return(t=li()).memoizedState=t.baseState=n,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ii,lastRenderedState:n},t.queue=a,t=cs.bind(null,Ho,a),a.dispatch=t,a=Ti(!1),o=ds.bind(null,Ho,!1,a.queue),r={state:n,dispatch:null,action:e,pending:null},(a=li()).queue=r,t=Ri.bind(null,Ho,r,o,t),r.dispatch=t,a.memoizedState=e,[n,t,!1]}function Pi(e){return qi(ci(),Wo,e)}function qi(e,n,t){if(n=gi(e,n,Ii)[0],e=fi(mi)[0],"object"===typeof n&&null!==n&&"function"===typeof n.then)try{var a=ui(n)}catch(i){if(i===Kr)throw Zr;throw i}else a=n;var r=(n=ci()).queue,o=r.dispatch;return t!==n.memoizedState&&(Ho.flags|=2048,Di(9,{destroy:void 0},_i.bind(null,r,t),null)),[a,o,e]}function _i(e,n){e.action=n}function ji(e){var n=ci(),t=Wo;if(null!==t)return qi(n,t,e);ci(),n=n.memoizedState;var a=(t=ci()).queue.dispatch;return t.memoizedState=e,[n,a,!1]}function Di(e,n,t,a){return e={tag:e,create:t,deps:a,inst:n,next:null},null===(n=Ho.updateQueue)&&(n={lastEffect:null,events:null,stores:null,memoCache:null},Ho.updateQueue=n),null===(t=n.lastEffect)?n.lastEffect=e.next=e:(a=t.next,t.next=e,e.next=a,n.lastEffect=e),e}function Ui(){return ci().memoizedState}function zi(e,n,t,a){var r=li();Ho.flags|=e,r.memoizedState=Di(1|n,{destroy:void 0},t,void 0===a?null:a)}function Mi(e,n,t,a){var r=ci();a=void 0===a?null:a;var o=r.memoizedState.inst;null!==Wo&&null!==a&&ei(a,Wo.memoizedState.deps)?r.memoizedState=Di(n,o,t,a):(Ho.flags|=e,r.memoizedState=Di(1|n,o,t,a))}function Fi(e,n){zi(8390656,8,e,n)}function Bi(e,n){Mi(2048,8,e,n)}function Hi(e){var n=ci().memoizedState;return function(e){Ho.flags|=4;var n=Ho.updateQueue;if(null===n)n={lastEffect:null,events:null,stores:null,memoCache:null},Ho.updateQueue=n,n.events=[e];else{var t=n.events;null===t?n.events=[e]:t.push(e)}}({ref:n,nextImpl:e}),function(){if(0!==(2&mc))throw Error(i(440));return n.impl.apply(void 0,arguments)}}function Wi(e,n){return Mi(4,2,e,n)}function Qi(e,n){return Mi(4,4,e,n)}function Gi(e,n){if("function"===typeof n){e=e();var t=n(e);return function(){"function"===typeof t?t():n(null)}}if(null!==n&&void 0!==n)return e=e(),n.current=e,function(){n.current=null}}function Vi(e,n,t){t=null!==t&&void 0!==t?t.concat([e]):null,Mi(4,4,Gi.bind(null,n,e),t)}function Yi(){}function Ji(e,n){var t=ci();n=void 0===n?null:n;var a=t.memoizedState;return null!==n&&ei(n,a[1])?a[0]:(t.memoizedState=[e,n],e)}function $i(e,n){var t=ci();n=void 0===n?null:n;var a=t.memoizedState;if(null!==n&&ei(n,a[1]))return a[0];if(a=e(),Yo){ve(!0);try{e()}finally{ve(!1)}}return t.memoizedState=[a,n],a}function Ki(e,n,t){return void 0===t||0!==(1073741824&Bo)&&0===(261930&hc)?e.memoizedState=n:(e.memoizedState=t,e=Vc(),Ho.lanes|=e,Cc|=e,t)}function Xi(e,n,t,a){return Xt(t,n)?t:null!==Lo.current?(e=Ki(e,t,a),Xt(e,n)||(Ps=!0),e):0===(42&Bo)||0!==(1073741824&Bo)&&0===(261930&hc)?(Ps=!0,e.memoizedState=t):(e=Vc(),Ho.lanes|=e,Cc|=e,n)}function Zi(e,n,t,a,r){var o=_.p;_.p=0!==o&&8>o?o:8;var i=q.T,s={};q.T=s,ds(e,!1,n,t);try{var l=r(),c=q.S;if(null!==c&&c(s,l),null!==l&&"object"===typeof l&&"function"===typeof l.then)us(e,n,function(e,n){var t=[],a={status:"pending",value:null,reason:null,then:function(e){t.push(e)}};return e.then(function(){a.status="fulfilled",a.value=n;for(var e=0;e<t.length;e++)(0,t[e])(n)},function(e){for(a.status="rejected",a.reason=e,e=0;e<t.length;e++)(0,t[e])(void 0)}),a}(l,a),Gc());else us(e,n,a,Gc())}catch(u){us(e,n,{then:function(){},status:"rejected",reason:u},Gc())}finally{_.p=o,null!==i&&null!==s.types&&(i.types=s.types),q.T=i}}function es(){}function ns(e,n,t,a){if(5!==e.tag)throw Error(i(476));var r=ts(e).queue;Zi(e,r,n,j,null===t?es:function(){return as(e),t(a)})}function ts(e){var n=e.memoizedState;if(null!==n)return n;var t={};return(n={memoizedState:j,baseState:j,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:mi,lastRenderedState:j},next:null}).next={memoizedState:t,baseState:t,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:mi,lastRenderedState:t},next:null},e.memoizedState=n,null!==(e=e.alternate)&&(e.memoizedState=n),n}function as(e){var n=ts(e);null===n.next&&(n=e.alternate.memoizedState),us(e,n.next.queue,{},Gc())}function rs(){return Or(up)}function os(){return ci().memoizedState}function is(){return ci().memoizedState}function ss(e){for(var n=e.return;null!==n;){switch(n.tag){case 24:case 3:var t=Gc(),a=Eo(n,e=vo(t),t);return null!==a&&(Yc(a,n,t),So(a,n,t)),n={cache:zr()},void(e.payload=n)}n=n.return}}function ls(e,n,t){var a=Gc();t={lane:a,revertLane:0,gesture:null,action:t,hasEagerState:!1,eagerState:null,next:null},ps(e)?ms(n,t):null!==(t=Oa(e,n,t,a))&&(Yc(t,e,a),fs(t,n,a))}function cs(e,n,t){us(e,n,t,Gc())}function us(e,n,t,a){var r={lane:a,revertLane:0,gesture:null,action:t,hasEagerState:!1,eagerState:null,next:null};if(ps(e))ms(n,r);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=n.lastRenderedReducer))try{var i=n.lastRenderedState,s=o(i,t);if(r.hasEagerState=!0,r.eagerState=s,Xt(s,i))return Ia(e,n,r,0),null===fc&&wa(),!1}catch(l){}if(null!==(t=Oa(e,n,r,a)))return Yc(t,e,a),fs(t,n,a),!0}return!1}function ds(e,n,t,a){if(a={lane:2,revertLane:Bu(),gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},ps(e)){if(n)throw Error(i(479))}else null!==(n=Oa(e,t,a,2))&&Yc(n,e,2)}function ps(e){var n=e.alternate;return e===Ho||null!==n&&n===Ho}function ms(e,n){Vo=Go=!0;var t=e.pending;null===t?n.next=n:(n.next=t.next,t.next=n),e.pending=n}function fs(e,n,t){if(0!==(4194048&t)){var a=n.lanes;t|=a&=e.pendingLanes,n.lanes=t,qe(e,t)}}var gs={readContext:Or,use:di,useCallback:Zo,useContext:Zo,useEffect:Zo,useImperativeHandle:Zo,useLayoutEffect:Zo,useInsertionEffect:Zo,useMemo:Zo,useReducer:Zo,useRef:Zo,useState:Zo,useDebugValue:Zo,useDeferredValue:Zo,useTransition:Zo,useSyncExternalStore:Zo,useId:Zo,useHostTransitionStatus:Zo,useFormState:Zo,useActionState:Zo,useOptimistic:Zo,useMemoCache:Zo,useCacheRefresh:Zo};gs.useEffectEvent=Zo;var hs={readContext:Or,use:di,useCallback:function(e,n){return li().memoizedState=[e,void 0===n?null:n],e},useContext:Or,useEffect:Fi,useImperativeHandle:function(e,n,t){t=null!==t&&void 0!==t?t.concat([e]):null,zi(4194308,4,Gi.bind(null,n,e),t)},useLayoutEffect:function(e,n){return zi(4194308,4,e,n)},useInsertionEffect:function(e,n){zi(4,2,e,n)},useMemo:function(e,n){var t=li();n=void 0===n?null:n;var a=e();if(Yo){ve(!0);try{e()}finally{ve(!1)}}return t.memoizedState=[a,n],a},useReducer:function(e,n,t){var a=li();if(void 0!==t){var r=t(n);if(Yo){ve(!0);try{t(n)}finally{ve(!1)}}}else r=n;return a.memoizedState=a.baseState=r,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},a.queue=e,e=e.dispatch=ls.bind(null,Ho,e),[a.memoizedState,e]},useRef:function(e){return e={current:e},li().memoizedState=e},useState:function(e){var n=(e=Ti(e)).queue,t=cs.bind(null,Ho,n);return n.dispatch=t,[e.memoizedState,t]},useDebugValue:Yi,useDeferredValue:function(e,n){return Ki(li(),e,n)},useTransition:function(){var e=Ti(!1);return e=Zi.bind(null,Ho,e.queue,!0,!1),li().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,t){var a=Ho,r=li();if(dr){if(void 0===t)throw Error(i(407));t=t()}else{if(t=n(),null===fc)throw Error(i(349));0!==(127&hc)||yi(a,n,t)}r.memoizedState=t;var o={value:t,getSnapshot:n};return r.queue=o,Fi(Ei.bind(null,a,o,e),[e]),a.flags|=2048,Di(9,{destroy:void 0},vi.bind(null,a,o,t,n),null),t},useId:function(){var e=li(),n=fc.identifierPrefix;if(dr){var t=ar;n="_"+n+"R_"+(t=(tr&~(1<<32-Ee(tr)-1)).toString(32)+t),0<(t=Jo++)&&(n+="H"+t.toString(32)),n+="_"}else n="_"+n+"r_"+(t=Xo++).toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:rs,useFormState:Oi,useActionState:Oi,useOptimistic:function(e){var n=li();n.memoizedState=n.baseState=e;var t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=t,n=ds.bind(null,Ho,!0,t),t.dispatch=n,[e,n]},useMemoCache:pi,useCacheRefresh:function(){return li().memoizedState=ss.bind(null,Ho)},useEffectEvent:function(e){var n=li(),t={impl:e};return n.memoizedState=t,function(){if(0!==(2&mc))throw Error(i(440));return t.impl.apply(void 0,arguments)}}},bs={readContext:Or,use:di,useCallback:Ji,useContext:Or,useEffect:Bi,useImperativeHandle:Vi,useInsertionEffect:Wi,useLayoutEffect:Qi,useMemo:$i,useReducer:fi,useRef:Ui,useState:function(){return fi(mi)},useDebugValue:Yi,useDeferredValue:function(e,n){return Xi(ci(),Wo.memoizedState,e,n)},useTransition:function(){var e=fi(mi)[0],n=ci().memoizedState;return["boolean"===typeof e?e:ui(e),n]},useSyncExternalStore:bi,useId:os,useHostTransitionStatus:rs,useFormState:Pi,useActionState:Pi,useOptimistic:function(e,n){return Ci(ci(),0,e,n)},useMemoCache:pi,useCacheRefresh:is};bs.useEffectEvent=Hi;var ys={readContext:Or,use:di,useCallback:Ji,useContext:Or,useEffect:Bi,useImperativeHandle:Vi,useInsertionEffect:Wi,useLayoutEffect:Qi,useMemo:$i,useReducer:hi,useRef:Ui,useState:function(){return hi(mi)},useDebugValue:Yi,useDeferredValue:function(e,n){var t=ci();return null===Wo?Ki(t,e,n):Xi(t,Wo.memoizedState,e,n)},useTransition:function(){var e=hi(mi)[0],n=ci().memoizedState;return["boolean"===typeof e?e:ui(e),n]},useSyncExternalStore:bi,useId:os,useHostTransitionStatus:rs,useFormState:ji,useActionState:ji,useOptimistic:function(e,n){var t=ci();return null!==Wo?Ci(t,0,e,n):(t.baseState=e,[e,t.queue.dispatch])},useMemoCache:pi,useCacheRefresh:is};function vs(e,n,t,a){t=null===(t=t(a,n=e.memoizedState))||void 0===t?n:m({},n,t),e.memoizedState=t,0===e.lanes&&(e.updateQueue.baseState=t)}ys.useEffectEvent=Hi;var Es={enqueueSetState:function(e,n,t){e=e._reactInternals;var a=Gc(),r=vo(a);r.payload=n,void 0!==t&&null!==t&&(r.callback=t),null!==(n=Eo(e,r,a))&&(Yc(n,e,a),So(n,e,a))},enqueueReplaceState:function(e,n,t){e=e._reactInternals;var a=Gc(),r=vo(a);r.tag=1,r.payload=n,void 0!==t&&null!==t&&(r.callback=t),null!==(n=Eo(e,r,a))&&(Yc(n,e,a),So(n,e,a))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var t=Gc(),a=vo(t);a.tag=2,void 0!==n&&null!==n&&(a.callback=n),null!==(n=Eo(e,a,t))&&(Yc(n,e,t),So(n,e,t))}};function Ss(e,n,t,a,r,o,i){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(a,o,i):!n.prototype||!n.prototype.isPureReactComponent||(!Zt(t,a)||!Zt(r,o))}function xs(e,n,t,a){e=n.state,"function"===typeof n.componentWillReceiveProps&&n.componentWillReceiveProps(t,a),"function"===typeof n.UNSAFE_componentWillReceiveProps&&n.UNSAFE_componentWillReceiveProps(t,a),n.state!==e&&Es.enqueueReplaceState(n,n.state,null)}function Ts(e,n){var t=n;if("ref"in n)for(var a in t={},n)"ref"!==a&&(t[a]=n[a]);if(e=e.defaultProps)for(var r in t===n&&(t=m({},t)),e)void 0===t[r]&&(t[r]=e[r]);return t}function Cs(e){Na(e)}function Rs(e){console.error(e)}function Ns(e){Na(e)}function ks(e,n){try{(0,e.onUncaughtError)(n.value,{componentStack:n.stack})}catch(t){setTimeout(function(){throw t})}}function Ls(e,n,t){try{(0,e.onCaughtError)(t.value,{componentStack:t.stack,errorBoundary:1===n.tag?n.stateNode:null})}catch(a){setTimeout(function(){throw a})}}function As(e,n,t){return(t=vo(t)).tag=3,t.payload={element:null},t.callback=function(){ks(e,n)},t}function ws(e){return(e=vo(e)).tag=3,e}function Is(e,n,t,a){var r=t.type.getDerivedStateFromError;if("function"===typeof r){var o=a.value;e.payload=function(){return r(o)},e.callback=function(){Ls(n,t,a)}}var i=t.stateNode;null!==i&&"function"===typeof i.componentDidCatch&&(e.callback=function(){Ls(n,t,a),"function"!==typeof r&&(null===jc?jc=new Set([this]):jc.add(this));var e=a.stack;this.componentDidCatch(a.value,{componentStack:null!==e?e:""})})}var Os=Error(i(461)),Ps=!1;function qs(e,n,t,a){n.child=null===e?go(n,null,t,a):fo(n,e.child,t,a)}function _s(e,n,t,a,r){t=t.render;var o=n.ref;if("ref"in a){var i={};for(var s in a)"ref"!==s&&(i[s]=a[s])}else i=a;return Ir(n),a=ni(e,n,t,i,o,r),s=oi(),null===e||Ps?(dr&&s&&ir(n),n.flags|=1,qs(e,n,a,r),n.child):(ii(e,n,r),rl(e,n,r))}function js(e,n,t,a,r){if(null===e){var o=t.type;return"function"!==typeof o||za(o)||void 0!==o.defaultProps||null!==t.compare?((e=Ba(t.type,null,a,n,n.mode,r)).ref=n.ref,e.return=n,n.child=e):(n.tag=15,n.type=o,Ds(e,n,o,a,r))}if(o=e.child,!ol(e,r)){var i=o.memoizedProps;if((t=null!==(t=t.compare)?t:Zt)(i,a)&&e.ref===n.ref)return rl(e,n,r)}return n.flags|=1,(e=Ma(o,a)).ref=n.ref,e.return=n,n.child=e}function Ds(e,n,t,a,r){if(null!==e){var o=e.memoizedProps;if(Zt(o,a)&&e.ref===n.ref){if(Ps=!1,n.pendingProps=a=o,!ol(e,r))return n.lanes=e.lanes,rl(e,n,r);0!==(131072&e.flags)&&(Ps=!0)}}return Ws(e,n,t,a,r)}function Us(e,n,t,a){var r=a.children,o=null!==e?e.memoizedState:null;if(null===e&&null===n.stateNode&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),"hidden"===a.mode){if(0!==(128&n.flags)){if(o=null!==o?o.baseLanes|t:t,null!==e){for(a=n.child=e.child,r=0;null!==a;)r=r|a.lanes|a.childLanes,a=a.sibling;a=r&~o}else a=0,n.child=null;return Ms(e,n,o,t,a)}if(0===(536870912&t))return a=n.lanes=536870912,Ms(e,n,null!==o?o.baseLanes|t:t,t,a);n.memoizedState={baseLanes:0,cachePool:null},null!==e&&Jr(0,null!==o?o.cachePool:null),null!==o?wo(n,o):Io(),Do(n)}else null!==o?(Jr(0,o.cachePool),wo(n,o),Uo(),n.memoizedState=null):(null!==e&&Jr(0,null),Io(),Uo());return qs(e,n,r,t),n.child}function zs(e,n){return null!==e&&22===e.tag||null!==n.stateNode||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Ms(e,n,t,a,r){var o=Yr();return o=null===o?null:{parent:Ur._currentValue,pool:o},n.memoizedState={baseLanes:t,cachePool:o},null!==e&&Jr(0,null),Io(),Do(n),null!==e&&Ar(e,n,a,!0),n.childLanes=r,null}function Fs(e,n){return(n=Zs({mode:n.mode,children:n.children},e.mode)).ref=e.ref,e.child=n,n.return=e,n}function Bs(e,n,t){return fo(n,e.child,null,t),(e=Fs(n,n.pendingProps)).flags|=2,zo(n),n.memoizedState=null,e}function Hs(e,n){var t=n.ref;if(null===t)null!==e&&null!==e.ref&&(n.flags|=4194816);else{if("function"!==typeof t&&"object"!==typeof t)throw Error(i(284));null!==e&&e.ref===t||(n.flags|=4194816)}}function Ws(e,n,t,a,r){return Ir(n),t=ni(e,n,t,a,void 0,r),a=oi(),null===e||Ps?(dr&&a&&ir(n),n.flags|=1,qs(e,n,t,r),n.child):(ii(e,n,r),rl(e,n,r))}function Qs(e,n,t,a,r,o){return Ir(n),n.updateQueue=null,t=ai(n,a,t,r),ti(e),a=oi(),null===e||Ps?(dr&&a&&ir(n),n.flags|=1,qs(e,n,t,o),n.child):(ii(e,n,o),rl(e,n,o))}function Gs(e,n,t,a,r){if(Ir(n),null===n.stateNode){var o=ja,i=t.contextType;"object"===typeof i&&null!==i&&(o=Or(i)),o=new t(a,o),n.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,o.updater=Es,n.stateNode=o,o._reactInternals=n,(o=n.stateNode).props=a,o.state=n.memoizedState,o.refs={},bo(n),i=t.contextType,o.context="object"===typeof i&&null!==i?Or(i):ja,o.state=n.memoizedState,"function"===typeof(i=t.getDerivedStateFromProps)&&(vs(n,t,i,a),o.state=n.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof o.getSnapshotBeforeUpdate||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||(i=o.state,"function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),i!==o.state&&Es.enqueueReplaceState(o,o.state,null),Ro(n,a,o,r),Co(),o.state=n.memoizedState),"function"===typeof o.componentDidMount&&(n.flags|=4194308),a=!0}else if(null===e){o=n.stateNode;var s=n.memoizedProps,l=Ts(t,s);o.props=l;var c=o.context,u=t.contextType;i=ja,"object"===typeof u&&null!==u&&(i=Or(u));var d=t.getDerivedStateFromProps;u="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate,s=n.pendingProps!==s,u||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s||c!==i)&&xs(n,o,a,i),ho=!1;var p=n.memoizedState;o.state=p,Ro(n,a,o,r),Co(),c=n.memoizedState,s||p!==c||ho?("function"===typeof d&&(vs(n,t,d,a),c=n.memoizedState),(l=ho||Ss(n,t,l,a,p,c,i))?(u||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(n.flags|=4194308)):("function"===typeof o.componentDidMount&&(n.flags|=4194308),n.memoizedProps=a,n.memoizedState=c),o.props=a,o.state=c,o.context=i,a=l):("function"===typeof o.componentDidMount&&(n.flags|=4194308),a=!1)}else{o=n.stateNode,yo(e,n),u=Ts(t,i=n.memoizedProps),o.props=u,d=n.pendingProps,p=o.context,c=t.contextType,l=ja,"object"===typeof c&&null!==c&&(l=Or(c)),(c="function"===typeof(s=t.getDerivedStateFromProps)||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(i!==d||p!==l)&&xs(n,o,a,l),ho=!1,p=n.memoizedState,o.state=p,Ro(n,a,o,r),Co();var m=n.memoizedState;i!==d||p!==m||ho||null!==e&&null!==e.dependencies&&wr(e.dependencies)?("function"===typeof s&&(vs(n,t,s,a),m=n.memoizedState),(u=ho||Ss(n,t,u,a,p,m,l)||null!==e&&null!==e.dependencies&&wr(e.dependencies))?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(a,m,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(a,m,l)),"function"===typeof o.componentDidUpdate&&(n.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(n.flags|=1024)):("function"!==typeof o.componentDidUpdate||i===e.memoizedProps&&p===e.memoizedState||(n.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||i===e.memoizedProps&&p===e.memoizedState||(n.flags|=1024),n.memoizedProps=a,n.memoizedState=m),o.props=a,o.state=m,o.context=l,a=u):("function"!==typeof o.componentDidUpdate||i===e.memoizedProps&&p===e.memoizedState||(n.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||i===e.memoizedProps&&p===e.memoizedState||(n.flags|=1024),a=!1)}return o=a,Hs(e,n),a=0!==(128&n.flags),o||a?(o=n.stateNode,t=a&&"function"!==typeof t.getDerivedStateFromError?null:o.render(),n.flags|=1,null!==e&&a?(n.child=fo(n,e.child,null,r),n.child=fo(n,null,t,r)):qs(e,n,t,r),n.memoizedState=o.state,e=n.child):e=rl(e,n,r),e}function Vs(e,n,t,a){return vr(),n.flags|=256,qs(e,n,t,a),n.child}var Ys={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Js(e){return{baseLanes:e,cachePool:$r()}}function $s(e,n,t){return e=null!==e?e.childLanes&~t:0,n&&(e|=kc),e}function Ks(e,n,t){var a,r=n.pendingProps,o=!1,s=0!==(128&n.flags);if((a=s)||(a=(null===e||null!==e.memoizedState)&&0!==(2&Mo.current)),a&&(o=!0,n.flags&=-129),a=0!==(32&n.flags),n.flags&=-33,null===e){if(dr){if(o?_o(n):Uo(),(e=ur)?null!==(e=null!==(e=wd(e,mr))&&"&"!==e.data?e:null)&&(n.memoizedState={dehydrated:e,treeContext:null!==nr?{id:tr,overflow:ar}:null,retryLane:536870912,hydrationErrors:null},(t=Qa(e)).return=n,n.child=t,cr=n,ur=null):e=null,null===e)throw gr(n);return Od(e)?n.lanes=32:n.lanes=536870912,null}var l=r.children;return r=r.fallback,o?(Uo(),l=Zs({mode:"hidden",children:l},o=n.mode),r=Ha(r,o,t,null),l.return=n,r.return=n,l.sibling=r,n.child=l,(r=n.child).memoizedState=Js(t),r.childLanes=$s(e,a,t),n.memoizedState=Ys,zs(null,r)):(_o(n),Xs(n,l))}var c=e.memoizedState;if(null!==c&&null!==(l=c.dehydrated)){if(s)256&n.flags?(_o(n),n.flags&=-257,n=el(e,n,t)):null!==n.memoizedState?(Uo(),n.child=e.child,n.flags|=128,n=null):(Uo(),l=r.fallback,o=n.mode,r=Zs({mode:"visible",children:r.children},o),(l=Ha(l,o,t,null)).flags|=2,r.return=n,l.return=n,r.sibling=l,n.child=r,fo(n,e.child,null,t),(r=n.child).memoizedState=Js(t),r.childLanes=$s(e,a,t),n.memoizedState=Ys,n=zs(null,r));else if(_o(n),Od(l)){if(a=l.nextSibling&&l.nextSibling.dataset)var u=a.dgst;a=u,(r=Error(i(419))).stack="",r.digest=a,Sr({value:r,source:null,stack:null}),n=el(e,n,t)}else if(Ps||Ar(e,n,t,!1),a=0!==(t&e.childLanes),Ps||a){if(null!==(a=fc)&&(0!==(r=_e(a,t))&&r!==c.retryLane))throw c.retryLane=r,Pa(e,r),Yc(a,e,r),Os;Id(l)||iu(),n=el(e,n,t)}else Id(l)?(n.flags|=192,n.child=e.child,n=null):(e=c.treeContext,ur=Pd(l.nextSibling),cr=n,dr=!0,pr=null,mr=!1,null!==e&&lr(n,e),(n=Xs(n,r.children)).flags|=4096);return n}return o?(Uo(),l=r.fallback,o=n.mode,u=(c=e.child).sibling,(r=Ma(c,{mode:"hidden",children:r.children})).subtreeFlags=65011712&c.subtreeFlags,null!==u?l=Ma(u,l):(l=Ha(l,o,t,null)).flags|=2,l.return=n,r.return=n,r.sibling=l,n.child=r,zs(null,r),r=n.child,null===(l=e.child.memoizedState)?l=Js(t):(null!==(o=l.cachePool)?(c=Ur._currentValue,o=o.parent!==c?{parent:c,pool:c}:o):o=$r(),l={baseLanes:l.baseLanes|t,cachePool:o}),r.memoizedState=l,r.childLanes=$s(e,a,t),n.memoizedState=Ys,zs(e.child,r)):(_o(n),e=(t=e.child).sibling,(t=Ma(t,{mode:"visible",children:r.children})).return=n,t.sibling=null,null!==e&&(null===(a=n.deletions)?(n.deletions=[e],n.flags|=16):a.push(e)),n.child=t,n.memoizedState=null,t)}function Xs(e,n){return(n=Zs({mode:"visible",children:n},e.mode)).return=e,e.child=n}function Zs(e,n){return(e=Ua(22,e,null,n)).lanes=0,e}function el(e,n,t){return fo(n,e.child,null,t),(e=Xs(n,n.pendingProps.children)).flags|=2,n.memoizedState=null,e}function nl(e,n,t){e.lanes|=n;var a=e.alternate;null!==a&&(a.lanes|=n),kr(e.return,n,t)}function tl(e,n,t,a,r,o){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:a,tail:t,tailMode:r,treeForkCount:o}:(i.isBackwards=n,i.rendering=null,i.renderingStartTime=0,i.last=a,i.tail=t,i.tailMode=r,i.treeForkCount=o)}function al(e,n,t){var a=n.pendingProps,r=a.revealOrder,o=a.tail;a=a.children;var i=Mo.current,s=0!==(2&i);if(s?(i=1&i|2,n.flags|=128):i&=1,F(Mo,i),qs(e,n,a,t),a=dr?Xa:0,!s&&null!==e&&0!==(128&e.flags))e:for(e=n.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&nl(e,t,n);else if(19===e.tag)nl(e,t,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;null===e.sibling;){if(null===e.return||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(r){case"forwards":for(t=n.child,r=null;null!==t;)null!==(e=t.alternate)&&null===Fo(e)&&(r=t),t=t.sibling;null===(t=r)?(r=n.child,n.child=null):(r=t.sibling,t.sibling=null),tl(n,!1,r,t,o,a);break;case"backwards":case"unstable_legacy-backwards":for(t=null,r=n.child,n.child=null;null!==r;){if(null!==(e=r.alternate)&&null===Fo(e)){n.child=r;break}e=r.sibling,r.sibling=t,t=r,r=e}tl(n,!0,t,null,o,a);break;case"together":tl(n,!1,null,null,void 0,a);break;default:n.memoizedState=null}return n.child}function rl(e,n,t){if(null!==e&&(n.dependencies=e.dependencies),Cc|=n.lanes,0===(t&n.childLanes)){if(null===e)return null;if(Ar(e,n,t,!1),0===(t&n.childLanes))return null}if(null!==e&&n.child!==e.child)throw Error(i(153));if(null!==n.child){for(t=Ma(e=n.child,e.pendingProps),n.child=t,t.return=n;null!==e.sibling;)e=e.sibling,(t=t.sibling=Ma(e,e.pendingProps)).return=n;t.sibling=null}return n.child}function ol(e,n){return 0!==(e.lanes&n)||!(null===(e=e.dependencies)||!wr(e))}function il(e,n,t){if(null!==e)if(e.memoizedProps!==n.pendingProps)Ps=!0;else{if(!ol(e,t)&&0===(128&n.flags))return Ps=!1,function(e,n,t){switch(n.tag){case 3:Y(n,n.stateNode.containerInfo),Rr(0,Ur,e.memoizedState.cache),vr();break;case 27:case 5:$(n);break;case 4:Y(n,n.stateNode.containerInfo);break;case 10:Rr(0,n.type,n.memoizedProps.value);break;case 31:if(null!==n.memoizedState)return n.flags|=128,jo(n),null;break;case 13:var a=n.memoizedState;if(null!==a)return null!==a.dehydrated?(_o(n),n.flags|=128,null):0!==(t&n.child.childLanes)?Ks(e,n,t):(_o(n),null!==(e=rl(e,n,t))?e.sibling:null);_o(n);break;case 19:var r=0!==(128&e.flags);if((a=0!==(t&n.childLanes))||(Ar(e,n,t,!1),a=0!==(t&n.childLanes)),r){if(a)return al(e,n,t);n.flags|=128}if(null!==(r=n.memoizedState)&&(r.rendering=null,r.tail=null,r.lastEffect=null),F(Mo,Mo.current),a)break;return null;case 22:return n.lanes=0,Us(e,n,t,n.pendingProps);case 24:Rr(0,Ur,e.memoizedState.cache)}return rl(e,n,t)}(e,n,t);Ps=0!==(131072&e.flags)}else Ps=!1,dr&&0!==(1048576&n.flags)&&or(n,Xa,n.index);switch(n.lanes=0,n.tag){case 16:e:{var a=n.pendingProps;if(e=ao(n.elementType),n.type=e,"function"!==typeof e){if(void 0!==e&&null!==e){var r=e.$$typeof;if(r===x){n.tag=11,n=_s(null,n,e,a,t);break e}if(r===R){n.tag=14,n=js(null,n,e,a,t);break e}}throw n=O(e)||e,Error(i(306,n,""))}za(e)?(a=Ts(e,a),n.tag=1,n=Gs(null,n,e,a,t)):(n.tag=0,n=Ws(null,n,e,a,t))}return n;case 0:return Ws(e,n,n.type,n.pendingProps,t);case 1:return Gs(e,n,a=n.type,r=Ts(a,n.pendingProps),t);case 3:e:{if(Y(n,n.stateNode.containerInfo),null===e)throw Error(i(387));a=n.pendingProps;var o=n.memoizedState;r=o.element,yo(e,n),Ro(n,a,null,t);var s=n.memoizedState;if(a=s.cache,Rr(0,Ur,a),a!==o.cache&&Lr(n,[Ur],t,!0),Co(),a=s.element,o.isDehydrated){if(o={element:a,isDehydrated:!1,cache:s.cache},n.updateQueue.baseState=o,n.memoizedState=o,256&n.flags){n=Vs(e,n,a,t);break e}if(a!==r){Sr(r=Ya(Error(i(424)),n)),n=Vs(e,n,a,t);break e}if(9===(e=n.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(ur=Pd(e.firstChild),cr=n,dr=!0,pr=null,mr=!0,t=go(n,null,a,t),n.child=t;t;)t.flags=-3&t.flags|4096,t=t.sibling}else{if(vr(),a===r){n=rl(e,n,t);break e}qs(e,n,a,t)}n=n.child}return n;case 26:return Hs(e,n),null===e?(t=Qd(n.type,null,n.pendingProps,null))?n.memoizedState=t:dr||(t=n.type,e=n.pendingProps,(a=hd(G.current).createElement(t))[Fe]=n,a[Be]=e,pd(a,t,e),en(a),n.stateNode=a):n.memoizedState=Qd(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return $(n),null===e&&dr&&(a=n.stateNode=Dd(n.type,n.pendingProps,G.current),cr=n,mr=!0,r=ur,Nd(n.type)?(qd=r,ur=Pd(a.firstChild)):ur=r),qs(e,n,n.pendingProps.children,t),Hs(e,n),null===e&&(n.flags|=4194304),n.child;case 5:return null===e&&dr&&((r=a=ur)&&(null!==(a=function(e,n,t,a){for(;1===e.nodeType;){var r=t;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!a&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(a){if(!e[Ye])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(o=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(o!==r.rel||e.getAttribute("href")!==(null==r.href||""===r.href?null:r.href)||e.getAttribute("crossorigin")!==(null==r.crossOrigin?null:r.crossOrigin)||e.getAttribute("title")!==(null==r.title?null:r.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((o=e.getAttribute("src"))!==(null==r.src?null:r.src)||e.getAttribute("type")!==(null==r.type?null:r.type)||e.getAttribute("crossorigin")!==(null==r.crossOrigin?null:r.crossOrigin))&&o&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==n||"hidden"!==e.type)return e;var o=null==r.name?null:""+r.name;if("hidden"===r.type&&e.getAttribute("name")===o)return e}if(null===(e=Pd(e.nextSibling)))break}return null}(a,n.type,n.pendingProps,mr))?(n.stateNode=a,cr=n,ur=Pd(a.firstChild),mr=!1,r=!0):r=!1),r||gr(n)),$(n),r=n.type,o=n.pendingProps,s=null!==e?e.memoizedProps:null,a=o.children,vd(r,o)?a=null:null!==s&&vd(r,s)&&(n.flags|=32),null!==n.memoizedState&&(r=ni(e,n,ri,null,null,t),up._currentValue=r),Hs(e,n),qs(e,n,a,t),n.child;case 6:return null===e&&dr&&((e=t=ur)&&(null!==(t=function(e,n,t){if(""===n)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!t)return null;if(null===(e=Pd(e.nextSibling)))return null}return e}(t,n.pendingProps,mr))?(n.stateNode=t,cr=n,ur=null,e=!0):e=!1),e||gr(n)),null;case 13:return Ks(e,n,t);case 4:return Y(n,n.stateNode.containerInfo),a=n.pendingProps,null===e?n.child=fo(n,null,a,t):qs(e,n,a,t),n.child;case 11:return _s(e,n,n.type,n.pendingProps,t);case 7:return qs(e,n,n.pendingProps,t),n.child;case 8:case 12:return qs(e,n,n.pendingProps.children,t),n.child;case 10:return a=n.pendingProps,Rr(0,n.type,a.value),qs(e,n,a.children,t),n.child;case 9:return r=n.type._context,a=n.pendingProps.children,Ir(n),a=a(r=Or(r)),n.flags|=1,qs(e,n,a,t),n.child;case 14:return js(e,n,n.type,n.pendingProps,t);case 15:return Ds(e,n,n.type,n.pendingProps,t);case 19:return al(e,n,t);case 31:return function(e,n,t){var a=n.pendingProps,r=0!==(128&n.flags);if(n.flags&=-129,null===e){if(dr){if("hidden"===a.mode)return e=Fs(n,a),n.lanes=536870912,zs(null,e);if(jo(n),(e=ur)?null!==(e=null!==(e=wd(e,mr))&&"&"===e.data?e:null)&&(n.memoizedState={dehydrated:e,treeContext:null!==nr?{id:tr,overflow:ar}:null,retryLane:536870912,hydrationErrors:null},(t=Qa(e)).return=n,n.child=t,cr=n,ur=null):e=null,null===e)throw gr(n);return n.lanes=536870912,null}return Fs(n,a)}var o=e.memoizedState;if(null!==o){var s=o.dehydrated;if(jo(n),r)if(256&n.flags)n.flags&=-257,n=Bs(e,n,t);else{if(null===n.memoizedState)throw Error(i(558));n.child=e.child,n.flags|=128,n=null}else if(Ps||Ar(e,n,t,!1),r=0!==(t&e.childLanes),Ps||r){if(null!==(a=fc)&&0!==(s=_e(a,t))&&s!==o.retryLane)throw o.retryLane=s,Pa(e,s),Yc(a,e,s),Os;iu(),n=Bs(e,n,t)}else e=o.treeContext,ur=Pd(s.nextSibling),cr=n,dr=!0,pr=null,mr=!1,null!==e&&lr(n,e),(n=Fs(n,a)).flags|=4096;return n}return(e=Ma(e.child,{mode:a.mode,children:a.children})).ref=n.ref,n.child=e,e.return=n,e}(e,n,t);case 22:return Us(e,n,t,n.pendingProps);case 24:return Ir(n),a=Or(Ur),null===e?(null===(r=Yr())&&(r=fc,o=zr(),r.pooledCache=o,o.refCount++,null!==o&&(r.pooledCacheLanes|=t),r=o),n.memoizedState={parent:a,cache:r},bo(n),Rr(0,Ur,r)):(0!==(e.lanes&t)&&(yo(e,n),Ro(n,null,null,t),Co()),r=e.memoizedState,o=n.memoizedState,r.parent!==a?(r={parent:a,cache:a},n.memoizedState=r,0===n.lanes&&(n.memoizedState=n.updateQueue.baseState=r),Rr(0,Ur,a)):(a=o.cache,Rr(0,Ur,a),a!==r.cache&&Lr(n,[Ur],t,!0))),qs(e,n,n.pendingProps.children,t),n.child;case 29:throw n.pendingProps}throw Error(i(156,n.tag))}function sl(e){e.flags|=4}function ll(e,n,t,a,r){if((n=0!==(32&e.mode))&&(n=!1),n){if(e.flags|=16777216,(335544128&r)===r)if(e.stateNode.complete)e.flags|=8192;else{if(!au())throw ro=eo,Xr;e.flags|=8192}}else e.flags&=-16777217}function cl(e,n){if("stylesheet"!==n.type||0!==(4&n.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!rp(n)){if(!au())throw ro=eo,Xr;e.flags|=8192}}function ul(e,n){null!==n&&(e.flags|=4),16384&e.flags&&(n=22!==e.tag?we():536870912,e.lanes|=n,Lc|=n)}function dl(e,n){if(!dr)switch(e.tailMode){case"hidden":n=e.tail;for(var t=null;null!==n;)null!==n.alternate&&(t=n),n=n.sibling;null===t?e.tail=null:t.sibling=null;break;case"collapsed":t=e.tail;for(var a=null;null!==t;)null!==t.alternate&&(a=t),t=t.sibling;null===a?n||null===e.tail?e.tail=null:e.tail.sibling=null:a.sibling=null}}function pl(e){var n=null!==e.alternate&&e.alternate.child===e.child,t=0,a=0;if(n)for(var r=e.child;null!==r;)t|=r.lanes|r.childLanes,a|=65011712&r.subtreeFlags,a|=65011712&r.flags,r.return=e,r=r.sibling;else for(r=e.child;null!==r;)t|=r.lanes|r.childLanes,a|=r.subtreeFlags,a|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=a,e.childLanes=t,n}function ml(e,n,t){var a=n.pendingProps;switch(sr(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return pl(n),null;case 3:return t=n.stateNode,a=null,null!==e&&(a=e.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Nr(Ur),J(),t.pendingContext&&(t.context=t.pendingContext,t.pendingContext=null),null!==e&&null!==e.child||(yr(n)?sl(n):null===e||e.memoizedState.isDehydrated&&0===(256&n.flags)||(n.flags|=1024,Er())),pl(n),null;case 26:var r=n.type,o=n.memoizedState;return null===e?(sl(n),null!==o?(pl(n),cl(n,o)):(pl(n),ll(n,r,0,0,t))):o?o!==e.memoizedState?(sl(n),pl(n),cl(n,o)):(pl(n),n.flags&=-16777217):((e=e.memoizedProps)!==a&&sl(n),pl(n),ll(n,r,0,0,t)),null;case 27:if(K(n),t=G.current,r=n.type,null!==e&&null!=n.stateNode)e.memoizedProps!==a&&sl(n);else{if(!a){if(null===n.stateNode)throw Error(i(166));return pl(n),null}e=W.current,yr(n)?hr(n):(e=Dd(r,a,t),n.stateNode=e,sl(n))}return pl(n),null;case 5:if(K(n),r=n.type,null!==e&&null!=n.stateNode)e.memoizedProps!==a&&sl(n);else{if(!a){if(null===n.stateNode)throw Error(i(166));return pl(n),null}if(o=W.current,yr(n))hr(n);else{var s=hd(G.current);switch(o){case 1:o=s.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:o=s.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":o=s.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":o=s.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":(o=s.createElement("div")).innerHTML="<script><\/script>",o=o.removeChild(o.firstChild);break;case"select":o="string"===typeof a.is?s.createElement("select",{is:a.is}):s.createElement("select"),a.multiple?o.multiple=!0:a.size&&(o.size=a.size);break;default:o="string"===typeof a.is?s.createElement(r,{is:a.is}):s.createElement(r)}}o[Fe]=n,o[Be]=a;e:for(s=n.child;null!==s;){if(5===s.tag||6===s.tag)o.appendChild(s.stateNode);else if(4!==s.tag&&27!==s.tag&&null!==s.child){s.child.return=s,s=s.child;continue}if(s===n)break e;for(;null===s.sibling;){if(null===s.return||s.return===n)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}n.stateNode=o;e:switch(pd(o,r,a),r){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&sl(n)}}return pl(n),ll(n,n.type,null===e||e.memoizedProps,n.pendingProps,t),null;case 6:if(e&&null!=n.stateNode)e.memoizedProps!==a&&sl(n);else{if("string"!==typeof a&&null===n.stateNode)throw Error(i(166));if(e=G.current,yr(n)){if(e=n.stateNode,t=n.memoizedProps,a=null,null!==(r=cr))switch(r.tag){case 27:case 5:a=r.memoizedProps}e[Fe]=n,(e=!!(e.nodeValue===t||null!==a&&!0===a.suppressHydrationWarning||cd(e.nodeValue,t)))||gr(n,!0)}else(e=hd(e).createTextNode(a))[Fe]=n,n.stateNode=e}return pl(n),null;case 31:if(t=n.memoizedState,null===e||null!==e.memoizedState){if(a=yr(n),null!==t){if(null===e){if(!a)throw Error(i(318));if(!(e=null!==(e=n.memoizedState)?e.dehydrated:null))throw Error(i(557));e[Fe]=n}else vr(),0===(128&n.flags)&&(n.memoizedState=null),n.flags|=4;pl(n),e=!1}else t=Er(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=t),e=!0;if(!e)return 256&n.flags?(zo(n),n):(zo(n),null);if(0!==(128&n.flags))throw Error(i(558))}return pl(n),null;case 13:if(a=n.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(r=yr(n),null!==a&&null!==a.dehydrated){if(null===e){if(!r)throw Error(i(318));if(!(r=null!==(r=n.memoizedState)?r.dehydrated:null))throw Error(i(317));r[Fe]=n}else vr(),0===(128&n.flags)&&(n.memoizedState=null),n.flags|=4;pl(n),r=!1}else r=Er(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=r),r=!0;if(!r)return 256&n.flags?(zo(n),n):(zo(n),null)}return zo(n),0!==(128&n.flags)?(n.lanes=t,n):(t=null!==a,e=null!==e&&null!==e.memoizedState,t&&(r=null,null!==(a=n.child).alternate&&null!==a.alternate.memoizedState&&null!==a.alternate.memoizedState.cachePool&&(r=a.alternate.memoizedState.cachePool.pool),o=null,null!==a.memoizedState&&null!==a.memoizedState.cachePool&&(o=a.memoizedState.cachePool.pool),o!==r&&(a.flags|=2048)),t!==e&&t&&(n.child.flags|=8192),ul(n,n.updateQueue),pl(n),null);case 4:return J(),null===e&&Zu(n.stateNode.containerInfo),pl(n),null;case 10:return Nr(n.type),pl(n),null;case 19:if(M(Mo),null===(a=n.memoizedState))return pl(n),null;if(r=0!==(128&n.flags),null===(o=a.rendering))if(r)dl(a,!1);else{if(0!==Tc||null!==e&&0!==(128&e.flags))for(e=n.child;null!==e;){if(null!==(o=Fo(e))){for(n.flags|=128,dl(a,!1),e=o.updateQueue,n.updateQueue=e,ul(n,e),n.subtreeFlags=0,e=t,t=n.child;null!==t;)Fa(t,e),t=t.sibling;return F(Mo,1&Mo.current|2),dr&&rr(n,a.treeForkCount),n.child}e=e.sibling}null!==a.tail&&le()>qc&&(n.flags|=128,r=!0,dl(a,!1),n.lanes=4194304)}else{if(!r)if(null!==(e=Fo(o))){if(n.flags|=128,r=!0,e=e.updateQueue,n.updateQueue=e,ul(n,e),dl(a,!0),null===a.tail&&"hidden"===a.tailMode&&!o.alternate&&!dr)return pl(n),null}else 2*le()-a.renderingStartTime>qc&&536870912!==t&&(n.flags|=128,r=!0,dl(a,!1),n.lanes=4194304);a.isBackwards?(o.sibling=n.child,n.child=o):(null!==(e=a.last)?e.sibling=o:n.child=o,a.last=o)}return null!==a.tail?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=le(),e.sibling=null,t=Mo.current,F(Mo,r?1&t|2:1&t),dr&&rr(n,a.treeForkCount),e):(pl(n),null);case 22:case 23:return zo(n),Oo(),a=null!==n.memoizedState,null!==e?null!==e.memoizedState!==a&&(n.flags|=8192):a&&(n.flags|=8192),a?0!==(536870912&t)&&0===(128&n.flags)&&(pl(n),6&n.subtreeFlags&&(n.flags|=8192)):pl(n),null!==(t=n.updateQueue)&&ul(n,t.retryQueue),t=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(t=e.memoizedState.cachePool.pool),a=null,null!==n.memoizedState&&null!==n.memoizedState.cachePool&&(a=n.memoizedState.cachePool.pool),a!==t&&(n.flags|=2048),null!==e&&M(Vr),null;case 24:return t=null,null!==e&&(t=e.memoizedState.cache),n.memoizedState.cache!==t&&(n.flags|=2048),Nr(Ur),pl(n),null;case 25:case 30:return null}throw Error(i(156,n.tag))}function fl(e,n){switch(sr(n),n.tag){case 1:return 65536&(e=n.flags)?(n.flags=-65537&e|128,n):null;case 3:return Nr(Ur),J(),0!==(65536&(e=n.flags))&&0===(128&e)?(n.flags=-65537&e|128,n):null;case 26:case 27:case 5:return K(n),null;case 31:if(null!==n.memoizedState){if(zo(n),null===n.alternate)throw Error(i(340));vr()}return 65536&(e=n.flags)?(n.flags=-65537&e|128,n):null;case 13:if(zo(n),null!==(e=n.memoizedState)&&null!==e.dehydrated){if(null===n.alternate)throw Error(i(340));vr()}return 65536&(e=n.flags)?(n.flags=-65537&e|128,n):null;case 19:return M(Mo),null;case 4:return J(),null;case 10:return Nr(n.type),null;case 22:case 23:return zo(n),Oo(),null!==e&&M(Vr),65536&(e=n.flags)?(n.flags=-65537&e|128,n):null;case 24:return Nr(Ur),null;default:return null}}function gl(e,n){switch(sr(n),n.tag){case 3:Nr(Ur),J();break;case 26:case 27:case 5:K(n);break;case 4:J();break;case 31:null!==n.memoizedState&&zo(n);break;case 13:zo(n);break;case 19:M(Mo);break;case 10:Nr(n.type);break;case 22:case 23:zo(n),Oo(),null!==e&&M(Vr);break;case 24:Nr(Ur)}}function hl(e,n){try{var t=n.updateQueue,a=null!==t?t.lastEffect:null;if(null!==a){var r=a.next;t=r;do{if((t.tag&e)===e){a=void 0;var o=t.create,i=t.inst;a=o(),i.destroy=a}t=t.next}while(t!==r)}}catch(s){Tu(n,n.return,s)}}function bl(e,n,t){try{var a=n.updateQueue,r=null!==a?a.lastEffect:null;if(null!==r){var o=r.next;a=o;do{if((a.tag&e)===e){var i=a.inst,s=i.destroy;if(void 0!==s){i.destroy=void 0,r=n;var l=t,c=s;try{c()}catch(u){Tu(r,l,u)}}}a=a.next}while(a!==o)}}catch(u){Tu(n,n.return,u)}}function yl(e){var n=e.updateQueue;if(null!==n){var t=e.stateNode;try{ko(n,t)}catch(a){Tu(e,e.return,a)}}}function vl(e,n,t){t.props=Ts(e.type,e.memoizedProps),t.state=e.memoizedState;try{t.componentWillUnmount()}catch(a){Tu(e,n,a)}}function El(e,n){try{var t=e.ref;if(null!==t){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;default:a=e.stateNode}"function"===typeof t?e.refCleanup=t(a):t.current=a}}catch(r){Tu(e,n,r)}}function Sl(e,n){var t=e.ref,a=e.refCleanup;if(null!==t)if("function"===typeof a)try{a()}catch(r){Tu(e,n,r)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof t)try{t(null)}catch(o){Tu(e,n,o)}else t.current=null}function xl(e){var n=e.type,t=e.memoizedProps,a=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":t.autoFocus&&a.focus();break e;case"img":t.src?a.src=t.src:t.srcSet&&(a.srcset=t.srcSet)}}catch(r){Tu(e,e.return,r)}}function Tl(e,n,t){try{var a=e.stateNode;!function(e,n,t,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,o=null,s=null,l=null,c=null,u=null,d=null;for(f in t){var p=t[f];if(t.hasOwnProperty(f)&&null!=p)switch(f){case"checked":case"value":break;case"defaultValue":c=p;default:a.hasOwnProperty(f)||ud(e,n,f,null,a,p)}}for(var m in a){var f=a[m];if(p=t[m],a.hasOwnProperty(m)&&(null!=f||null!=p))switch(m){case"type":o=f;break;case"name":r=f;break;case"checked":u=f;break;case"defaultChecked":d=f;break;case"value":s=f;break;case"defaultValue":l=f;break;case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(i(137,n));break;default:f!==p&&ud(e,n,m,f,a,p)}}return void vn(e,s,l,c,u,d,o,r);case"select":for(o in f=s=l=m=null,t)if(c=t[o],t.hasOwnProperty(o)&&null!=c)switch(o){case"value":break;case"multiple":f=c;default:a.hasOwnProperty(o)||ud(e,n,o,null,a,c)}for(r in a)if(o=a[r],c=t[r],a.hasOwnProperty(r)&&(null!=o||null!=c))switch(r){case"value":m=o;break;case"defaultValue":l=o;break;case"multiple":s=o;default:o!==c&&ud(e,n,r,o,a,c)}return n=l,t=s,a=f,void(null!=m?xn(e,!!t,m,!1):!!a!==!!t&&(null!=n?xn(e,!!t,n,!0):xn(e,!!t,t?[]:"",!1)));case"textarea":for(l in f=m=null,t)if(r=t[l],t.hasOwnProperty(l)&&null!=r&&!a.hasOwnProperty(l))switch(l){case"value":case"children":break;default:ud(e,n,l,null,a,r)}for(s in a)if(r=a[s],o=t[s],a.hasOwnProperty(s)&&(null!=r||null!=o))switch(s){case"value":m=r;break;case"defaultValue":f=r;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=r)throw Error(i(91));break;default:r!==o&&ud(e,n,s,r,a,o)}return void Tn(e,m,f);case"option":for(var g in t)if(m=t[g],t.hasOwnProperty(g)&&null!=m&&!a.hasOwnProperty(g))if("selected"===g)e.selected=!1;else ud(e,n,g,null,a,m);for(c in a)if(m=a[c],f=t[c],a.hasOwnProperty(c)&&m!==f&&(null!=m||null!=f))if("selected"===c)e.selected=m&&"function"!==typeof m&&"symbol"!==typeof m;else ud(e,n,c,m,a,f);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var h in t)m=t[h],t.hasOwnProperty(h)&&null!=m&&!a.hasOwnProperty(h)&&ud(e,n,h,null,a,m);for(u in a)if(m=a[u],f=t[u],a.hasOwnProperty(u)&&m!==f&&(null!=m||null!=f))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=m)throw Error(i(137,n));break;default:ud(e,n,u,m,a,f)}return;default:if(An(n)){for(var b in t)m=t[b],t.hasOwnProperty(b)&&void 0!==m&&!a.hasOwnProperty(b)&&dd(e,n,b,void 0,a,m);for(d in a)m=a[d],f=t[d],!a.hasOwnProperty(d)||m===f||void 0===m&&void 0===f||dd(e,n,d,m,a,f);return}}for(var y in t)m=t[y],t.hasOwnProperty(y)&&null!=m&&!a.hasOwnProperty(y)&&ud(e,n,y,null,a,m);for(p in a)m=a[p],f=t[p],!a.hasOwnProperty(p)||m===f||null==m&&null==f||ud(e,n,p,m,a,f)}(a,e.type,t,n),a[Be]=n}catch(r){Tu(e,e.return,r)}}function Cl(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&Nd(e.type)||4===e.tag}function Rl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||Cl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&Nd(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function Nl(e,n,t){var a=e.tag;if(5===a||6===a)e=e.stateNode,n?(9===t.nodeType?t.body:"HTML"===t.nodeName?t.ownerDocument.body:t).insertBefore(e,n):((n=9===t.nodeType?t.body:"HTML"===t.nodeName?t.ownerDocument.body:t).appendChild(e),null!==(t=t._reactRootContainer)&&void 0!==t||null!==n.onclick||(n.onclick=Pn));else if(4!==a&&(27===a&&Nd(e.type)&&(t=e.stateNode,n=null),null!==(e=e.child)))for(Nl(e,n,t),e=e.sibling;null!==e;)Nl(e,n,t),e=e.sibling}function kl(e,n,t){var a=e.tag;if(5===a||6===a)e=e.stateNode,n?t.insertBefore(e,n):t.appendChild(e);else if(4!==a&&(27===a&&Nd(e.type)&&(t=e.stateNode),null!==(e=e.child)))for(kl(e,n,t),e=e.sibling;null!==e;)kl(e,n,t),e=e.sibling}function Ll(e){var n=e.stateNode,t=e.memoizedProps;try{for(var a=e.type,r=n.attributes;r.length;)n.removeAttributeNode(r[0]);pd(n,a,t),n[Fe]=e,n[Be]=t}catch(o){Tu(e,e.return,o)}}var Al=!1,wl=!1,Il=!1,Ol="function"===typeof WeakSet?WeakSet:Set,Pl=null;function ql(e,n,t){var a=t.flags;switch(t.tag){case 0:case 11:case 15:Yl(e,t),4&a&&hl(5,t);break;case 1:if(Yl(e,t),4&a)if(e=t.stateNode,null===n)try{e.componentDidMount()}catch(i){Tu(t,t.return,i)}else{var r=Ts(t.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(r,n,e.__reactInternalSnapshotBeforeUpdate)}catch(s){Tu(t,t.return,s)}}64&a&&yl(t),512&a&&El(t,t.return);break;case 3:if(Yl(e,t),64&a&&null!==(e=t.updateQueue)){if(n=null,null!==t.child)switch(t.child.tag){case 27:case 5:case 1:n=t.child.stateNode}try{ko(e,n)}catch(i){Tu(t,t.return,i)}}break;case 27:null===n&&4&a&&Ll(t);case 26:case 5:Yl(e,t),null===n&&4&a&&xl(t),512&a&&El(t,t.return);break;case 12:Yl(e,t);break;case 31:Yl(e,t),4&a&&Ml(e,t);break;case 13:Yl(e,t),4&a&&Fl(e,t),64&a&&(null!==(e=t.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,n){var t=e.ownerDocument;if("$~"===e.data)e._reactRetry=n;else if("$?"!==e.data||"loading"!==t.readyState)n();else{var a=function(){n(),t.removeEventListener("DOMContentLoaded",a)};t.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}(e,t=ku.bind(null,t))));break;case 22:if(!(a=null!==t.memoizedState||Al)){n=null!==n&&null!==n.memoizedState||wl,r=Al;var o=wl;Al=a,(wl=n)&&!o?$l(e,t,0!==(8772&t.subtreeFlags)):Yl(e,t),Al=r,wl=o}break;case 30:break;default:Yl(e,t)}}function _l(e){var n=e.alternate;null!==n&&(e.alternate=null,_l(n)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(n=e.stateNode)&&Je(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var jl=null,Dl=!1;function Ul(e,n,t){for(t=t.child;null!==t;)zl(e,n,t),t=t.sibling}function zl(e,n,t){if(ye&&"function"===typeof ye.onCommitFiberUnmount)try{ye.onCommitFiberUnmount(be,t)}catch(o){}switch(t.tag){case 26:wl||Sl(t,n),Ul(e,n,t),t.memoizedState?t.memoizedState.count--:t.stateNode&&(t=t.stateNode).parentNode.removeChild(t);break;case 27:wl||Sl(t,n);var a=jl,r=Dl;Nd(t.type)&&(jl=t.stateNode,Dl=!1),Ul(e,n,t),Ud(t.stateNode),jl=a,Dl=r;break;case 5:wl||Sl(t,n);case 6:if(a=jl,r=Dl,jl=null,Ul(e,n,t),Dl=r,null!==(jl=a))if(Dl)try{(9===jl.nodeType?jl.body:"HTML"===jl.nodeName?jl.ownerDocument.body:jl).removeChild(t.stateNode)}catch(i){Tu(t,n,i)}else try{jl.removeChild(t.stateNode)}catch(i){Tu(t,n,i)}break;case 18:null!==jl&&(Dl?(kd(9===(e=jl).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,t.stateNode),Wp(e)):kd(jl,t.stateNode));break;case 4:a=jl,r=Dl,jl=t.stateNode.containerInfo,Dl=!0,Ul(e,n,t),jl=a,Dl=r;break;case 0:case 11:case 14:case 15:bl(2,t,n),wl||bl(4,t,n),Ul(e,n,t);break;case 1:wl||(Sl(t,n),"function"===typeof(a=t.stateNode).componentWillUnmount&&vl(t,n,a)),Ul(e,n,t);break;case 21:Ul(e,n,t);break;case 22:wl=(a=wl)||null!==t.memoizedState,Ul(e,n,t),wl=a;break;default:Ul(e,n,t)}}function Ml(e,n){if(null===n.memoizedState&&(null!==(e=n.alternate)&&null!==(e=e.memoizedState))){e=e.dehydrated;try{Wp(e)}catch(t){Tu(n,n.return,t)}}}function Fl(e,n){if(null===n.memoizedState&&(null!==(e=n.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Wp(e)}catch(t){Tu(n,n.return,t)}}function Bl(e,n){var t=function(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return null===n&&(n=e.stateNode=new Ol),n;case 22:return null===(n=(e=e.stateNode)._retryCache)&&(n=e._retryCache=new Ol),n;default:throw Error(i(435,e.tag))}}(e);n.forEach(function(n){if(!t.has(n)){t.add(n);var a=Lu.bind(null,e,n);n.then(a,a)}})}function Hl(e,n){var t=n.deletions;if(null!==t)for(var a=0;a<t.length;a++){var r=t[a],o=e,s=n,l=s;e:for(;null!==l;){switch(l.tag){case 27:if(Nd(l.type)){jl=l.stateNode,Dl=!1;break e}break;case 5:jl=l.stateNode,Dl=!1;break e;case 3:case 4:jl=l.stateNode.containerInfo,Dl=!0;break e}l=l.return}if(null===jl)throw Error(i(160));zl(o,s,r),jl=null,Dl=!1,null!==(o=r.alternate)&&(o.return=null),r.return=null}if(13886&n.subtreeFlags)for(n=n.child;null!==n;)Ql(n,e),n=n.sibling}var Wl=null;function Ql(e,n){var t=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Hl(n,e),Gl(e),4&a&&(bl(3,e,e.return),hl(3,e),bl(5,e,e.return));break;case 1:Hl(n,e),Gl(e),512&a&&(wl||null===t||Sl(t,t.return)),64&a&&Al&&(null!==(e=e.updateQueue)&&(null!==(a=e.callbacks)&&(t=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===t?a:t.concat(a))));break;case 26:var r=Wl;if(Hl(n,e),Gl(e),512&a&&(wl||null===t||Sl(t,t.return)),4&a){var o=null!==t?t.memoizedState:null;if(a=e.memoizedState,null===t)if(null===a)if(null===e.stateNode){e:{a=e.type,t=e.memoizedProps,r=r.ownerDocument||r;n:switch(a){case"title":(!(o=r.getElementsByTagName("title")[0])||o[Ye]||o[Fe]||"http://www.w3.org/2000/svg"===o.namespaceURI||o.hasAttribute("itemprop"))&&(o=r.createElement(a),r.head.insertBefore(o,r.querySelector("head > title"))),pd(o,a,t),o[Fe]=e,en(o),a=o;break e;case"link":var s=tp("link","href",r).get(a+(t.href||""));if(s)for(var l=0;l<s.length;l++)if((o=s[l]).getAttribute("href")===(null==t.href||""===t.href?null:t.href)&&o.getAttribute("rel")===(null==t.rel?null:t.rel)&&o.getAttribute("title")===(null==t.title?null:t.title)&&o.getAttribute("crossorigin")===(null==t.crossOrigin?null:t.crossOrigin)){s.splice(l,1);break n}pd(o=r.createElement(a),a,t),r.head.appendChild(o);break;case"meta":if(s=tp("meta","content",r).get(a+(t.content||"")))for(l=0;l<s.length;l++)if((o=s[l]).getAttribute("content")===(null==t.content?null:""+t.content)&&o.getAttribute("name")===(null==t.name?null:t.name)&&o.getAttribute("property")===(null==t.property?null:t.property)&&o.getAttribute("http-equiv")===(null==t.httpEquiv?null:t.httpEquiv)&&o.getAttribute("charset")===(null==t.charSet?null:t.charSet)){s.splice(l,1);break n}pd(o=r.createElement(a),a,t),r.head.appendChild(o);break;default:throw Error(i(468,a))}o[Fe]=e,en(o),a=o}e.stateNode=a}else ap(r,e.type,e.stateNode);else e.stateNode=Kd(r,a,e.memoizedProps);else o!==a?(null===o?null!==t.stateNode&&(t=t.stateNode).parentNode.removeChild(t):o.count--,null===a?ap(r,e.type,e.stateNode):Kd(r,a,e.memoizedProps)):null===a&&null!==e.stateNode&&Tl(e,e.memoizedProps,t.memoizedProps)}break;case 27:Hl(n,e),Gl(e),512&a&&(wl||null===t||Sl(t,t.return)),null!==t&&4&a&&Tl(e,e.memoizedProps,t.memoizedProps);break;case 5:if(Hl(n,e),Gl(e),512&a&&(wl||null===t||Sl(t,t.return)),32&e.flags){r=e.stateNode;try{Rn(r,"")}catch(g){Tu(e,e.return,g)}}4&a&&null!=e.stateNode&&Tl(e,r=e.memoizedProps,null!==t?t.memoizedProps:r),1024&a&&(Il=!0);break;case 6:if(Hl(n,e),Gl(e),4&a){if(null===e.stateNode)throw Error(i(162));a=e.memoizedProps,t=e.stateNode;try{t.nodeValue=a}catch(g){Tu(e,e.return,g)}}break;case 3:if(np=null,r=Wl,Wl=Fd(n.containerInfo),Hl(n,e),Wl=r,Gl(e),4&a&&null!==t&&t.memoizedState.isDehydrated)try{Wp(n.containerInfo)}catch(g){Tu(e,e.return,g)}Il&&(Il=!1,Vl(e));break;case 4:a=Wl,Wl=Fd(e.stateNode.containerInfo),Hl(n,e),Gl(e),Wl=a;break;case 12:default:Hl(n,e),Gl(e);break;case 31:case 19:Hl(n,e),Gl(e),4&a&&(null!==(a=e.updateQueue)&&(e.updateQueue=null,Bl(e,a)));break;case 13:Hl(n,e),Gl(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==t&&null!==t.memoizedState)&&(Oc=le()),4&a&&(null!==(a=e.updateQueue)&&(e.updateQueue=null,Bl(e,a)));break;case 22:r=null!==e.memoizedState;var c=null!==t&&null!==t.memoizedState,u=Al,d=wl;if(Al=u||r,wl=d||c,Hl(n,e),wl=d,Al=u,Gl(e),8192&a)e:for(n=e.stateNode,n._visibility=r?-2&n._visibility:1|n._visibility,r&&(null===t||c||Al||wl||Jl(e)),t=null,n=e;;){if(5===n.tag||26===n.tag){if(null===t){c=t=n;try{if(o=c.stateNode,r)"function"===typeof(s=o.style).setProperty?s.setProperty("display","none","important"):s.display="none";else{l=c.stateNode;var p=c.memoizedProps.style,m=void 0!==p&&null!==p&&p.hasOwnProperty("display")?p.display:null;l.style.display=null==m||"boolean"===typeof m?"":(""+m).trim()}}catch(g){Tu(c,c.return,g)}}}else if(6===n.tag){if(null===t){c=n;try{c.stateNode.nodeValue=r?"":c.memoizedProps}catch(g){Tu(c,c.return,g)}}}else if(18===n.tag){if(null===t){c=n;try{var f=c.stateNode;r?Ld(f,!0):Ld(c.stateNode,!1)}catch(g){Tu(c,c.return,g)}}}else if((22!==n.tag&&23!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;null===n.sibling;){if(null===n.return||n.return===e)break e;t===n&&(t=null),n=n.return}t===n&&(t=null),n.sibling.return=n.return,n=n.sibling}4&a&&(null!==(a=e.updateQueue)&&(null!==(t=a.retryQueue)&&(a.retryQueue=null,Bl(e,t))));case 30:case 21:}}function Gl(e){var n=e.flags;if(2&n){try{for(var t,a=e.return;null!==a;){if(Cl(a)){t=a;break}a=a.return}if(null==t)throw Error(i(160));switch(t.tag){case 27:var r=t.stateNode;kl(e,Rl(e),r);break;case 5:var o=t.stateNode;32&t.flags&&(Rn(o,""),t.flags&=-33),kl(e,Rl(e),o);break;case 3:case 4:var s=t.stateNode.containerInfo;Nl(e,Rl(e),s);break;default:throw Error(i(161))}}catch(l){Tu(e,e.return,l)}e.flags&=-3}4096&n&&(e.flags&=-4097)}function Vl(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var n=e;Vl(n),5===n.tag&&1024&n.flags&&n.stateNode.reset(),e=e.sibling}}function Yl(e,n){if(8772&n.subtreeFlags)for(n=n.child;null!==n;)ql(e,n.alternate,n),n=n.sibling}function Jl(e){for(e=e.child;null!==e;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:bl(4,n,n.return),Jl(n);break;case 1:Sl(n,n.return);var t=n.stateNode;"function"===typeof t.componentWillUnmount&&vl(n,n.return,t),Jl(n);break;case 27:Ud(n.stateNode);case 26:case 5:Sl(n,n.return),Jl(n);break;case 22:null===n.memoizedState&&Jl(n);break;default:Jl(n)}e=e.sibling}}function $l(e,n,t){for(t=t&&0!==(8772&n.subtreeFlags),n=n.child;null!==n;){var a=n.alternate,r=e,o=n,i=o.flags;switch(o.tag){case 0:case 11:case 15:$l(r,o,t),hl(4,o);break;case 1:if($l(r,o,t),"function"===typeof(r=(a=o).stateNode).componentDidMount)try{r.componentDidMount()}catch(c){Tu(a,a.return,c)}if(null!==(r=(a=o).updateQueue)){var s=a.stateNode;try{var l=r.shared.hiddenCallbacks;if(null!==l)for(r.shared.hiddenCallbacks=null,r=0;r<l.length;r++)No(l[r],s)}catch(c){Tu(a,a.return,c)}}t&&64&i&&yl(o),El(o,o.return);break;case 27:Ll(o);case 26:case 5:$l(r,o,t),t&&null===a&&4&i&&xl(o),El(o,o.return);break;case 12:$l(r,o,t);break;case 31:$l(r,o,t),t&&4&i&&Ml(r,o);break;case 13:$l(r,o,t),t&&4&i&&Fl(r,o);break;case 22:null===o.memoizedState&&$l(r,o,t),El(o,o.return);break;case 30:break;default:$l(r,o,t)}n=n.sibling}}function Kl(e,n){var t=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(t=e.memoizedState.cachePool.pool),e=null,null!==n.memoizedState&&null!==n.memoizedState.cachePool&&(e=n.memoizedState.cachePool.pool),e!==t&&(null!=e&&e.refCount++,null!=t&&Mr(t))}function Xl(e,n){e=null,null!==n.alternate&&(e=n.alternate.memoizedState.cache),(n=n.memoizedState.cache)!==e&&(n.refCount++,null!=e&&Mr(e))}function Zl(e,n,t,a){if(10256&n.subtreeFlags)for(n=n.child;null!==n;)ec(e,n,t,a),n=n.sibling}function ec(e,n,t,a){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Zl(e,n,t,a),2048&r&&hl(9,n);break;case 1:case 31:case 13:default:Zl(e,n,t,a);break;case 3:Zl(e,n,t,a),2048&r&&(e=null,null!==n.alternate&&(e=n.alternate.memoizedState.cache),(n=n.memoizedState.cache)!==e&&(n.refCount++,null!=e&&Mr(e)));break;case 12:if(2048&r){Zl(e,n,t,a),e=n.stateNode;try{var o=n.memoizedProps,i=o.id,s=o.onPostCommit;"function"===typeof s&&s(i,null===n.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){Tu(n,n.return,l)}}else Zl(e,n,t,a);break;case 23:break;case 22:o=n.stateNode,i=n.alternate,null!==n.memoizedState?2&o._visibility?Zl(e,n,t,a):tc(e,n):2&o._visibility?Zl(e,n,t,a):(o._visibility|=2,nc(e,n,t,a,0!==(10256&n.subtreeFlags)||!1)),2048&r&&Kl(i,n);break;case 24:Zl(e,n,t,a),2048&r&&Xl(n.alternate,n)}}function nc(e,n,t,a,r){for(r=r&&(0!==(10256&n.subtreeFlags)||!1),n=n.child;null!==n;){var o=e,i=n,s=t,l=a,c=i.flags;switch(i.tag){case 0:case 11:case 15:nc(o,i,s,l,r),hl(8,i);break;case 23:break;case 22:var u=i.stateNode;null!==i.memoizedState?2&u._visibility?nc(o,i,s,l,r):tc(o,i):(u._visibility|=2,nc(o,i,s,l,r)),r&&2048&c&&Kl(i.alternate,i);break;case 24:nc(o,i,s,l,r),r&&2048&c&&Xl(i.alternate,i);break;default:nc(o,i,s,l,r)}n=n.sibling}}function tc(e,n){if(10256&n.subtreeFlags)for(n=n.child;null!==n;){var t=e,a=n,r=a.flags;switch(a.tag){case 22:tc(t,a),2048&r&&Kl(a.alternate,a);break;case 24:tc(t,a),2048&r&&Xl(a.alternate,a);break;default:tc(t,a)}n=n.sibling}}var ac=8192;function rc(e,n,t){if(e.subtreeFlags&ac)for(e=e.child;null!==e;)oc(e,n,t),e=e.sibling}function oc(e,n,t){switch(e.tag){case 26:rc(e,n,t),e.flags&ac&&null!==e.memoizedState&&function(e,n,t,a){if("stylesheet"===t.type&&("string"!==typeof a.media||!1!==matchMedia(a.media).matches)&&0===(4&t.state.loading)){if(null===t.instance){var r=Gd(a.href),o=n.querySelector(Vd(r));if(o)return null!==(n=o._p)&&"object"===typeof n&&"function"===typeof n.then&&(e.count++,e=ip.bind(e),n.then(e,e)),t.state.loading|=4,t.instance=o,void en(o);o=n.ownerDocument||n,a=Yd(a),(r=zd.get(r))&&Zd(a,r),en(o=o.createElement("link"));var i=o;i._p=new Promise(function(e,n){i.onload=e,i.onerror=n}),pd(o,"link",a),t.instance=o}null===e.stylesheets&&(e.stylesheets=new Map),e.stylesheets.set(t,n),(n=t.state.preload)&&0===(3&t.state.loading)&&(e.count++,t=ip.bind(e),n.addEventListener("load",t),n.addEventListener("error",t))}}(t,Wl,e.memoizedState,e.memoizedProps);break;case 5:default:rc(e,n,t);break;case 3:case 4:var a=Wl;Wl=Fd(e.stateNode.containerInfo),rc(e,n,t),Wl=a;break;case 22:null===e.memoizedState&&(null!==(a=e.alternate)&&null!==a.memoizedState?(a=ac,ac=16777216,rc(e,n,t),ac=a):rc(e,n,t))}}function ic(e){var n=e.alternate;if(null!==n&&null!==(e=n.child)){n.child=null;do{n=e.sibling,e.sibling=null,e=n}while(null!==e)}}function sc(e){var n=e.deletions;if(0!==(16&e.flags)){if(null!==n)for(var t=0;t<n.length;t++){var a=n[t];Pl=a,uc(a,e)}ic(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)lc(e),e=e.sibling}function lc(e){switch(e.tag){case 0:case 11:case 15:sc(e),2048&e.flags&&bl(9,e,e.return);break;case 3:case 12:default:sc(e);break;case 22:var n=e.stateNode;null!==e.memoizedState&&2&n._visibility&&(null===e.return||13!==e.return.tag)?(n._visibility&=-3,cc(e)):sc(e)}}function cc(e){var n=e.deletions;if(0!==(16&e.flags)){if(null!==n)for(var t=0;t<n.length;t++){var a=n[t];Pl=a,uc(a,e)}ic(e)}for(e=e.child;null!==e;){switch((n=e).tag){case 0:case 11:case 15:bl(8,n,n.return),cc(n);break;case 22:2&(t=n.stateNode)._visibility&&(t._visibility&=-3,cc(n));break;default:cc(n)}e=e.sibling}}function uc(e,n){for(;null!==Pl;){var t=Pl;switch(t.tag){case 0:case 11:case 15:bl(8,t,n);break;case 23:case 22:if(null!==t.memoizedState&&null!==t.memoizedState.cachePool){var a=t.memoizedState.cachePool.pool;null!=a&&a.refCount++}break;case 24:Mr(t.memoizedState.cache)}if(null!==(a=t.child))a.return=t,Pl=a;else e:for(t=e;null!==Pl;){var r=(a=Pl).sibling,o=a.return;if(_l(a),a===t){Pl=null;break e}if(null!==r){r.return=o,Pl=r;break e}Pl=o}}}var dc={getCacheForType:function(e){var n=Or(Ur),t=n.data.get(e);return void 0===t&&(t=e(),n.data.set(e,t)),t},cacheSignal:function(){return Or(Ur).controller.signal}},pc="function"===typeof WeakMap?WeakMap:Map,mc=0,fc=null,gc=null,hc=0,bc=0,yc=null,vc=!1,Ec=!1,Sc=!1,xc=0,Tc=0,Cc=0,Rc=0,Nc=0,kc=0,Lc=0,Ac=null,wc=null,Ic=!1,Oc=0,Pc=0,qc=1/0,_c=null,jc=null,Dc=0,Uc=null,zc=null,Mc=0,Fc=0,Bc=null,Hc=null,Wc=0,Qc=null;function Gc(){return 0!==(2&mc)&&0!==hc?hc&-hc:null!==q.T?Bu():Ue()}function Vc(){if(0===kc)if(0===(536870912&hc)||dr){var e=Ce;0===(3932160&(Ce<<=1))&&(Ce=262144),kc=e}else kc=536870912;return null!==(e=Po.current)&&(e.flags|=32),kc}function Yc(e,n,t){(e!==fc||2!==bc&&9!==bc)&&null===e.cancelPendingCommit||(nu(e,0),Xc(e,hc,kc,!1)),Oe(e,t),0!==(2&mc)&&e===fc||(e===fc&&(0===(2&mc)&&(Rc|=t),4===Tc&&Xc(e,hc,kc,!1)),_u(e))}function Jc(e,n,t){if(0!==(6&mc))throw Error(i(327));for(var a=!t&&0===(127&n)&&0===(n&e.expiredLanes)||Le(e,n),r=a?function(e,n){var t=mc;mc|=2;var a=ru(),r=ou();fc!==e||hc!==n?(_c=null,qc=le()+500,nu(e,n)):Ec=Le(e,n);e:for(;;)try{if(0!==bc&&null!==gc){n=gc;var o=yc;n:switch(bc){case 1:bc=0,yc=null,pu(e,n,o,1);break;case 2:case 9:if(no(o)){bc=0,yc=null,du(n);break}n=function(){2!==bc&&9!==bc||fc!==e||(bc=7),_u(e)},o.then(n,n);break e;case 3:bc=7;break e;case 4:bc=5;break e;case 7:no(o)?(bc=0,yc=null,du(n)):(bc=0,yc=null,pu(e,n,o,7));break;case 5:var s=null;switch(gc.tag){case 26:s=gc.memoizedState;case 5:case 27:var l=gc;if(s?rp(s):l.stateNode.complete){bc=0,yc=null;var c=l.sibling;if(null!==c)gc=c;else{var u=l.return;null!==u?(gc=u,mu(u)):gc=null}break n}}bc=0,yc=null,pu(e,n,o,5);break;case 6:bc=0,yc=null,pu(e,n,o,6);break;case 8:eu(),Tc=6;break e;default:throw Error(i(462))}}cu();break}catch(d){tu(e,d)}return Cr=Tr=null,q.H=a,q.A=r,mc=t,null!==gc?0:(fc=null,hc=0,wa(),Tc)}(e,n):su(e,n,!0),o=a;;){if(0===r){Ec&&!a&&Xc(e,n,0,!1);break}if(t=e.current.alternate,!o||Kc(t)){if(2===r){if(o=n,e.errorRecoveryDisabledLanes&o)var s=0;else s=0!==(s=-536870913&e.pendingLanes)?s:536870912&s?536870912:0;if(0!==s){n=s;e:{var l=e;r=Ac;var c=l.current.memoizedState.isDehydrated;if(c&&(nu(l,s).flags|=256),2!==(s=su(l,s,!1))){if(Sc&&!c){l.errorRecoveryDisabledLanes|=o,Rc|=o,r=4;break e}o=wc,wc=r,null!==o&&(null===wc?wc=o:wc.push.apply(wc,o))}r=s}if(o=!1,2!==r)continue}}if(1===r){nu(e,0),Xc(e,n,0,!0);break}e:{switch(a=e,o=r){case 0:case 1:throw Error(i(345));case 4:if((4194048&n)!==n)break;case 6:Xc(a,n,kc,!vc);break e;case 2:wc=null;break;case 3:case 5:break;default:throw Error(i(329))}if((62914560&n)===n&&10<(r=Oc+300-le())){if(Xc(a,n,kc,!vc),0!==ke(a,0,!0))break e;Mc=n,a.timeoutHandle=Sd($c.bind(null,a,t,wc,_c,Ic,n,kc,Rc,Lc,vc,o,"Throttled",-0,0),r)}else $c(a,t,wc,_c,Ic,n,kc,Rc,Lc,vc,o,null,-0,0)}break}r=su(e,n,!1),o=!1}_u(e)}function $c(e,n,t,a,r,o,i,s,l,c,u,d,p,m){if(e.timeoutHandle=-1,8192&(d=n.subtreeFlags)||16785408===(16785408&d)){oc(n,o,d={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Pn});var f=(62914560&o)===o?Oc-le():(4194048&o)===o?Pc-le():0;if(null!==(f=function(e,n){return e.stylesheets&&0===e.count&&lp(e,e.stylesheets),0<e.count||0<e.imgCount?function(t){var a=setTimeout(function(){if(e.stylesheets&&lp(e,e.stylesheets),e.unsuspend){var n=e.unsuspend;e.unsuspend=null,n()}},6e4+n);0<e.imgBytes&&0===op&&(op=62500*function(){if("function"===typeof performance.getEntriesByType){for(var e=0,n=0,t=performance.getEntriesByType("resource"),a=0;a<t.length;a++){var r=t[a],o=r.transferSize,i=r.initiatorType,s=r.duration;if(o&&s&&md(i)){for(i=0,s=r.responseEnd,a+=1;a<t.length;a++){var l=t[a],c=l.startTime;if(c>s)break;var u=l.transferSize,d=l.initiatorType;u&&md(d)&&(i+=u*((l=l.responseEnd)<s?1:(s-c)/(l-c)))}if(--a,n+=8*(o+i)/(r.duration/1e3),10<++e)break}}if(0<e)return n/e/1e6}return navigator.connection&&"number"===typeof(e=navigator.connection.downlink)?e:5}());var r=setTimeout(function(){if(e.waitingForImages=!1,0===e.count&&(e.stylesheets&&lp(e,e.stylesheets),e.unsuspend)){var n=e.unsuspend;e.unsuspend=null,n()}},(e.imgBytes>op?50:800)+n);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(a),clearTimeout(r)}}:null}(d,f)))return Mc=o,e.cancelPendingCommit=f(gu.bind(null,e,n,o,t,a,r,i,s,l,u,d,null,p,m)),void Xc(e,o,i,!c)}gu(e,n,o,t,a,r,i,s,l)}function Kc(e){for(var n=e;;){var t=n.tag;if((0===t||11===t||15===t)&&16384&n.flags&&(null!==(t=n.updateQueue)&&null!==(t=t.stores)))for(var a=0;a<t.length;a++){var r=t[a],o=r.getSnapshot;r=r.value;try{if(!Xt(o(),r))return!1}catch(i){return!1}}if(t=n.child,16384&n.subtreeFlags&&null!==t)t.return=n,n=t;else{if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Xc(e,n,t,a){n&=~Nc,n&=~Rc,e.suspendedLanes|=n,e.pingedLanes&=~n,a&&(e.warmLanes|=n),a=e.expirationTimes;for(var r=n;0<r;){var o=31-Ee(r),i=1<<o;a[o]=-1,r&=~i}0!==t&&Pe(e,t,n)}function Zc(){return 0!==(6&mc)||(ju(0,!1),!1)}function eu(){if(null!==gc){if(0===bc)var e=gc.return;else Cr=Tr=null,si(e=gc),so=null,lo=0,e=gc;for(;null!==e;)gl(e.alternate,e),e=e.return;gc=null}}function nu(e,n){var t=e.timeoutHandle;-1!==t&&(e.timeoutHandle=-1,xd(t)),null!==(t=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,t()),Mc=0,eu(),fc=e,gc=t=Ma(e.current,null),hc=n,bc=0,yc=null,vc=!1,Ec=Le(e,n),Sc=!1,Lc=kc=Nc=Rc=Cc=Tc=0,wc=Ac=null,Ic=!1,0!==(8&n)&&(n|=32&n);var a=e.entangledLanes;if(0!==a)for(e=e.entanglements,a&=n;0<a;){var r=31-Ee(a),o=1<<r;n|=e[r],a&=~o}return xc=n,wa(),t}function tu(e,n){Ho=null,q.H=gs,n===Kr||n===Zr?(n=oo(),bc=3):n===Xr?(n=oo(),bc=4):bc=n===Os?8:null!==n&&"object"===typeof n&&"function"===typeof n.then?6:1,yc=n,null===gc&&(Tc=1,ks(e,Ya(n,e.current)))}function au(){var e=Po.current;return null===e||((4194048&hc)===hc?null===qo:((62914560&hc)===hc||0!==(536870912&hc))&&e===qo)}function ru(){var e=q.H;return q.H=gs,null===e?gs:e}function ou(){var e=q.A;return q.A=dc,e}function iu(){Tc=4,vc||(4194048&hc)!==hc&&null!==Po.current||(Ec=!0),0===(134217727&Cc)&&0===(134217727&Rc)||null===fc||Xc(fc,hc,kc,!1)}function su(e,n,t){var a=mc;mc|=2;var r=ru(),o=ou();fc===e&&hc===n||(_c=null,nu(e,n)),n=!1;var i=Tc;e:for(;;)try{if(0!==bc&&null!==gc){var s=gc,l=yc;switch(bc){case 8:eu(),i=6;break e;case 3:case 2:case 9:case 6:null===Po.current&&(n=!0);var c=bc;if(bc=0,yc=null,pu(e,s,l,c),t&&Ec){i=0;break e}break;default:c=bc,bc=0,yc=null,pu(e,s,l,c)}}lu(),i=Tc;break}catch(u){tu(e,u)}return n&&e.shellSuspendCounter++,Cr=Tr=null,mc=a,q.H=r,q.A=o,null===gc&&(fc=null,hc=0,wa()),i}function lu(){for(;null!==gc;)uu(gc)}function cu(){for(;null!==gc&&!ie();)uu(gc)}function uu(e){var n=il(e.alternate,e,xc);e.memoizedProps=e.pendingProps,null===n?mu(e):gc=n}function du(e){var n=e,t=n.alternate;switch(n.tag){case 15:case 0:n=Qs(t,n,n.pendingProps,n.type,void 0,hc);break;case 11:n=Qs(t,n,n.pendingProps,n.type.render,n.ref,hc);break;case 5:si(n);default:gl(t,n),n=il(t,n=gc=Fa(n,xc),xc)}e.memoizedProps=e.pendingProps,null===n?mu(e):gc=n}function pu(e,n,t,a){Cr=Tr=null,si(n),so=null,lo=0;var r=n.return;try{if(function(e,n,t,a,r){if(t.flags|=32768,null!==a&&"object"===typeof a&&"function"===typeof a.then){if(null!==(n=t.alternate)&&Ar(n,t,r,!0),null!==(t=Po.current)){switch(t.tag){case 31:case 13:return null===qo?iu():null===t.alternate&&0===Tc&&(Tc=3),t.flags&=-257,t.flags|=65536,t.lanes=r,a===eo?t.flags|=16384:(null===(n=t.updateQueue)?t.updateQueue=new Set([a]):n.add(a),Cu(e,a,r)),!1;case 22:return t.flags|=65536,a===eo?t.flags|=16384:(null===(n=t.updateQueue)?(n={transitions:null,markerInstances:null,retryQueue:new Set([a])},t.updateQueue=n):null===(t=n.retryQueue)?n.retryQueue=new Set([a]):t.add(a),Cu(e,a,r)),!1}throw Error(i(435,t.tag))}return Cu(e,a,r),iu(),!1}if(dr)return null!==(n=Po.current)?(0===(65536&n.flags)&&(n.flags|=256),n.flags|=65536,n.lanes=r,a!==fr&&Sr(Ya(e=Error(i(422),{cause:a}),t))):(a!==fr&&Sr(Ya(n=Error(i(423),{cause:a}),t)),(e=e.current.alternate).flags|=65536,r&=-r,e.lanes|=r,a=Ya(a,t),xo(e,r=As(e.stateNode,a,r)),4!==Tc&&(Tc=2)),!1;var o=Error(i(520),{cause:a});if(o=Ya(o,t),null===Ac?Ac=[o]:Ac.push(o),4!==Tc&&(Tc=2),null===n)return!0;a=Ya(a,t),t=n;do{switch(t.tag){case 3:return t.flags|=65536,e=r&-r,t.lanes|=e,xo(t,e=As(t.stateNode,a,e)),!1;case 1:if(n=t.type,o=t.stateNode,0===(128&t.flags)&&("function"===typeof n.getDerivedStateFromError||null!==o&&"function"===typeof o.componentDidCatch&&(null===jc||!jc.has(o))))return t.flags|=65536,r&=-r,t.lanes|=r,Is(r=ws(r),e,t,a),xo(t,r),!1}t=t.return}while(null!==t);return!1}(e,r,n,t,hc))return Tc=1,ks(e,Ya(t,e.current)),void(gc=null)}catch(o){if(null!==r)throw gc=r,o;return Tc=1,ks(e,Ya(t,e.current)),void(gc=null)}32768&n.flags?(dr||1===a?e=!0:Ec||0!==(536870912&hc)?e=!1:(vc=e=!0,(2===a||9===a||3===a||6===a)&&(null!==(a=Po.current)&&13===a.tag&&(a.flags|=16384))),fu(n,e)):mu(n)}function mu(e){var n=e;do{if(0!==(32768&n.flags))return void fu(n,vc);e=n.return;var t=ml(n.alternate,n,xc);if(null!==t)return void(gc=t);if(null!==(n=n.sibling))return void(gc=n);gc=n=e}while(null!==n);0===Tc&&(Tc=5)}function fu(e,n){do{var t=fl(e.alternate,e);if(null!==t)return t.flags&=32767,void(gc=t);if(null!==(t=e.return)&&(t.flags|=32768,t.subtreeFlags=0,t.deletions=null),!n&&null!==(e=e.sibling))return void(gc=e);gc=e=t}while(null!==e);Tc=6,gc=null}function gu(e,n,t,a,r,o,s,l,c){e.cancelPendingCommit=null;do{Eu()}while(0!==Dc);if(0!==(6&mc))throw Error(i(327));if(null!==n){if(n===e.current)throw Error(i(177));if(o=n.lanes|n.childLanes,function(e,n,t,a,r,o){var i=e.pendingLanes;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=t,e.entangledLanes&=t,e.errorRecoveryDisabledLanes&=t,e.shellSuspendCounter=0;var s=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(t=i&~t;0<t;){var u=31-Ee(t),d=1<<u;s[u]=0,l[u]=-1;var p=c[u];if(null!==p)for(c[u]=null,u=0;u<p.length;u++){var m=p[u];null!==m&&(m.lane&=-536870913)}t&=~d}0!==a&&Pe(e,a,0),0!==o&&0===r&&0!==e.tag&&(e.suspendedLanes|=o&~(i&~n))}(e,t,o|=Aa,s,l,c),e===fc&&(gc=fc=null,hc=0),zc=n,Uc=e,Mc=t,Fc=o,Bc=r,Hc=a,0!==(10256&n.subtreeFlags)||0!==(10256&n.flags)?(e.callbackNode=null,e.callbackPriority=0,re(pe,function(){return Su(),null})):(e.callbackNode=null,e.callbackPriority=0),a=0!==(13878&n.flags),0!==(13878&n.subtreeFlags)||a){a=q.T,q.T=null,r=_.p,_.p=2,s=mc,mc|=4;try{!function(e,n){if(e=e.containerInfo,fd=vp,ra(e=aa(e))){if("selectionStart"in e)var t={start:e.selectionStart,end:e.selectionEnd};else e:{var a=(t=(t=e.ownerDocument)&&t.defaultView||window).getSelection&&t.getSelection();if(a&&0!==a.rangeCount){t=a.anchorNode;var r=a.anchorOffset,o=a.focusNode;a=a.focusOffset;try{t.nodeType,o.nodeType}catch(h){t=null;break e}var s=0,l=-1,c=-1,u=0,d=0,p=e,m=null;n:for(;;){for(var f;p!==t||0!==r&&3!==p.nodeType||(l=s+r),p!==o||0!==a&&3!==p.nodeType||(c=s+a),3===p.nodeType&&(s+=p.nodeValue.length),null!==(f=p.firstChild);)m=p,p=f;for(;;){if(p===e)break n;if(m===t&&++u===r&&(l=s),m===o&&++d===a&&(c=s),null!==(f=p.nextSibling))break;m=(p=m).parentNode}p=f}t=-1===l||-1===c?null:{start:l,end:c}}else t=null}t=t||{start:0,end:0}}else t=null;for(gd={focusedElem:e,selectionRange:t},vp=!1,Pl=n;null!==Pl;)if(e=(n=Pl).child,0!==(1028&n.subtreeFlags)&&null!==e)e.return=n,Pl=e;else for(;null!==Pl;){switch(o=(n=Pl).alternate,e=n.flags,n.tag){case 0:if(0!==(4&e)&&null!==(e=null!==(e=n.updateQueue)?e.events:null))for(t=0;t<e.length;t++)(r=e[t]).ref.impl=r.nextImpl;break;case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==o){e=void 0,t=n,r=o.memoizedProps,o=o.memoizedState,a=t.stateNode;try{var g=Ts(t.type,r);e=a.getSnapshotBeforeUpdate(g,o),a.__reactInternalSnapshotBeforeUpdate=e}catch(b){Tu(t,t.return,b)}}break;case 3:if(0!==(1024&e))if(9===(t=(e=n.stateNode.containerInfo).nodeType))Ad(e);else if(1===t)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Ad(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(i(163))}if(null!==(e=n.sibling)){e.return=n.return,Pl=e;break}Pl=n.return}}(e,n)}finally{mc=s,_.p=r,q.T=a}}Dc=1,hu(),bu(),yu()}}function hu(){if(1===Dc){Dc=0;var e=Uc,n=zc,t=0!==(13878&n.flags);if(0!==(13878&n.subtreeFlags)||t){t=q.T,q.T=null;var a=_.p;_.p=2;var r=mc;mc|=4;try{Ql(n,e);var o=gd,i=aa(e.containerInfo),s=o.focusedElem,l=o.selectionRange;if(i!==s&&s&&s.ownerDocument&&ta(s.ownerDocument.documentElement,s)){if(null!==l&&ra(s)){var c=l.start,u=l.end;if(void 0===u&&(u=c),"selectionStart"in s)s.selectionStart=c,s.selectionEnd=Math.min(u,s.value.length);else{var d=s.ownerDocument||document,p=d&&d.defaultView||window;if(p.getSelection){var m=p.getSelection(),f=s.textContent.length,g=Math.min(l.start,f),h=void 0===l.end?g:Math.min(l.end,f);!m.extend&&g>h&&(i=h,h=g,g=i);var b=na(s,g),y=na(s,h);if(b&&y&&(1!==m.rangeCount||m.anchorNode!==b.node||m.anchorOffset!==b.offset||m.focusNode!==y.node||m.focusOffset!==y.offset)){var v=d.createRange();v.setStart(b.node,b.offset),m.removeAllRanges(),g>h?(m.addRange(v),m.extend(y.node,y.offset)):(v.setEnd(y.node,y.offset),m.addRange(v))}}}}for(d=[],m=s;m=m.parentNode;)1===m.nodeType&&d.push({element:m,left:m.scrollLeft,top:m.scrollTop});for("function"===typeof s.focus&&s.focus(),s=0;s<d.length;s++){var E=d[s];E.element.scrollLeft=E.left,E.element.scrollTop=E.top}}vp=!!fd,gd=fd=null}finally{mc=r,_.p=a,q.T=t}}e.current=n,Dc=2}}function bu(){if(2===Dc){Dc=0;var e=Uc,n=zc,t=0!==(8772&n.flags);if(0!==(8772&n.subtreeFlags)||t){t=q.T,q.T=null;var a=_.p;_.p=2;var r=mc;mc|=4;try{ql(e,n.alternate,n)}finally{mc=r,_.p=a,q.T=t}}Dc=3}}function yu(){if(4===Dc||3===Dc){Dc=0,se();var e=Uc,n=zc,t=Mc,a=Hc;0!==(10256&n.subtreeFlags)||0!==(10256&n.flags)?Dc=5:(Dc=0,zc=Uc=null,vu(e,e.pendingLanes));var r=e.pendingLanes;if(0===r&&(jc=null),De(t),n=n.stateNode,ye&&"function"===typeof ye.onCommitFiberRoot)try{ye.onCommitFiberRoot(be,n,void 0,128===(128&n.current.flags))}catch(l){}if(null!==a){n=q.T,r=_.p,_.p=2,q.T=null;try{for(var o=e.onRecoverableError,i=0;i<a.length;i++){var s=a[i];o(s.value,{componentStack:s.stack})}}finally{q.T=n,_.p=r}}0!==(3&Mc)&&Eu(),_u(e),r=e.pendingLanes,0!==(261930&t)&&0!==(42&r)?e===Qc?Wc++:(Wc=0,Qc=e):Wc=0,ju(0,!1)}}function vu(e,n){0===(e.pooledCacheLanes&=n)&&(null!=(n=e.pooledCache)&&(e.pooledCache=null,Mr(n)))}function Eu(){return hu(),bu(),yu(),Su()}function Su(){if(5!==Dc)return!1;var e=Uc,n=Fc;Fc=0;var t=De(Mc),a=q.T,r=_.p;try{_.p=32>t?32:t,q.T=null,t=Bc,Bc=null;var o=Uc,s=Mc;if(Dc=0,zc=Uc=null,Mc=0,0!==(6&mc))throw Error(i(331));var l=mc;if(mc|=4,lc(o.current),ec(o,o.current,s,t),mc=l,ju(0,!1),ye&&"function"===typeof ye.onPostCommitFiberRoot)try{ye.onPostCommitFiberRoot(be,o)}catch(c){}return!0}finally{_.p=r,q.T=a,vu(e,n)}}function xu(e,n,t){n=Ya(t,n),null!==(e=Eo(e,n=As(e.stateNode,n,2),2))&&(Oe(e,2),_u(e))}function Tu(e,n,t){if(3===e.tag)xu(e,e,t);else for(;null!==n;){if(3===n.tag){xu(n,e,t);break}if(1===n.tag){var a=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof a.componentDidCatch&&(null===jc||!jc.has(a))){e=Ya(t,e),null!==(a=Eo(n,t=ws(2),2))&&(Is(t,a,n,e),Oe(a,2),_u(a));break}}n=n.return}}function Cu(e,n,t){var a=e.pingCache;if(null===a){a=e.pingCache=new pc;var r=new Set;a.set(n,r)}else void 0===(r=a.get(n))&&(r=new Set,a.set(n,r));r.has(t)||(Sc=!0,r.add(t),e=Ru.bind(null,e,n,t),n.then(e,e))}function Ru(e,n,t){var a=e.pingCache;null!==a&&a.delete(n),e.pingedLanes|=e.suspendedLanes&t,e.warmLanes&=~t,fc===e&&(hc&t)===t&&(4===Tc||3===Tc&&(62914560&hc)===hc&&300>le()-Oc?0===(2&mc)&&nu(e,0):Nc|=t,Lc===hc&&(Lc=0)),_u(e)}function Nu(e,n){0===n&&(n=we()),null!==(e=Pa(e,n))&&(Oe(e,n),_u(e))}function ku(e){var n=e.memoizedState,t=0;null!==n&&(t=n.retryLane),Nu(e,t)}function Lu(e,n){var t=0;switch(e.tag){case 31:case 13:var a=e.stateNode,r=e.memoizedState;null!==r&&(t=r.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(i(314))}null!==a&&a.delete(n),Nu(e,t)}var Au=null,wu=null,Iu=!1,Ou=!1,Pu=!1,qu=0;function _u(e){e!==wu&&null===e.next&&(null===wu?Au=wu=e:wu=wu.next=e),Ou=!0,Iu||(Iu=!0,Cd(function(){0!==(6&mc)?re(ue,Du):Uu()}))}function ju(e,n){if(!Pu&&Ou){Pu=!0;do{for(var t=!1,a=Au;null!==a;){if(!n)if(0!==e){var r=a.pendingLanes;if(0===r)var o=0;else{var i=a.suspendedLanes,s=a.pingedLanes;o=(1<<31-Ee(42|e)+1)-1,o=201326741&(o&=r&~(i&~s))?201326741&o|1:o?2|o:0}0!==o&&(t=!0,Fu(a,o))}else o=hc,0===(3&(o=ke(a,a===fc?o:0,null!==a.cancelPendingCommit||-1!==a.timeoutHandle)))||Le(a,o)||(t=!0,Fu(a,o));a=a.next}}while(t);Pu=!1}}function Du(){Uu()}function Uu(){Ou=Iu=!1;var e=0;0!==qu&&function(){var e=window.event;if(e&&"popstate"===e.type)return e!==Ed&&(Ed=e,!0);return Ed=null,!1}()&&(e=qu);for(var n=le(),t=null,a=Au;null!==a;){var r=a.next,o=zu(a,n);0===o?(a.next=null,null===t?Au=r:t.next=r,null===r&&(wu=t)):(t=a,(0!==e||0!==(3&o))&&(Ou=!0)),a=r}0!==Dc&&5!==Dc||ju(e,!1),0!==qu&&(qu=0)}function zu(e,n){for(var t=e.suspendedLanes,a=e.pingedLanes,r=e.expirationTimes,o=-62914561&e.pendingLanes;0<o;){var i=31-Ee(o),s=1<<i,l=r[i];-1===l?0!==(s&t)&&0===(s&a)||(r[i]=Ae(s,n)):l<=n&&(e.expiredLanes|=s),o&=~s}if(t=hc,t=ke(e,e===(n=fc)?t:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),a=e.callbackNode,0===t||e===n&&(2===bc||9===bc)||null!==e.cancelPendingCommit)return null!==a&&null!==a&&oe(a),e.callbackNode=null,e.callbackPriority=0;if(0===(3&t)||Le(e,t)){if((n=t&-t)===e.callbackPriority)return n;switch(null!==a&&oe(a),De(t)){case 2:case 8:t=de;break;case 32:default:t=pe;break;case 268435456:t=fe}return a=Mu.bind(null,e),t=re(t,a),e.callbackPriority=n,e.callbackNode=t,n}return null!==a&&null!==a&&oe(a),e.callbackPriority=2,e.callbackNode=null,2}function Mu(e,n){if(0!==Dc&&5!==Dc)return e.callbackNode=null,e.callbackPriority=0,null;var t=e.callbackNode;if(Eu()&&e.callbackNode!==t)return null;var a=hc;return 0===(a=ke(e,e===fc?a:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Jc(e,a,n),zu(e,le()),null!=e.callbackNode&&e.callbackNode===t?Mu.bind(null,e):null)}function Fu(e,n){if(Eu())return null;Jc(e,n,!0)}function Bu(){if(0===qu){var e=Hr;0===e&&(e=Te,0===(261888&(Te<<=1))&&(Te=256)),qu=e}return qu}function Hu(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:On(""+e)}function Wu(e,n){var t=n.ownerDocument.createElement("input");return t.name=n.name,t.value=n.value,e.id&&t.setAttribute("form",e.id),n.parentNode.insertBefore(t,n),e=new FormData(e),t.parentNode.removeChild(t),e}for(var Qu=0;Qu<Ca.length;Qu++){var Gu=Ca[Qu];Ra(Gu.toLowerCase(),"on"+(Gu[0].toUpperCase()+Gu.slice(1)))}Ra(ha,"onAnimationEnd"),Ra(ba,"onAnimationIteration"),Ra(ya,"onAnimationStart"),Ra("dblclick","onDoubleClick"),Ra("focusin","onFocus"),Ra("focusout","onBlur"),Ra(va,"onTransitionRun"),Ra(Ea,"onTransitionStart"),Ra(Sa,"onTransitionCancel"),Ra(xa,"onTransitionEnd"),rn("onMouseEnter",["mouseout","mouseover"]),rn("onMouseLeave",["mouseout","mouseover"]),rn("onPointerEnter",["pointerout","pointerover"]),rn("onPointerLeave",["pointerout","pointerover"]),an("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),an("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),an("onBeforeInput",["compositionend","keypress","textInput","paste"]),an("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),an("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),an("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Yu=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Vu));function Ju(e,n){n=0!==(4&n);for(var t=0;t<e.length;t++){var a=e[t],r=a.event;a=a.listeners;e:{var o=void 0;if(n)for(var i=a.length-1;0<=i;i--){var s=a[i],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==o&&r.isPropagationStopped())break e;o=s,r.currentTarget=c;try{o(r)}catch(u){Na(u)}r.currentTarget=null,o=l}else for(i=0;i<a.length;i++){if(l=(s=a[i]).instance,c=s.currentTarget,s=s.listener,l!==o&&r.isPropagationStopped())break e;o=s,r.currentTarget=c;try{o(r)}catch(u){Na(u)}r.currentTarget=null,o=l}}}}function $u(e,n){var t=n[We];void 0===t&&(t=n[We]=new Set);var a=e+"__bubble";t.has(a)||(ed(n,e,2,!1),t.add(a))}function Ku(e,n,t){var a=0;n&&(a|=4),ed(t,e,a,n)}var Xu="_reactListening"+Math.random().toString(36).slice(2);function Zu(e){if(!e[Xu]){e[Xu]=!0,nn.forEach(function(n){"selectionchange"!==n&&(Yu.has(n)||Ku(n,!1,e),Ku(n,!0,e))});var n=9===e.nodeType?e:e.ownerDocument;null===n||n[Xu]||(n[Xu]=!0,Ku("selectionchange",!1,n))}}function ed(e,n,t,a){switch(Np(n)){case 2:var r=Ep;break;case 8:r=Sp;break;default:r=xp}t=r.bind(null,n,t,e),r=void 0,!Hn||"touchstart"!==n&&"touchmove"!==n&&"wheel"!==n||(r=!0),a?void 0!==r?e.addEventListener(n,t,{capture:!0,passive:r}):e.addEventListener(n,t,!0):void 0!==r?e.addEventListener(n,t,{passive:r}):e.addEventListener(n,t,!1)}function nd(e,n,t,a,r){var o=a;if(0===(1&n)&&0===(2&n)&&null!==a)e:for(;;){if(null===a)return;var i=a.tag;if(3===i||4===i){var s=a.stateNode.containerInfo;if(s===r)break;if(4===i)for(i=a.return;null!==i;){var c=i.tag;if((3===c||4===c)&&i.stateNode.containerInfo===r)return;i=i.return}for(;null!==s;){if(null===(i=$e(s)))return;if(5===(c=i.tag)||6===c||26===c||27===c){a=o=i;continue e}s=s.parentNode}}a=a.return}Mn(function(){var a=o,r=_n(t),i=[];e:{var s=Ta.get(e);if(void 0!==s){var c=at,u=e;switch(e){case"keypress":if(0===Jn(t))break e;case"keydown":case"keyup":c=yt;break;case"focusin":u="focus",c=ct;break;case"focusout":u="blur",c=ct;break;case"beforeblur":case"afterblur":c=ct;break;case"click":if(2===t.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=st;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=lt;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=Et;break;case ha:case ba:case ya:c=ut;break;case xa:c=St;break;case"scroll":case"scrollend":c=ot;break;case"wheel":c=xt;break;case"copy":case"cut":case"paste":c=dt;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=vt;break;case"toggle":case"beforetoggle":c=Tt}var d=0!==(4&n),p=!d&&("scroll"===e||"scrollend"===e),m=d?null!==s?s+"Capture":null:s;d=[];for(var f,g=a;null!==g;){var h=g;if(f=h.stateNode,5!==(h=h.tag)&&26!==h&&27!==h||null===f||null===m||null!=(h=Fn(g,m))&&d.push(td(g,h,f)),p)break;g=g.return}0<d.length&&(s=new c(s,u,null,t,r),i.push({event:s,listeners:d}))}}if(0===(7&n)){if(c="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||t===qn||!(u=t.relatedTarget||t.fromElement)||!$e(u)&&!u[He])&&(c||s)&&(s=r.window===r?r:(s=r.ownerDocument)?s.defaultView||s.parentWindow:window,c?(c=a,null!==(u=(u=t.relatedTarget||t.toElement)?$e(u):null)&&(p=l(u),d=u.tag,u!==p||5!==d&&27!==d&&6!==d)&&(u=null)):(c=null,u=a),c!==u)){if(d=st,h="onMouseLeave",m="onMouseEnter",g="mouse","pointerout"!==e&&"pointerover"!==e||(d=vt,h="onPointerLeave",m="onPointerEnter",g="pointer"),p=null==c?s:Xe(c),f=null==u?s:Xe(u),(s=new d(h,g+"leave",c,t,r)).target=p,s.relatedTarget=f,h=null,$e(r)===a&&((d=new d(m,g+"enter",u,t,r)).target=f,d.relatedTarget=p,h=d),p=h,c&&u)e:{for(d=rd,g=u,f=0,h=m=c;h;h=d(h))f++;h=0;for(var b=g;b;b=d(b))h++;for(;0<f-h;)m=d(m),f--;for(;0<h-f;)g=d(g),h--;for(;f--;){if(m===g||null!==g&&m===g.alternate){d=m;break e}m=d(m),g=d(g)}d=null}else d=null;null!==c&&od(i,s,c,d,!1),null!==u&&null!==p&&od(i,p,u,d,!0)}if("select"===(c=(s=a?Xe(a):window).nodeName&&s.nodeName.toLowerCase())||"input"===c&&"file"===s.type)var y=Ft;else if(_t(s))if(Bt)y=Kt;else{y=Jt;var v=Yt}else!(c=s.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==s.type&&"radio"!==s.type?a&&An(a.elementType)&&(y=Ft):y=$t;switch(y&&(y=y(e,a))?jt(i,y,t,r):(v&&v(e,s,a),"focusout"===e&&a&&"number"===s.type&&null!=a.memoizedProps.value&&Sn(s,"number",s.value)),v=a?Xe(a):window,e){case"focusin":(_t(v)||"true"===v.contentEditable)&&(ia=v,sa=a,la=null);break;case"focusout":la=sa=ia=null;break;case"mousedown":ca=!0;break;case"contextmenu":case"mouseup":case"dragend":ca=!1,ua(i,t,r);break;case"selectionchange":if(oa)break;case"keydown":case"keyup":ua(i,t,r)}var E;if(Rt)e:{switch(e){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else Pt?It(e,t)&&(S="onCompositionEnd"):"keydown"===e&&229===t.keyCode&&(S="onCompositionStart");S&&(Lt&&"ko"!==t.locale&&(Pt||"onCompositionStart"!==S?"onCompositionEnd"===S&&Pt&&(E=Yn()):(Gn="value"in(Qn=r)?Qn.value:Qn.textContent,Pt=!0)),0<(v=ad(a,S)).length&&(S=new pt(S,e,null,t,r),i.push({event:S,listeners:v}),E?S.data=E:null!==(E=Ot(t))&&(S.data=E))),(E=kt?function(e,n){switch(e){case"compositionend":return Ot(n);case"keypress":return 32!==n.which?null:(wt=!0,At);case"textInput":return(e=n.data)===At&&wt?null:e;default:return null}}(e,t):function(e,n){if(Pt)return"compositionend"===e||!Rt&&It(e,n)?(e=Yn(),Vn=Gn=Qn=null,Pt=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Lt&&"ko"!==n.locale?null:n.data}}(e,t))&&(0<(S=ad(a,"onBeforeInput")).length&&(v=new pt("onBeforeInput","beforeinput",null,t,r),i.push({event:v,listeners:S}),v.data=E)),function(e,n,t,a,r){if("submit"===n&&t&&t.stateNode===r){var o=Hu((r[Be]||null).action),i=a.submitter;i&&null!==(n=(n=i[Be]||null)?Hu(n.formAction):i.getAttribute("formAction"))&&(o=n,i=null);var s=new at("action","action",null,a,r);e.push({event:s,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(0!==qu){var e=i?Wu(r,i):new FormData(r);ns(t,{pending:!0,data:e,method:r.method,action:o},null,e)}}else"function"===typeof o&&(s.preventDefault(),e=i?Wu(r,i):new FormData(r),ns(t,{pending:!0,data:e,method:r.method,action:o},o,e))},currentTarget:r}]})}}(i,e,a,t,r)}Ju(i,n)})}function td(e,n,t){return{instance:e,listener:n,currentTarget:t}}function ad(e,n){for(var t=n+"Capture",a=[];null!==e;){var r=e,o=r.stateNode;if(5!==(r=r.tag)&&26!==r&&27!==r||null===o||(null!=(r=Fn(e,t))&&a.unshift(td(e,r,o)),null!=(r=Fn(e,n))&&a.push(td(e,r,o))),3===e.tag)return a;e=e.return}return[]}function rd(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function od(e,n,t,a,r){for(var o=n._reactName,i=[];null!==t&&t!==a;){var s=t,l=s.alternate,c=s.stateNode;if(s=s.tag,null!==l&&l===a)break;5!==s&&26!==s&&27!==s||null===c||(l=c,r?null!=(c=Fn(t,o))&&i.unshift(td(t,c,l)):r||null!=(c=Fn(t,o))&&i.push(td(t,c,l))),t=t.return}0!==i.length&&e.push({event:n,listeners:i})}var id=/\r\n?/g,sd=/\u0000|\uFFFD/g;function ld(e){return("string"===typeof e?e:""+e).replace(id,"\n").replace(sd,"")}function cd(e,n){return n=ld(n),ld(e)===n}function ud(e,n,t,a,r,o){switch(t){case"children":"string"===typeof a?"body"===n||"textarea"===n&&""===a||Rn(e,a):("number"===typeof a||"bigint"===typeof a)&&"body"!==n&&Rn(e,""+a);break;case"className":un(e,"class",a);break;case"tabIndex":un(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":un(e,t,a);break;case"style":Ln(e,a,o);break;case"data":if("object"!==n){un(e,"data",a);break}case"src":case"href":if(""===a&&("a"!==n||"href"!==t)){e.removeAttribute(t);break}if(null==a||"function"===typeof a||"symbol"===typeof a||"boolean"===typeof a){e.removeAttribute(t);break}a=On(""+a),e.setAttribute(t,a);break;case"action":case"formAction":if("function"===typeof a){e.setAttribute(t,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof o&&("formAction"===t?("input"!==n&&ud(e,n,"name",r.name,r,null),ud(e,n,"formEncType",r.formEncType,r,null),ud(e,n,"formMethod",r.formMethod,r,null),ud(e,n,"formTarget",r.formTarget,r,null)):(ud(e,n,"encType",r.encType,r,null),ud(e,n,"method",r.method,r,null),ud(e,n,"target",r.target,r,null))),null==a||"symbol"===typeof a||"boolean"===typeof a){e.removeAttribute(t);break}a=On(""+a),e.setAttribute(t,a);break;case"onClick":null!=a&&(e.onclick=Pn);break;case"onScroll":null!=a&&$u("scroll",e);break;case"onScrollEnd":null!=a&&$u("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=a){if("object"!==typeof a||!("__html"in a))throw Error(i(61));if(null!=(t=a.__html)){if(null!=r.children)throw Error(i(60));e.innerHTML=t}}break;case"multiple":e.multiple=a&&"function"!==typeof a&&"symbol"!==typeof a;break;case"muted":e.muted=a&&"function"!==typeof a&&"symbol"!==typeof a;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==a||"function"===typeof a||"boolean"===typeof a||"symbol"===typeof a){e.removeAttribute("xlink:href");break}t=On(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",t);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=a&&"function"!==typeof a&&"symbol"!==typeof a?e.setAttribute(t,""+a):e.removeAttribute(t);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&"function"!==typeof a&&"symbol"!==typeof a?e.setAttribute(t,""):e.removeAttribute(t);break;case"capture":case"download":!0===a?e.setAttribute(t,""):!1!==a&&null!=a&&"function"!==typeof a&&"symbol"!==typeof a?e.setAttribute(t,a):e.removeAttribute(t);break;case"cols":case"rows":case"size":case"span":null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&!isNaN(a)&&1<=a?e.setAttribute(t,a):e.removeAttribute(t);break;case"rowSpan":case"start":null==a||"function"===typeof a||"symbol"===typeof a||isNaN(a)?e.removeAttribute(t):e.setAttribute(t,a);break;case"popover":$u("beforetoggle",e),$u("toggle",e),cn(e,"popover",a);break;case"xlinkActuate":dn(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":dn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":dn(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":dn(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":dn(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":dn(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":dn(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":dn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":dn(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":cn(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&cn(e,t=wn.get(t)||t,a)}}function dd(e,n,t,a,r,o){switch(t){case"style":Ln(e,a,o);break;case"dangerouslySetInnerHTML":if(null!=a){if("object"!==typeof a||!("__html"in a))throw Error(i(61));if(null!=(t=a.__html)){if(null!=r.children)throw Error(i(60));e.innerHTML=t}}break;case"children":"string"===typeof a?Rn(e,a):("number"===typeof a||"bigint"===typeof a)&&Rn(e,""+a);break;case"onScroll":null!=a&&$u("scroll",e);break;case"onScrollEnd":null!=a&&$u("scrollend",e);break;case"onClick":null!=a&&(e.onclick=Pn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:tn.hasOwnProperty(t)||("o"!==t[0]||"n"!==t[1]||(r=t.endsWith("Capture"),n=t.slice(2,r?t.length-7:void 0),"function"===typeof(o=null!=(o=e[Be]||null)?o[t]:null)&&e.removeEventListener(n,o,r),"function"!==typeof a)?t in e?e[t]=a:!0===a?e.setAttribute(t,""):cn(e,t,a):("function"!==typeof o&&null!==o&&(t in e?e[t]=null:e.hasAttribute(t)&&e.removeAttribute(t)),e.addEventListener(n,a,r)))}}function pd(e,n,t){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":$u("error",e),$u("load",e);var a,r=!1,o=!1;for(a in t)if(t.hasOwnProperty(a)){var s=t[a];if(null!=s)switch(a){case"src":r=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,n));default:ud(e,n,a,s,t,null)}}return o&&ud(e,n,"srcSet",t.srcSet,t,null),void(r&&ud(e,n,"src",t.src,t,null));case"input":$u("invalid",e);var l=a=s=o=null,c=null,u=null;for(r in t)if(t.hasOwnProperty(r)){var d=t[r];if(null!=d)switch(r){case"name":o=d;break;case"type":s=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":a=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(i(137,n));break;default:ud(e,n,r,d,t,null)}}return void En(e,a,l,c,u,s,o,!1);case"select":for(o in $u("invalid",e),r=s=a=null,t)if(t.hasOwnProperty(o)&&null!=(l=t[o]))switch(o){case"value":a=l;break;case"defaultValue":s=l;break;case"multiple":r=l;default:ud(e,n,o,l,t,null)}return n=a,t=s,e.multiple=!!r,void(null!=n?xn(e,!!r,n,!1):null!=t&&xn(e,!!r,t,!0));case"textarea":for(s in $u("invalid",e),a=o=r=null,t)if(t.hasOwnProperty(s)&&null!=(l=t[s]))switch(s){case"value":r=l;break;case"defaultValue":o=l;break;case"children":a=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(i(91));break;default:ud(e,n,s,l,t,null)}return void Cn(e,r,o,a);case"option":for(c in t)if(t.hasOwnProperty(c)&&null!=(r=t[c]))if("selected"===c)e.selected=r&&"function"!==typeof r&&"symbol"!==typeof r;else ud(e,n,c,r,t,null);return;case"dialog":$u("beforetoggle",e),$u("toggle",e),$u("cancel",e),$u("close",e);break;case"iframe":case"object":$u("load",e);break;case"video":case"audio":for(r=0;r<Vu.length;r++)$u(Vu[r],e);break;case"image":$u("error",e),$u("load",e);break;case"details":$u("toggle",e);break;case"embed":case"source":case"link":$u("error",e),$u("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in t)if(t.hasOwnProperty(u)&&null!=(r=t[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,n));default:ud(e,n,u,r,t,null)}return;default:if(An(n)){for(d in t)t.hasOwnProperty(d)&&(void 0!==(r=t[d])&&dd(e,n,d,r,t,void 0));return}}for(l in t)t.hasOwnProperty(l)&&(null!=(r=t[l])&&ud(e,n,l,r,t,null))}function md(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}var fd=null,gd=null;function hd(e){return 9===e.nodeType?e:e.ownerDocument}function bd(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function yd(e,n){if(0===e)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===n?0:e}function vd(e,n){return"textarea"===e||"noscript"===e||"string"===typeof n.children||"number"===typeof n.children||"bigint"===typeof n.children||"object"===typeof n.dangerouslySetInnerHTML&&null!==n.dangerouslySetInnerHTML&&null!=n.dangerouslySetInnerHTML.__html}var Ed=null;var Sd="function"===typeof setTimeout?setTimeout:void 0,xd="function"===typeof clearTimeout?clearTimeout:void 0,Td="function"===typeof Promise?Promise:void 0,Cd="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof Td?function(e){return Td.resolve(null).then(e).catch(Rd)}:Sd;function Rd(e){setTimeout(function(){throw e})}function Nd(e){return"head"===e}function kd(e,n){var t=n,a=0;do{var r=t.nextSibling;if(e.removeChild(t),r&&8===r.nodeType)if("/$"===(t=r.data)||"/&"===t){if(0===a)return e.removeChild(r),void Wp(n);a--}else if("$"===t||"$?"===t||"$~"===t||"$!"===t||"&"===t)a++;else if("html"===t)Ud(e.ownerDocument.documentElement);else if("head"===t){Ud(t=e.ownerDocument.head);for(var o=t.firstChild;o;){var i=o.nextSibling,s=o.nodeName;o[Ye]||"SCRIPT"===s||"STYLE"===s||"LINK"===s&&"stylesheet"===o.rel.toLowerCase()||t.removeChild(o),o=i}}else"body"===t&&Ud(e.ownerDocument.body);t=r}while(t);Wp(n)}function Ld(e,n){var t=e;e=0;do{var a=t.nextSibling;if(1===t.nodeType?n?(t._stashedDisplay=t.style.display,t.style.display="none"):(t.style.display=t._stashedDisplay||"",""===t.getAttribute("style")&&t.removeAttribute("style")):3===t.nodeType&&(n?(t._stashedText=t.nodeValue,t.nodeValue=""):t.nodeValue=t._stashedText||""),a&&8===a.nodeType)if("/$"===(t=a.data)){if(0===e)break;e--}else"$"!==t&&"$?"!==t&&"$~"!==t&&"$!"!==t||e++;t=a}while(t)}function Ad(e){var n=e.firstChild;for(n&&10===n.nodeType&&(n=n.nextSibling);n;){var t=n;switch(n=n.nextSibling,t.nodeName){case"HTML":case"HEAD":case"BODY":Ad(t),Je(t);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===t.rel.toLowerCase())continue}e.removeChild(t)}}function wd(e,n){for(;8!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=Pd(e.nextSibling)))return null}return e}function Id(e){return"$?"===e.data||"$~"===e.data}function Od(e){return"$!"===e.data||"$?"===e.data&&"loading"!==e.ownerDocument.readyState}function Pd(e){for(;null!=e;e=e.nextSibling){var n=e.nodeType;if(1===n||3===n)break;if(8===n){if("$"===(n=e.data)||"$!"===n||"$?"===n||"$~"===n||"&"===n||"F!"===n||"F"===n)break;if("/$"===n||"/&"===n)return null}}return e}var qd=null;function _d(e){e=e.nextSibling;for(var n=0;e;){if(8===e.nodeType){var t=e.data;if("/$"===t||"/&"===t){if(0===n)return Pd(e.nextSibling);n--}else"$"!==t&&"$!"!==t&&"$?"!==t&&"$~"!==t&&"&"!==t||n++}e=e.nextSibling}return null}function jd(e){e=e.previousSibling;for(var n=0;e;){if(8===e.nodeType){var t=e.data;if("$"===t||"$!"===t||"$?"===t||"$~"===t||"&"===t){if(0===n)return e;n--}else"/$"!==t&&"/&"!==t||n++}e=e.previousSibling}return null}function Dd(e,n,t){switch(n=hd(t),e){case"html":if(!(e=n.documentElement))throw Error(i(452));return e;case"head":if(!(e=n.head))throw Error(i(453));return e;case"body":if(!(e=n.body))throw Error(i(454));return e;default:throw Error(i(451))}}function Ud(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Je(e)}var zd=new Map,Md=new Set;function Fd(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Bd=_.d;_.d={f:function(){var e=Bd.f(),n=Zc();return e||n},r:function(e){var n=Ke(e);null!==n&&5===n.tag&&"form"===n.type?as(n):Bd.r(e)},D:function(e){Bd.D(e),Wd("dns-prefetch",e,null)},C:function(e,n){Bd.C(e,n),Wd("preconnect",e,n)},L:function(e,n,t){Bd.L(e,n,t);var a=Hd;if(a&&e&&n){var r='link[rel="preload"][as="'+yn(n)+'"]';"image"===n&&t&&t.imageSrcSet?(r+='[imagesrcset="'+yn(t.imageSrcSet)+'"]',"string"===typeof t.imageSizes&&(r+='[imagesizes="'+yn(t.imageSizes)+'"]')):r+='[href="'+yn(e)+'"]';var o=r;switch(n){case"style":o=Gd(e);break;case"script":o=Jd(e)}zd.has(o)||(e=m({rel:"preload",href:"image"===n&&t&&t.imageSrcSet?void 0:e,as:n},t),zd.set(o,e),null!==a.querySelector(r)||"style"===n&&a.querySelector(Vd(o))||"script"===n&&a.querySelector($d(o))||(pd(n=a.createElement("link"),"link",e),en(n),a.head.appendChild(n)))}},m:function(e,n){Bd.m(e,n);var t=Hd;if(t&&e){var a=n&&"string"===typeof n.as?n.as:"script",r='link[rel="modulepreload"][as="'+yn(a)+'"][href="'+yn(e)+'"]',o=r;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":o=Jd(e)}if(!zd.has(o)&&(e=m({rel:"modulepreload",href:e},n),zd.set(o,e),null===t.querySelector(r))){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(t.querySelector($d(o)))return}pd(a=t.createElement("link"),"link",e),en(a),t.head.appendChild(a)}}},X:function(e,n){Bd.X(e,n);var t=Hd;if(t&&e){var a=Ze(t).hoistableScripts,r=Jd(e),o=a.get(r);o||((o=t.querySelector($d(r)))||(e=m({src:e,async:!0},n),(n=zd.get(r))&&ep(e,n),en(o=t.createElement("script")),pd(o,"link",e),t.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},a.set(r,o))}},S:function(e,n,t){Bd.S(e,n,t);var a=Hd;if(a&&e){var r=Ze(a).hoistableStyles,o=Gd(e);n=n||"default";var i=r.get(o);if(!i){var s={loading:0,preload:null};if(i=a.querySelector(Vd(o)))s.loading=5;else{e=m({rel:"stylesheet",href:e,"data-precedence":n},t),(t=zd.get(o))&&Zd(e,t);var l=i=a.createElement("link");en(l),pd(l,"link",e),l._p=new Promise(function(e,n){l.onload=e,l.onerror=n}),l.addEventListener("load",function(){s.loading|=1}),l.addEventListener("error",function(){s.loading|=2}),s.loading|=4,Xd(i,n,a)}i={type:"stylesheet",instance:i,count:1,state:s},r.set(o,i)}}},M:function(e,n){Bd.M(e,n);var t=Hd;if(t&&e){var a=Ze(t).hoistableScripts,r=Jd(e),o=a.get(r);o||((o=t.querySelector($d(r)))||(e=m({src:e,async:!0,type:"module"},n),(n=zd.get(r))&&ep(e,n),en(o=t.createElement("script")),pd(o,"link",e),t.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},a.set(r,o))}}};var Hd="undefined"===typeof document?null:document;function Wd(e,n,t){var a=Hd;if(a&&"string"===typeof n&&n){var r=yn(n);r='link[rel="'+e+'"][href="'+r+'"]',"string"===typeof t&&(r+='[crossorigin="'+t+'"]'),Md.has(r)||(Md.add(r),e={rel:e,crossOrigin:t,href:n},null===a.querySelector(r)&&(pd(n=a.createElement("link"),"link",e),en(n),a.head.appendChild(n)))}}function Qd(e,n,t,a){var r,o,s,l,c=(c=G.current)?Fd(c):null;if(!c)throw Error(i(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof t.precedence&&"string"===typeof t.href?(n=Gd(t.href),(a=(t=Ze(c).hoistableStyles).get(n))||(a={type:"style",instance:null,count:0,state:null},t.set(n,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===t.rel&&"string"===typeof t.href&&"string"===typeof t.precedence){e=Gd(t.href);var u=Ze(c).hoistableStyles,d=u.get(e);if(d||(c=c.ownerDocument||c,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,d),(u=c.querySelector(Vd(e)))&&!u._p&&(d.instance=u,d.state.loading=5),zd.has(e)||(t={rel:"preload",as:"style",href:t.href,crossOrigin:t.crossOrigin,integrity:t.integrity,media:t.media,hrefLang:t.hrefLang,referrerPolicy:t.referrerPolicy},zd.set(e,t),u||(r=c,o=e,s=t,l=d.state,r.querySelector('link[rel="preload"][as="style"]['+o+"]")?l.loading=1:(o=r.createElement("link"),l.preload=o,o.addEventListener("load",function(){return l.loading|=1}),o.addEventListener("error",function(){return l.loading|=2}),pd(o,"link",s),en(o),r.head.appendChild(o))))),n&&null===a)throw Error(i(528,""));return d}if(n&&null!==a)throw Error(i(529,""));return null;case"script":return n=t.async,"string"===typeof(t=t.src)&&n&&"function"!==typeof n&&"symbol"!==typeof n?(n=Jd(t),(a=(t=Ze(c).hoistableScripts).get(n))||(a={type:"script",instance:null,count:0,state:null},t.set(n,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,e))}}function Gd(e){return'href="'+yn(e)+'"'}function Vd(e){return'link[rel="stylesheet"]['+e+"]"}function Yd(e){return m({},e,{"data-precedence":e.precedence,precedence:null})}function Jd(e){return'[src="'+yn(e)+'"]'}function $d(e){return"script[async]"+e}function Kd(e,n,t){if(n.count++,null===n.instance)switch(n.type){case"style":var a=e.querySelector('style[data-href~="'+yn(t.href)+'"]');if(a)return n.instance=a,en(a),a;var r=m({},t,{"data-href":t.href,"data-precedence":t.precedence,href:null,precedence:null});return en(a=(e.ownerDocument||e).createElement("style")),pd(a,"style",r),Xd(a,t.precedence,e),n.instance=a;case"stylesheet":r=Gd(t.href);var o=e.querySelector(Vd(r));if(o)return n.state.loading|=4,n.instance=o,en(o),o;a=Yd(t),(r=zd.get(r))&&Zd(a,r),en(o=(e.ownerDocument||e).createElement("link"));var s=o;return s._p=new Promise(function(e,n){s.onload=e,s.onerror=n}),pd(o,"link",a),n.state.loading|=4,Xd(o,t.precedence,e),n.instance=o;case"script":return o=Jd(t.src),(r=e.querySelector($d(o)))?(n.instance=r,en(r),r):(a=t,(r=zd.get(o))&&ep(a=m({},t),r),en(r=(e=e.ownerDocument||e).createElement("script")),pd(r,"link",a),e.head.appendChild(r),n.instance=r);case"void":return null;default:throw Error(i(443,n.type))}else"stylesheet"===n.type&&0===(4&n.state.loading)&&(a=n.instance,n.state.loading|=4,Xd(a,t.precedence,e));return n.instance}function Xd(e,n,t){for(var a=t.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=a.length?a[a.length-1]:null,o=r,i=0;i<a.length;i++){var s=a[i];if(s.dataset.precedence===n)o=s;else if(o!==r)break}o?o.parentNode.insertBefore(e,o.nextSibling):(n=9===t.nodeType?t.head:t).insertBefore(e,n.firstChild)}function Zd(e,n){null==e.crossOrigin&&(e.crossOrigin=n.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=n.referrerPolicy),null==e.title&&(e.title=n.title)}function ep(e,n){null==e.crossOrigin&&(e.crossOrigin=n.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=n.referrerPolicy),null==e.integrity&&(e.integrity=n.integrity)}var np=null;function tp(e,n,t){if(null===np){var a=new Map,r=np=new Map;r.set(t,a)}else(a=(r=np).get(t))||(a=new Map,r.set(t,a));if(a.has(e))return a;for(a.set(e,null),t=t.getElementsByTagName(e),r=0;r<t.length;r++){var o=t[r];if(!(o[Ye]||o[Fe]||"link"===e&&"stylesheet"===o.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==o.namespaceURI){var i=o.getAttribute(n)||"";i=e+i;var s=a.get(i);s?s.push(o):a.set(i,[o])}}return a}function ap(e,n,t){(e=e.ownerDocument||e).head.insertBefore(t,"title"===n?e.querySelector("head > title"):null)}function rp(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var op=0;function ip(){if(this.count--,0===this.count&&(0===this.imgCount||!this.waitingForImages))if(this.stylesheets)lp(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var sp=null;function lp(e,n){e.stylesheets=null,null!==e.unsuspend&&(e.count++,sp=new Map,n.forEach(cp,e),sp=null,ip.call(e))}function cp(e,n){if(!(4&n.state.loading)){var t=sp.get(e);if(t)var a=t.get(null);else{t=new Map,sp.set(e,t);for(var r=e.querySelectorAll("link[data-precedence],style[data-precedence]"),o=0;o<r.length;o++){var i=r[o];"LINK"!==i.nodeName&&"not all"===i.getAttribute("media")||(t.set(i.dataset.precedence,i),a=i)}a&&t.set(null,a)}i=(r=n.instance).getAttribute("data-precedence"),(o=t.get(i)||a)===a&&t.set(null,r),t.set(i,r),this.count++,a=ip.bind(this),r.addEventListener("load",a),r.addEventListener("error",a),o?o.parentNode.insertBefore(r,o.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(r,e.firstChild),n.state.loading|=4}}var up={$$typeof:S,Provider:null,Consumer:null,_currentValue:j,_currentValue2:j,_threadCount:0};function dp(e,n,t,a,r,o,i,s,l){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ie(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ie(0),this.hiddenUpdates=Ie(null),this.identifierPrefix=a,this.onUncaughtError=r,this.onCaughtError=o,this.onRecoverableError=i,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=l,this.incompleteTransitions=new Map}function pp(e,n,t,a,r,o,i,s,l,c,u,d){return e=new dp(e,n,t,i,l,c,u,d,s),n=1,!0===o&&(n|=24),o=Ua(3,null,null,n),e.current=o,o.stateNode=e,(n=zr()).refCount++,e.pooledCache=n,n.refCount++,o.memoizedState={element:a,isDehydrated:t,cache:n},bo(o),e}function mp(e){return e?e=ja:ja}function fp(e,n,t,a,r,o){r=mp(r),null===a.context?a.context=r:a.pendingContext=r,(a=vo(n)).payload={element:t},null!==(o=void 0===o?null:o)&&(a.callback=o),null!==(t=Eo(e,a,n))&&(Yc(t,0,n),So(t,e,n))}function gp(e,n){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var t=e.retryLane;e.retryLane=0!==t&&t<n?t:n}}function hp(e,n){gp(e,n),(e=e.alternate)&&gp(e,n)}function bp(e){if(13===e.tag||31===e.tag){var n=Pa(e,67108864);null!==n&&Yc(n,0,67108864),hp(e,67108864)}}function yp(e){if(13===e.tag||31===e.tag){var n=Gc(),t=Pa(e,n=je(n));null!==t&&Yc(t,0,n),hp(e,n)}}var vp=!0;function Ep(e,n,t,a){var r=q.T;q.T=null;var o=_.p;try{_.p=2,xp(e,n,t,a)}finally{_.p=o,q.T=r}}function Sp(e,n,t,a){var r=q.T;q.T=null;var o=_.p;try{_.p=8,xp(e,n,t,a)}finally{_.p=o,q.T=r}}function xp(e,n,t,a){if(vp){var r=Tp(a);if(null===r)nd(e,n,a,Cp,t),_p(e,a);else if(function(e,n,t,a,r){switch(n){case"focusin":return Lp=jp(Lp,e,n,t,a,r),!0;case"dragenter":return Ap=jp(Ap,e,n,t,a,r),!0;case"mouseover":return wp=jp(wp,e,n,t,a,r),!0;case"pointerover":var o=r.pointerId;return Ip.set(o,jp(Ip.get(o)||null,e,n,t,a,r)),!0;case"gotpointercapture":return o=r.pointerId,Op.set(o,jp(Op.get(o)||null,e,n,t,a,r)),!0}return!1}(r,e,n,t,a))a.stopPropagation();else if(_p(e,a),4&n&&-1<qp.indexOf(e)){for(;null!==r;){var o=Ke(r);if(null!==o)switch(o.tag){case 3:if((o=o.stateNode).current.memoizedState.isDehydrated){var i=Ne(o.pendingLanes);if(0!==i){var s=o;for(s.pendingLanes|=2,s.entangledLanes|=2;i;){var l=1<<31-Ee(i);s.entanglements[1]|=l,i&=~l}_u(o),0===(6&mc)&&(qc=le()+500,ju(0,!1))}}break;case 31:case 13:null!==(s=Pa(o,2))&&Yc(s,0,2),Zc(),hp(o,2)}if(null===(o=Tp(a))&&nd(e,n,a,Cp,t),o===r)break;r=o}null!==r&&a.stopPropagation()}else nd(e,n,a,null,t)}}function Tp(e){return Rp(e=_n(e))}var Cp=null;function Rp(e){if(Cp=null,null!==(e=$e(e))){var n=l(e);if(null===n)e=null;else{var t=n.tag;if(13===t){if(null!==(e=c(n)))return e;e=null}else if(31===t){if(null!==(e=u(n)))return e;e=null}else if(3===t){if(n.stateNode.current.memoizedState.isDehydrated)return 3===n.tag?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Cp=e,null}function Np(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ce()){case ue:return 2;case de:return 8;case pe:case me:return 32;case fe:return 268435456;default:return 32}default:return 32}}var kp=!1,Lp=null,Ap=null,wp=null,Ip=new Map,Op=new Map,Pp=[],qp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function _p(e,n){switch(e){case"focusin":case"focusout":Lp=null;break;case"dragenter":case"dragleave":Ap=null;break;case"mouseover":case"mouseout":wp=null;break;case"pointerover":case"pointerout":Ip.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Op.delete(n.pointerId)}}function jp(e,n,t,a,r,o){return null===e||e.nativeEvent!==o?(e={blockedOn:n,domEventName:t,eventSystemFlags:a,nativeEvent:o,targetContainers:[r]},null!==n&&(null!==(n=Ke(n))&&bp(n)),e):(e.eventSystemFlags|=a,n=e.targetContainers,null!==r&&-1===n.indexOf(r)&&n.push(r),e)}function Dp(e){var n=$e(e.target);if(null!==n){var t=l(n);if(null!==t)if(13===(n=t.tag)){if(null!==(n=c(t)))return e.blockedOn=n,void ze(e.priority,function(){yp(t)})}else if(31===n){if(null!==(n=u(t)))return e.blockedOn=n,void ze(e.priority,function(){yp(t)})}else if(3===n&&t.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===t.tag?t.stateNode.containerInfo:null)}e.blockedOn=null}function Up(e){if(null!==e.blockedOn)return!1;for(var n=e.targetContainers;0<n.length;){var t=Tp(e.nativeEvent);if(null!==t)return null!==(n=Ke(t))&&bp(n),e.blockedOn=t,!1;var a=new(t=e.nativeEvent).constructor(t.type,t);qn=a,t.target.dispatchEvent(a),qn=null,n.shift()}return!0}function zp(e,n,t){Up(e)&&t.delete(n)}function Mp(){kp=!1,null!==Lp&&Up(Lp)&&(Lp=null),null!==Ap&&Up(Ap)&&(Ap=null),null!==wp&&Up(wp)&&(wp=null),Ip.forEach(zp),Op.forEach(zp)}function Fp(e,n){e.blockedOn===n&&(e.blockedOn=null,kp||(kp=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Mp)))}var Bp=null;function Hp(e){Bp!==e&&(Bp=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){Bp===e&&(Bp=null);for(var n=0;n<e.length;n+=3){var t=e[n],a=e[n+1],r=e[n+2];if("function"!==typeof a){if(null===Rp(a||t))continue;break}var o=Ke(t);null!==o&&(e.splice(n,3),n-=3,ns(o,{pending:!0,data:r,method:t.method,action:a},a,r))}}))}function Wp(e){function n(n){return Fp(n,e)}null!==Lp&&Fp(Lp,e),null!==Ap&&Fp(Ap,e),null!==wp&&Fp(wp,e),Ip.forEach(n),Op.forEach(n);for(var t=0;t<Pp.length;t++){var a=Pp[t];a.blockedOn===e&&(a.blockedOn=null)}for(;0<Pp.length&&null===(t=Pp[0]).blockedOn;)Dp(t),null===t.blockedOn&&Pp.shift();if(null!=(t=(e.ownerDocument||e).$$reactFormReplay))for(a=0;a<t.length;a+=3){var r=t[a],o=t[a+1],i=r[Be]||null;if("function"===typeof o)i||Hp(t);else if(i){var s=null;if(o&&o.hasAttribute("formAction")){if(r=o,i=o[Be]||null)s=i.formAction;else if(null!==Rp(r))continue}else s=i.action;"function"===typeof s?t[a+1]=s:(t.splice(a,3),a-=3),Hp(t)}}}function Qp(){function e(e){e.canIntercept&&"react-transition"===e.info&&e.intercept({handler:function(){return new Promise(function(e){return r=e})},focusReset:"manual",scroll:"manual"})}function n(){null!==r&&(r(),r=null),a||setTimeout(t,20)}function t(){if(!a&&!navigation.transition){var e=navigation.currentEntry;e&&null!=e.url&&navigation.navigate(e.url,{state:e.getState(),info:"react-transition",history:"replace"})}}if("object"===typeof navigation){var a=!1,r=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(t,100),function(){a=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),null!==r&&(r(),r=null)}}}function Gp(e){this._internalRoot=e}function Vp(e){this._internalRoot=e}Vp.prototype.render=Gp.prototype.render=function(e){var n=this._internalRoot;if(null===n)throw Error(i(409));fp(n.current,Gc(),e,n,null,null)},Vp.prototype.unmount=Gp.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var n=e.containerInfo;fp(e.current,2,null,e,null,null),Zc(),n[He]=null}},Vp.prototype.unstable_scheduleHydration=function(e){if(e){var n=Ue();e={blockedOn:null,target:e,priority:n};for(var t=0;t<Pp.length&&0!==n&&n<Pp[t].priority;t++);Pp.splice(t,0,e),0===t&&Dp(e)}};var Yp=r.version;if("19.2.4"!==Yp)throw Error(i(527,Yp,"19.2.4"));_.findDOMNode=function(e){var n=e._reactInternals;if(void 0===n){if("function"===typeof e.render)throw Error(i(188));throw e=Object.keys(e).join(","),Error(i(268,e))}return e=function(e){var n=e.alternate;if(!n){if(null===(n=l(e)))throw Error(i(188));return n!==e?null:e}for(var t=e,a=n;;){var r=t.return;if(null===r)break;var o=r.alternate;if(null===o){if(null!==(a=r.return)){t=a;continue}break}if(r.child===o.child){for(o=r.child;o;){if(o===t)return d(r),e;if(o===a)return d(r),n;o=o.sibling}throw Error(i(188))}if(t.return!==a.return)t=r,a=o;else{for(var s=!1,c=r.child;c;){if(c===t){s=!0,t=r,a=o;break}if(c===a){s=!0,a=r,t=o;break}c=c.sibling}if(!s){for(c=o.child;c;){if(c===t){s=!0,t=o,a=r;break}if(c===a){s=!0,a=o,t=r;break}c=c.sibling}if(!s)throw Error(i(189))}}if(t.alternate!==a)throw Error(i(190))}if(3!==t.tag)throw Error(i(188));return t.stateNode.current===t?e:n}(n),e=null===(e=null!==e?p(e):null)?null:e.stateNode};var Jp={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.2.4"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var $p=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$p.isDisabled&&$p.supportsFiber)try{be=$p.inject(Jp),ye=$p}catch(Xp){}}n.createRoot=function(e,n){if(!s(e))throw Error(i(299));var t=!1,a="",r=Cs,o=Rs,l=Ns;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(t=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onUncaughtError&&(r=n.onUncaughtError),void 0!==n.onCaughtError&&(o=n.onCaughtError),void 0!==n.onRecoverableError&&(l=n.onRecoverableError)),n=pp(e,1,!1,null,0,t,a,null,r,o,l,Qp),e[He]=n.current,Zu(e),new Gp(n)},n.hydrateRoot=function(e,n,t){if(!s(e))throw Error(i(299));var a=!1,r="",o=Cs,l=Rs,c=Ns,u=null;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(a=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onUncaughtError&&(o=t.onUncaughtError),void 0!==t.onCaughtError&&(l=t.onCaughtError),void 0!==t.onRecoverableError&&(c=t.onRecoverableError),void 0!==t.formState&&(u=t.formState)),(n=pp(e,1,!0,n,0,a,r,u,o,l,c,Qp)).context=mp(null),t=n.current,(r=vo(a=je(a=Gc()))).callback=null,Eo(t,r,a),t=a,n.current.lanes=t,Oe(n,t),_u(n),e[He]=n.current,Zu(e),new Vp(n)},n.version="19.2.4"},672(e,n,t){var a=t(43);function r(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var t=2;t<arguments.length;t++)n+="&args[]="+encodeURIComponent(arguments[t])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var i={d:{f:o,r:function(){throw Error(r(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},s=Symbol.for("react.portal");var l=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,n){return"font"===e?"":"string"===typeof n?"use-credentials"===n?n:"":void 0}n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,n.createPortal=function(e,n){var t=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!n||1!==n.nodeType&&9!==n.nodeType&&11!==n.nodeType)throw Error(r(299));return function(e,n,t){var a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:s,key:null==a?null:""+a,children:e,containerInfo:n,implementation:t}}(e,n,null,t)},n.flushSync=function(e){var n=l.T,t=i.p;try{if(l.T=null,i.p=2,e)return e()}finally{l.T=n,i.p=t,i.d.f()}},n.preconnect=function(e,n){"string"===typeof e&&(n?n="string"===typeof(n=n.crossOrigin)?"use-credentials"===n?n:"":void 0:n=null,i.d.C(e,n))},n.prefetchDNS=function(e){"string"===typeof e&&i.d.D(e)},n.preinit=function(e,n){if("string"===typeof e&&n&&"string"===typeof n.as){var t=n.as,a=c(t,n.crossOrigin),r="string"===typeof n.integrity?n.integrity:void 0,o="string"===typeof n.fetchPriority?n.fetchPriority:void 0;"style"===t?i.d.S(e,"string"===typeof n.precedence?n.precedence:void 0,{crossOrigin:a,integrity:r,fetchPriority:o}):"script"===t&&i.d.X(e,{crossOrigin:a,integrity:r,fetchPriority:o,nonce:"string"===typeof n.nonce?n.nonce:void 0})}},n.preinitModule=function(e,n){if("string"===typeof e)if("object"===typeof n&&null!==n){if(null==n.as||"script"===n.as){var t=c(n.as,n.crossOrigin);i.d.M(e,{crossOrigin:t,integrity:"string"===typeof n.integrity?n.integrity:void 0,nonce:"string"===typeof n.nonce?n.nonce:void 0})}}else null==n&&i.d.M(e)},n.preload=function(e,n){if("string"===typeof e&&"object"===typeof n&&null!==n&&"string"===typeof n.as){var t=n.as,a=c(t,n.crossOrigin);i.d.L(e,t,{crossOrigin:a,integrity:"string"===typeof n.integrity?n.integrity:void 0,nonce:"string"===typeof n.nonce?n.nonce:void 0,type:"string"===typeof n.type?n.type:void 0,fetchPriority:"string"===typeof n.fetchPriority?n.fetchPriority:void 0,referrerPolicy:"string"===typeof n.referrerPolicy?n.referrerPolicy:void 0,imageSrcSet:"string"===typeof n.imageSrcSet?n.imageSrcSet:void 0,imageSizes:"string"===typeof n.imageSizes?n.imageSizes:void 0,media:"string"===typeof n.media?n.media:void 0})}},n.preloadModule=function(e,n){if("string"===typeof e)if(n){var t=c(n.as,n.crossOrigin);i.d.m(e,{as:"string"===typeof n.as&&"script"!==n.as?n.as:void 0,crossOrigin:t,integrity:"string"===typeof n.integrity?n.integrity:void 0})}else i.d.m(e)},n.requestFormReset=function(e){i.d.r(e)},n.unstable_batchedUpdates=function(e,n){return e(n)},n.useFormState=function(e,n,t){return l.H.useFormState(e,n,t)},n.useFormStatus=function(){return l.H.useHostTransitionStatus()},n.version="19.2.4"},391(e,n,t){!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}(),e.exports=t(4)},950(e,n,t){!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}(),e.exports=t(672)},799(e,n){var t=Symbol.for("react.transitional.element"),a=Symbol.for("react.fragment");function r(e,n,a){var r=null;if(void 0!==a&&(r=""+a),void 0!==n.key&&(r=""+n.key),"key"in n)for(var o in a={},n)"key"!==o&&(a[o]=n[o]);else a=n;return n=a.ref,{$$typeof:t,type:e,key:r,ref:void 0!==n?n:null,props:a}}n.Fragment=a,n.jsx=r,n.jsxs=r},288(e,n){var t=Symbol.for("react.transitional.element"),a=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.for("react.activity"),f=Symbol.iterator;var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},h=Object.assign,b={};function y(e,n,t){this.props=e,this.context=n,this.refs=b,this.updater=t||g}function v(){}function E(e,n,t){this.props=e,this.context=n,this.refs=b,this.updater=t||g}y.prototype.isReactComponent={},y.prototype.setState=function(e,n){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,n,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var S=E.prototype=new v;S.constructor=E,h(S,y.prototype),S.isPureReactComponent=!0;var x=Array.isArray;function T(){}var C={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function N(e,n,a){var r=a.ref;return{$$typeof:t,type:e,key:n,ref:void 0!==r?r:null,props:a}}function k(e){return"object"===typeof e&&null!==e&&e.$$typeof===t}var L=/\/+/g;function A(e,n){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var n={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return n[e]})}(""+e.key):n.toString(36)}function w(e,n,r,o,i){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l,c,u=!1;if(null===e)u=!0;else switch(s){case"bigint":case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case t:case a:u=!0;break;case p:return w((u=e._init)(e._payload),n,r,o,i)}}if(u)return i=i(e),u=""===o?"."+A(e,0):o,x(i)?(r="",null!=u&&(r=u.replace(L,"$&/")+"/"),w(i,n,r,"",function(e){return e})):null!=i&&(k(i)&&(l=i,c=r+(null==i.key||e&&e.key===i.key?"":(""+i.key).replace(L,"$&/")+"/")+u,i=N(l.type,c,l.props)),n.push(i)),1;u=0;var d,m=""===o?".":o+":";if(x(e))for(var g=0;g<e.length;g++)u+=w(o=e[g],n,r,s=m+A(o,g),i);else if("function"===typeof(g=null===(d=e)||"object"!==typeof d?null:"function"===typeof(d=f&&d[f]||d["@@iterator"])?d:null))for(e=g.call(e),g=0;!(o=e.next()).done;)u+=w(o=o.value,n,r,s=m+A(o,g++),i);else if("object"===s){if("function"===typeof e.then)return w(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(T,T):(e.status="pending",e.then(function(n){"pending"===e.status&&(e.status="fulfilled",e.value=n)},function(n){"pending"===e.status&&(e.status="rejected",e.reason=n)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),n,r,o,i);throw n=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===n?"object with keys {"+Object.keys(e).join(", ")+"}":n)+"). If you meant to render a collection of children, use an array instead.")}return u}function I(e,n,t){if(null==e)return e;var a=[],r=0;return w(e,a,"","",function(e){return n.call(t,e,r++)}),a}function O(e){if(-1===e._status){var n=e._result;(n=n()).then(function(n){0!==e._status&&-1!==e._status||(e._status=1,e._result=n)},function(n){0!==e._status&&-1!==e._status||(e._status=2,e._result=n)}),-1===e._status&&(e._status=0,e._result=n)}if(1===e._status)return e._result.default;throw e._result}var P="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},q={map:I,forEach:function(e,n,t){I(e,function(){n.apply(this,arguments)},t)},count:function(e){var n=0;return I(e,function(){n++}),n},toArray:function(e){return I(e,function(e){return e})||[]},only:function(e){if(!k(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};n.Activity=m,n.Children=q,n.Component=y,n.Fragment=r,n.Profiler=i,n.PureComponent=E,n.StrictMode=o,n.Suspense=u,n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,n.__COMPILER_RUNTIME={__proto__:null,c:function(e){return C.H.useMemoCache(e)}},n.cache=function(e){return function(){return e.apply(null,arguments)}},n.cacheSignal=function(){return null},n.cloneElement=function(e,n,t){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var a=h({},e.props),r=e.key;if(null!=n)for(o in void 0!==n.key&&(r=""+n.key),n)!R.call(n,o)||"key"===o||"__self"===o||"__source"===o||"ref"===o&&void 0===n.ref||(a[o]=n[o]);var o=arguments.length-2;if(1===o)a.children=t;else if(1<o){for(var i=Array(o),s=0;s<o;s++)i[s]=arguments[s+2];a.children=i}return N(e.type,r,a)},n.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:s,_context:e},e},n.createElement=function(e,n,t){var a,r={},o=null;if(null!=n)for(a in void 0!==n.key&&(o=""+n.key),n)R.call(n,a)&&"key"!==a&&"__self"!==a&&"__source"!==a&&(r[a]=n[a]);var i=arguments.length-2;if(1===i)r.children=t;else if(1<i){for(var s=Array(i),l=0;l<i;l++)s[l]=arguments[l+2];r.children=s}if(e&&e.defaultProps)for(a in i=e.defaultProps)void 0===r[a]&&(r[a]=i[a]);return N(e,o,r)},n.createRef=function(){return{current:null}},n.forwardRef=function(e){return{$$typeof:c,render:e}},n.isValidElement=k,n.lazy=function(e){return{$$typeof:p,_payload:{_status:-1,_result:e},_init:O}},n.memo=function(e,n){return{$$typeof:d,type:e,compare:void 0===n?null:n}},n.startTransition=function(e){var n=C.T,t={};C.T=t;try{var a=e(),r=C.S;null!==r&&r(t,a),"object"===typeof a&&null!==a&&"function"===typeof a.then&&a.then(T,P)}catch(o){P(o)}finally{null!==n&&null!==t.types&&(n.types=t.types),C.T=n}},n.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},n.use=function(e){return C.H.use(e)},n.useActionState=function(e,n,t){return C.H.useActionState(e,n,t)},n.useCallback=function(e,n){return C.H.useCallback(e,n)},n.useContext=function(e){return C.H.useContext(e)},n.useDebugValue=function(){},n.useDeferredValue=function(e,n){return C.H.useDeferredValue(e,n)},n.useEffect=function(e,n){return C.H.useEffect(e,n)},n.useEffectEvent=function(e){return C.H.useEffectEvent(e)},n.useId=function(){return C.H.useId()},n.useImperativeHandle=function(e,n,t){return C.H.useImperativeHandle(e,n,t)},n.useInsertionEffect=function(e,n){return C.H.useInsertionEffect(e,n)},n.useLayoutEffect=function(e,n){return C.H.useLayoutEffect(e,n)},n.useMemo=function(e,n){return C.H.useMemo(e,n)},n.useOptimistic=function(e,n){return C.H.useOptimistic(e,n)},n.useReducer=function(e,n,t){return C.H.useReducer(e,n,t)},n.useRef=function(e){return C.H.useRef(e)},n.useState=function(e){return C.H.useState(e)},n.useSyncExternalStore=function(e,n,t){return C.H.useSyncExternalStore(e,n,t)},n.useTransition=function(){return C.H.useTransition()},n.version="19.2.4"},43(e,n,t){e.exports=t(288)},579(e,n,t){e.exports=t(799)},896(e,n){function t(e,n){var t=e.length;e.push(n);e:for(;0<t;){var a=t-1>>>1,r=e[a];if(!(0<o(r,n)))break e;e[a]=n,e[t]=r,t=a}}function a(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var n=e[0],t=e.pop();if(t!==n){e[0]=t;e:for(var a=0,r=e.length,i=r>>>1;a<i;){var s=2*(a+1)-1,l=e[s],c=s+1,u=e[c];if(0>o(l,t))c<r&&0>o(u,l)?(e[a]=u,e[c]=t,a=c):(e[a]=l,e[s]=t,a=s);else{if(!(c<r&&0>o(u,t)))break e;e[a]=u,e[c]=t,a=c}}}return n}function o(e,n){var t=e.sortIndex-n.sortIndex;return 0!==t?t:e.id-n.id}if(n.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var i=performance;n.unstable_now=function(){return i.now()}}else{var s=Date,l=s.now();n.unstable_now=function(){return s.now()-l}}var c=[],u=[],d=1,p=null,m=3,f=!1,g=!1,h=!1,b=!1,y="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,E="undefined"!==typeof setImmediate?setImmediate:null;function S(e){for(var n=a(u);null!==n;){if(null===n.callback)r(u);else{if(!(n.startTime<=e))break;r(u),n.sortIndex=n.expirationTime,t(c,n)}n=a(u)}}function x(e){if(h=!1,S(e),!g)if(null!==a(c))g=!0,C||(C=!0,T());else{var n=a(u);null!==n&&O(x,n.startTime-e)}}var T,C=!1,R=-1,N=5,k=-1;function L(){return!!b||!(n.unstable_now()-k<N)}function A(){if(b=!1,C){var e=n.unstable_now();k=e;var t=!0;try{e:{g=!1,h&&(h=!1,v(R),R=-1),f=!0;var o=m;try{n:{for(S(e),p=a(c);null!==p&&!(p.expirationTime>e&&L());){var i=p.callback;if("function"===typeof i){p.callback=null,m=p.priorityLevel;var s=i(p.expirationTime<=e);if(e=n.unstable_now(),"function"===typeof s){p.callback=s,S(e),t=!0;break n}p===a(c)&&r(c),S(e)}else r(c);p=a(c)}if(null!==p)t=!0;else{var l=a(u);null!==l&&O(x,l.startTime-e),t=!1}}break e}finally{p=null,m=o,f=!1}t=void 0}}finally{t?T():C=!1}}}if("function"===typeof E)T=function(){E(A)};else if("undefined"!==typeof MessageChannel){var w=new MessageChannel,I=w.port2;w.port1.onmessage=A,T=function(){I.postMessage(null)}}else T=function(){y(A,0)};function O(e,t){R=y(function(){e(n.unstable_now())},t)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(e){e.callback=null},n.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<e?Math.floor(1e3/e):5},n.unstable_getCurrentPriorityLevel=function(){return m},n.unstable_next=function(e){switch(m){case 1:case 2:case 3:var n=3;break;default:n=m}var t=m;m=n;try{return e()}finally{m=t}},n.unstable_requestPaint=function(){b=!0},n.unstable_runWithPriority=function(e,n){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var t=m;m=e;try{return n()}finally{m=t}},n.unstable_scheduleCallback=function(e,r,o){var i=n.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?i+o:i:o=i,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:r,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>i?(e.sortIndex=o,t(u,e),null===a(c)&&e===a(u)&&(h?(v(R),R=-1):h=!0,O(x,o-i))):(e.sortIndex=s,t(c,e),g||f||(g=!0,C||(C=!0,T()))),e},n.unstable_shouldYield=L,n.unstable_wrapCallback=function(e){var n=m;return function(){var t=m;m=n;try{return e.apply(this,arguments)}finally{m=t}}}},853(e,n,t){e.exports=t(896)}},n={};function t(a){var r=n[a];if(void 0!==r)return r.exports;var o=n[a]={exports:{}};return e[a](o,o.exports,t),o.exports}t.m=e,t.d=(e,n)=>{for(var a in n)t.o(n,a)&&!t.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:n[a]})},t.f={},t.e=e=>Promise.all(Object.keys(t.f).reduce((n,a)=>(t.f[a](e,n),n),[])),t.u=e=>"static/js/"+e+".6d5b1e48.chunk.js",t.miniCssF=e=>{},t.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),(()=>{var e={},n="learningbd:";t.l=(a,r,o,i)=>{if(e[a])e[a].push(r);else{var s,l;if(void 0!==o)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==a||d.getAttribute("data-webpack")==n+o){s=d;break}}s||(l=!0,(s=document.createElement("script")).charset="utf-8",t.nc&&s.setAttribute("nonce",t.nc),s.setAttribute("data-webpack",n+o),s.src=a),e[a]=[r];var p=(n,t)=>{s.onerror=s.onload=null,clearTimeout(m);var r=e[a];if(delete e[a],s.parentNode&&s.parentNode.removeChild(s),r&&r.forEach(e=>e(t)),n)return n(t)},m=setTimeout(p.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=p.bind(null,s.onerror),s.onload=p.bind(null,s.onload),l&&document.head.appendChild(s)}}})(),t.p="/pms/",(()=>{var e={792:0};t.f.j=(n,a)=>{var r=t.o(e,n)?e[n]:void 0;if(0!==r)if(r)a.push(r[2]);else{var o=new Promise((t,a)=>r=e[n]=[t,a]);a.push(r[2]=o);var i=t.p+t.u(n),s=new Error;t.l(i,a=>{if(t.o(e,n)&&(0!==(r=e[n])&&(e[n]=void 0),r)){var o=a&&("load"===a.type?"missing":a.type),i=a&&a.target&&a.target.src;s.message="Loading chunk "+n+" failed.\n("+o+": "+i+")",s.name="ChunkLoadError",s.type=o,s.request=i,r[1](s)}},"chunk-"+n,n)}};var n=(n,a)=>{var r,o,[i,s,l]=a,c=0;if(i.some(n=>0!==e[n])){for(r in s)t.o(s,r)&&(t.m[r]=s[r]);if(l)l(t)}for(n&&n(a);c<i.length;c++)o=i[c],t.o(e,o)&&e[o]&&e[o][0](),e[o]=0},a=self.webpackChunklearningbd=self.webpackChunklearningbd||[];a.forEach(n.bind(null,0)),a.push=n.bind(null,a.push.bind(a))})();var a=t(43),r=t(391);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function i(e){var n=function(e,n){if("object"!=o(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var a=t.call(e,n||"default");if("object"!=o(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==o(n)?n:n+""}function s(e,n,t){return(n=i(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function l(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,a)}return t}function c(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?l(Object(t),!0).forEach(function(n){s(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var u=t(579);const d="#faf7f2",p="#f3ede3",m="#ffffff",f="#e2d9cc",g="#c9bfb0",h="#2d2416",b="#6b5c47",y="#a0917e",v="#d97706",E="#fef3c7",S="#b45309",x="#166534",T="#dcfce7",C="#1e40af",R="#dbeafe",N="#fee2e2",k="#5b21b6",L="#ede9fe",A="#1e1b14",w="#e8dfc8",I=[{id:1,emoji:"\ud83d\uddc2\ufe0f",title:"Fundamentos del Modelo Relacional",subtitle:"Entender antes de escribir",color:v,colorLt:E,xp:80,tag:"BASES",lessons:[{id:"1-1",type:"concept",title:"\xbfQu\xe9 es una base de datos relacional?",duration:"10 min",content:"Una base de datos relacional organiza la informaci\xf3n en **tablas** (tambi\xe9n llamadas relaciones). Cada tabla tiene:\n\n- **Filas** (tuplas): representan un registro individual. Ej: un cliente, un producto.\n- **Columnas** (atributos): representan una caracter\xedstica. Ej: nombre, precio, fecha.\n- **Primary Key (PK)**: valor \xfanico que identifica cada fila. Nunca puede ser NULL ni repetirse.\n- **Foreign Key (FK)**: columna que referencia la PK de otra tabla, creando una relaci\xf3n.\n\n**\xbfPor qu\xe9 relacional?**\nPorque los datos se relacionan entre s\xed. Un pedido pertenece a un cliente; un empleado pertenece a un departamento. Normalizar estos datos evita duplicaci\xf3n y mantiene consistencia.\n\n**Ejemplo b\xe1sico:**\n```sql\n-- Tabla de clientes\nCREATE TABLE clientes (\n  id        SERIAL PRIMARY KEY,\n  nombre    VARCHAR(100) NOT NULL,\n  email     VARCHAR(150) UNIQUE NOT NULL,\n  creado_en TIMESTAMPTZ  DEFAULT NOW()\n);\n\n-- Tabla de pedidos (referencia a clientes)\nCREATE TABLE pedidos (\n  id          SERIAL PRIMARY KEY,\n  cliente_id  INT NOT NULL REFERENCES clientes(id),\n  total       NUMERIC(10,2) NOT NULL,\n  fecha       DATE DEFAULT CURRENT_DATE\n);\n```\n\n**Conceptos de integridad:**\n- **NOT NULL**: la columna debe tener un valor siempre.\n- **UNIQUE**: no puede haber dos filas con el mismo valor en esa columna.\n- **CHECK**: valida que el valor cumpla una condici\xf3n.\n- **DEFAULT**: valor autom\xe1tico si no se especifica uno."},{id:"1-2",type:"concept",title:"Tipos de datos esenciales en PostgreSQL",duration:"12 min",content:"PostgreSQL tiene uno de los sistemas de tipos m\xe1s ricos. Los m\xe1s usados:\n\n**Texto:**\n```sql\nVARCHAR(n)   -- texto de hasta n caracteres (ej: nombres)\nTEXT         -- texto de largo ilimitado (ej: descripciones, notas)\nCHAR(n)      -- texto de exactamente n caracteres (raramente \xfatil)\n```\n\n**N\xfameros:**\n```sql\nSMALLINT     -- entero peque\xf1o (-32k a 32k)\nINTEGER      -- entero com\xfan (-2B a 2B)  \nBIGINT       -- entero grande (recomendado para IDs de tablas grandes)\nSERIAL       -- entero autoincremental (atajo para secuencias)\nBIGSERIAL    -- bigint autoincremental\nNUMERIC(p,s) -- decimal exacto. p=d\xedgitos totales, s=decimales. Ideal para dinero\nFLOAT/REAL   -- decimales aproximados (no uses para dinero)\n```\n\n**Fechas y tiempos:**\n```sql\nDATE         -- solo fecha: '2024-03-15'\nTIME         -- solo hora: '14:30:00'\nTIMESTAMP    -- fecha + hora sin zona horaria\nTIMESTAMPTZ  -- fecha + hora CON zona horaria (recomendado siempre)\nINTERVAL     -- duraci\xf3n: '3 days', '2 hours 30 minutes'\n```\n\n**Otros muy \xfatiles:**\n```sql\nBOOLEAN      -- TRUE / FALSE / NULL\nUUID         -- identificador \xfanico universal\nJSONB        -- JSON binario (b\xfasquedas r\xe1pidas)\nARRAY        -- arreglo de cualquier tipo: INTEGER[], TEXT[]\n```\n\n**Regla de oro:** Para dinero usa NUMERIC, nunca FLOAT. Para fechas con hora usa TIMESTAMPTZ. Para IDs en tablas grandes usa BIGSERIAL."},{id:"1-3",type:"exercise",title:"Mini-proyecto: Dise\xf1a tu primer esquema",duration:"20 min",scenario:"Vas a dise\xf1ar el esquema de una **librer\xeda en l\xednea**. \n\nEl sistema necesita registrar:\n- Libros (t\xedtulo, ISBN \xfanico, precio, a\xf1o de publicaci\xf3n, descripci\xf3n)\n- Autores (nombre, pa\xeds, bio corta)\n- Un libro puede tener m\xfaltiples autores y un autor puede tener m\xfaltiples libros\n- Clientes (nombre, email \xfanico, fecha de registro)\n- \xd3rdenes de compra (cliente, fecha, estado)\n- Cada orden tiene uno o varios libros (con cantidad y precio al momento de la compra)\n\n**Tarea:** Escribe el CREATE TABLE de todas las tablas necesarias. Piensa en las claves primarias, for\xe1neas y restricciones apropiadas.",hint:"Recuerda: cuando hay una relaci\xf3n muchos-a-muchos (como libros-autores), necesitas una tabla intermedia. Lo mismo para orden-libros. El precio en la l\xednea de orden debe guardarse aunque el libro cambie de precio despu\xe9s.",solution:"-- Autores\nCREATE TABLE autores (\n  id      BIGSERIAL PRIMARY KEY,\n  nombre  VARCHAR(150) NOT NULL,\n  pais    VARCHAR(80),\n  bio     TEXT\n);\n\n-- Libros\nCREATE TABLE libros (\n  id         BIGSERIAL PRIMARY KEY,\n  titulo     VARCHAR(300) NOT NULL,\n  isbn       VARCHAR(20) UNIQUE NOT NULL,\n  precio     NUMERIC(8,2) NOT NULL CHECK (precio >= 0),\n  ano_pub    SMALLINT CHECK (ano_pub BETWEEN 1000 AND 2100),\n  descripcion TEXT\n);\n\n-- Relaci\xf3n muchos-a-muchos libros-autores\nCREATE TABLE libros_autores (\n  libro_id  BIGINT NOT NULL REFERENCES libros(id) ON DELETE CASCADE,\n  autor_id  BIGINT NOT NULL REFERENCES autores(id) ON DELETE CASCADE,\n  PRIMARY KEY (libro_id, autor_id)\n);\n\n-- Clientes\nCREATE TABLE clientes (\n  id          BIGSERIAL PRIMARY KEY,\n  nombre      VARCHAR(150) NOT NULL,\n  email       VARCHAR(200) UNIQUE NOT NULL,\n  registrado  TIMESTAMPTZ DEFAULT NOW()\n);\n\n-- \xd3rdenes\nCREATE TABLE ordenes (\n  id          BIGSERIAL PRIMARY KEY,\n  cliente_id  BIGINT NOT NULL REFERENCES clientes(id),\n  fecha       TIMESTAMPTZ DEFAULT NOW(),\n  estado      VARCHAR(20) NOT NULL DEFAULT 'pendiente'\n                CHECK (estado IN ('pendiente','pagada','enviada','cancelada'))\n);\n\n-- L\xedneas de orden (precio congelado al momento de la compra)\nCREATE TABLE orden_items (\n  id          BIGSERIAL PRIMARY KEY,\n  orden_id    BIGINT NOT NULL REFERENCES ordenes(id) ON DELETE CASCADE,\n  libro_id    BIGINT NOT NULL REFERENCES libros(id),\n  cantidad    SMALLINT NOT NULL DEFAULT 1 CHECK (cantidad > 0),\n  precio_unit NUMERIC(8,2) NOT NULL  -- precio al momento de compra\n);",keyPoints:["ON DELETE CASCADE borra los items cuando se borra la orden padre","El CHECK en estado reemplaza una tabla de lookup para valores fijos peque\xf1os","Guardar precio_unit en orden_items congela el precio hist\xf3rico \u2014 patr\xf3n muy com\xfan","PK compuesta (libro_id, autor_id) garantiza que no se duplique la relaci\xf3n"]},{id:"1-4",type:"quiz",title:"Quiz: Modelo relacional",questions:[{q:"\xbfCu\xe1l es la diferencia entre PRIMARY KEY y UNIQUE?",opts:["No hay diferencia, son equivalentes","PRIMARY KEY implica UNIQUE + NOT NULL, y solo puede haber una por tabla. UNIQUE puede repetirse y admite NULLs","UNIQUE es para strings, PRIMARY KEY para n\xfameros","PRIMARY KEY no puede usarse con SERIAL"],correct:1,explain:"Una tabla solo puede tener una PRIMARY KEY, que autom\xe1ticamente es UNIQUE y NOT NULL. Puede tener m\xfaltiples columnas UNIQUE, y estas s\xed admiten NULL (aunque NULL \u2260 NULL en SQL, as\xed que dos NULLs no se consideran duplicados)."},{q:"\xbfQu\xe9 tipo de dato usar\xedas para almacenar el saldo de una cuenta bancaria?",opts:["FLOAT","DOUBLE PRECISION","NUMERIC(15,2)","INTEGER"],correct:2,explain:"FLOAT y DOUBLE son aproximaciones de punto flotante \u2014 pueden acumular errores de redondeo. NUMERIC(15,2) almacena decimales exactos, fundamental en operaciones financieras."},{q:"Tienes estudiantes y materias, un estudiante puede cursar varias materias y una materia puede tener varios estudiantes. \xbfQu\xe9 estructura de tablas necesitas?",opts:["Dos tablas: estudiantes y materias, con un array de IDs en cada una","Tres tablas: estudiantes, materias, y una tabla intermedia estudiantes_materias","Una sola tabla con columnas para ambas entidades","Dos tablas con FK en materias apuntando a estudiantes"],correct:1,explain:"La relaci\xf3n muchos-a-muchos requiere una tabla intermedia (junction table). Guardar arrays de IDs viola la primera forma normal y hace las consultas muy dif\xedciles. La tabla intermedia es el patr\xf3n correcto."}]}],resources:[{type:"book",icon:"\ud83d\udcd6",title:"Learning SQL \u2014 Alan Beaulieu",detail:"Cap\xedtulos 1-3: introducci\xf3n al modelo relacional, tipos de datos y creaci\xf3n de tablas. Libro gratuito en O'Reilly con cuenta de biblioteca.",url:"https://www.oreilly.com/library/view/learning-sql-3rd/9781492057604/"},{type:"video",icon:"\ud83c\udfac",title:"Database Design Course \u2014 freeCodeCamp",detail:"Las primeras 2 horas cubren entidades, relaciones y normalizaci\xf3n con ejemplos visuales muy claros.",url:"https://www.youtube.com/watch?v=ztHopE5Wnpc"},{type:"practice",icon:"\ud83d\udcbb",title:"PostgreSQL Tutorial \u2014 postgresqltutorial.com",detail:"Secci\xf3n 'Getting Started': instalar PostgreSQL, crear una base de datos y ejecutar tus primeras queries.",url:"https://www.postgresqltutorial.com/"}]},{id:2,emoji:"\ud83d\udd0d",title:"SELECT: El arte de consultar datos",subtitle:"Filtrar, ordenar y transformar",color:"#0369a1",colorLt:"#e0f2fe",xp:100,tag:"CONSULTAS",lessons:[{id:"2-1",type:"concept",title:"SELECT profundo: m\xe1s all\xe1 de SELECT *",duration:"15 min",content:"**SELECT *** es c\xf3modo pero problem\xe1tico en producci\xf3n. Aprende a ser preciso:\n\n```sql\n-- \u274c Evitar en producci\xf3n\nSELECT * FROM clientes;\n\n-- \u2705 Especifica qu\xe9 necesitas\nSELECT id, nombre, email FROM clientes;\n```\n\n**Alias con AS:**\n```sql\nSELECT \n  nombre AS cliente_nombre,\n  email  AS correo,\n  UPPER(nombre) AS nombre_mayusculas,\n  EXTRACT(YEAR FROM creado_en) AS ano_registro\nFROM clientes;\n```\n\n**Expresiones calculadas:**\n```sql\nSELECT \n  titulo,\n  precio,\n  precio * 1.16 AS precio_con_iva,\n  ROUND(precio * 0.90, 2) AS precio_descuento_10pct\nFROM productos;\n```\n\n**WHERE: filtros simples y compuestos:**\n```sql\n-- Comparaciones: =, !=, <>, <, >, <=, >=\n-- L\xf3gica: AND, OR, NOT\n-- Rangos: BETWEEN, NOT BETWEEN\n-- Listas: IN, NOT IN\n-- Nulos: IS NULL, IS NOT NULL\n-- Texto: LIKE, ILIKE (case-insensitive)\n\nSELECT * FROM productos\nWHERE precio BETWEEN 10 AND 50\n  AND categoria IN ('libros', 'papeler\xeda')\n  AND descripcion IS NOT NULL\n  AND nombre ILIKE '%python%';  -- busca \"python\" sin importar may\xfasculas\n```\n\n**ORDER BY y LIMIT:**\n```sql\nSELECT nombre, precio\nFROM productos\nORDER BY precio DESC, nombre ASC\nLIMIT 10\nOFFSET 20;  -- para paginaci\xf3n: salta los primeros 20\n```\n\n**CASE WHEN (if-else en SQL):**\n```sql\nSELECT \n  nombre,\n  precio,\n  CASE \n    WHEN precio < 20  THEN 'econ\xf3mico'\n    WHEN precio < 100 THEN 'moderado'\n    ELSE 'premium'\n  END AS rango_precio\nFROM productos;\n```"},{id:"2-2",type:"concept",title:"Funciones esenciales de PostgreSQL",duration:"15 min",content:"**Funciones de texto:**\n```sql\nUPPER(texto)          -- 'hola' \u2192 'HOLA'\nLOWER(texto)          -- 'HOLA' \u2192 'hola'\nTRIM(texto)           -- elimina espacios al inicio/fin\nLENGTH(texto)         -- n\xfamero de caracteres\nSUBSTRING(texto, 1,5) -- extrae substring: posici\xf3n, longitud\nCONCAT(a, ' ', b)     -- concatenar (tambi\xe9n: a || ' ' || b)\nREPLACE(texto, 'de','')-- reemplazar\nLEFT(texto, 3)        -- primeros 3 caracteres\nRIGHT(texto, 3)       -- \xfaltimos 3 caracteres\nSPLIT_PART('a,b,c',',',2) -- \u2192 'b'\n```\n\n**Funciones de fecha:**\n```sql\nNOW()                          -- fecha y hora actual\nCURRENT_DATE                   -- solo fecha de hoy\nEXTRACT(YEAR FROM fecha)       -- extraer parte: YEAR, MONTH, DAY, HOUR...\nDATE_PART('month', fecha)      -- equivalente a EXTRACT\nDATE_TRUNC('month', fecha)     -- truncar al inicio del mes\nAGE(fecha1, fecha2)            -- diferencia como intervalo\nfecha + INTERVAL '30 days'     -- sumar tiempo\nTO_CHAR(fecha, 'DD/MM/YYYY')   -- formatear como texto\nTO_DATE('15/03/2024','DD/MM/YYYY') -- texto a fecha\n```\n\n**Funciones num\xe9ricas:**\n```sql\nROUND(3.14159, 2)    -- \u2192 3.14\nCEIL(3.1)            -- \u2192 4 (redondear arriba)\nFLOOR(3.9)           -- \u2192 3 (redondear abajo)\nABS(-42)             -- \u2192 42 (valor absoluto)\nMOD(10, 3)           -- \u2192 1 (m\xf3dulo / resto)\nPOWER(2, 10)         -- \u2192 1024\n```\n\n**Funciones de nulos:**\n```sql\nCOALESCE(col1, col2, 'valor_defecto')  -- retorna el primer no-NULL\nNULLIF(a, b)                           -- retorna NULL si a = b\n```"},{id:"2-3",type:"exercise",title:"Ejercicio: Consultas sobre la librer\xeda",duration:"25 min",scenario:"Usando el esquema de la librer\xeda del m\xf3dulo anterior, escribe queries para:\n\n1. Listar todos los libros con precio entre $15 y $60, ordenados de m\xe1s caro a m\xe1s barato.\n2. Encontrar los 5 clientes registrados m\xe1s recientemente, mostrando nombre, email y hace cu\xe1ntos d\xedas se registraron.\n3. Mostrar cada libro con su precio original, precio con 8% de descuento (redondeado a 2 decimales), y una etiqueta: 'bajo' si queda < $20, 'medio' si queda entre $20-$50, 'alto' si supera $50.\n4. Listar libros cuyo t\xedtulo contenga la palabra 'data' (sin importar may\xfasculas) y que tengan descripci\xf3n.",hint:"Para el tiempo desde el registro: DATE_PART('day', NOW() - registrado) o simplemente (NOW()::DATE - registrado::DATE). Para el CASE con precio con descuento, necesitas repetir el c\xe1lculo o usar una subquery.",solution:"-- 1. Libros entre $15 y $60\nSELECT titulo, precio\nFROM libros\nWHERE precio BETWEEN 15 AND 60\nORDER BY precio DESC;\n\n-- 2. 5 clientes m\xe1s recientes con d\xedas desde registro\nSELECT \n  nombre,\n  email,\n  registrado::DATE AS fecha_registro,\n  (CURRENT_DATE - registrado::DATE) AS dias_registrado\nFROM clientes\nORDER BY registrado DESC\nLIMIT 5;\n\n-- 3. Precios con descuento y etiqueta\nSELECT\n  titulo,\n  precio AS precio_original,\n  ROUND(precio * 0.92, 2) AS precio_con_descuento,\n  CASE\n    WHEN ROUND(precio * 0.92, 2) < 20   THEN 'bajo'\n    WHEN ROUND(precio * 0.92, 2) <= 50  THEN 'medio'\n    ELSE 'alto'\n  END AS rango\nFROM libros;\n\n-- Alternativa m\xe1s limpia con subquery:\nSELECT titulo, precio_original, precio_con_descuento,\n  CASE\n    WHEN precio_con_descuento < 20  THEN 'bajo'\n    WHEN precio_con_descuento <= 50 THEN 'medio'\n    ELSE 'alto'\n  END AS rango\nFROM (\n  SELECT titulo, precio AS precio_original,\n         ROUND(precio * 0.92, 2) AS precio_con_descuento\n  FROM libros\n) sub;\n\n-- 4. Libros con 'data' en t\xedtulo y con descripci\xf3n\nSELECT titulo, descripcion\nFROM libros\nWHERE titulo ILIKE '%data%'\n  AND descripcion IS NOT NULL;",keyPoints:["ILIKE es case-insensitive, LIKE es sensible a may\xfasculas","El cast ::DATE convierte TIMESTAMPTZ a fecha, permitiendo la resta directa","Una subquery en el FROM permite reusar columnas calculadas en el mismo nivel","BETWEEN es inclusivo en ambos extremos"]},{id:"2-4",type:"quiz",title:"Quiz: SELECT y filtros",questions:[{q:"\xbfQu\xe9 diferencia hay entre WHERE y HAVING?",opts:["No hay diferencia, son sin\xf3nimos","WHERE filtra filas antes de agrupar; HAVING filtra grupos despu\xe9s del GROUP BY","HAVING es m\xe1s r\xe1pido que WHERE","WHERE solo funciona con strings, HAVING con n\xfameros"],correct:1,explain:"WHERE se ejecuta antes de GROUP BY y filtra filas individuales. HAVING se ejecuta despu\xe9s y filtra grupos ya formados. Si puedes usar WHERE, \xfasalo \u2014 es m\xe1s eficiente porque reduce las filas antes de agrupar."},{q:"\xbfQu\xe9 retorna COALESCE(NULL, NULL, 'tercero', 'cuarto')?",opts:["NULL","'tercero'","'cuarto'","Un error"],correct:1,explain:"COALESCE retorna el primer valor no-NULL. Como los primeros dos son NULL, retorna 'tercero'. Es extremadamente \xfatil para dar valores por defecto cuando una columna puede ser NULL."},{q:"\xbfCu\xe1l es el resultado de: SELECT 'juan' LIKE 'J%'?",opts:["TRUE","FALSE","NULL","Error de sintaxis"],correct:1,explain:"LIKE es case-sensitive. 'juan' no empieza con 'J' may\xfascula, por eso es FALSE. Para b\xfasqueda sin importar may\xfasculas, usa ILIKE (PostgreSQL) o LOWER(col) LIKE LOWER(patron)."}]}],resources:[{type:"book",icon:"\ud83d\udcd6",title:"Learning SQL \u2014 Alan Beaulieu",detail:"Cap\xedtulos 4-7: cl\xe1usula WHERE, operadores, funciones de texto y fecha. Especialmente \xfatil el cap\xedtulo sobre NULL.",url:"https://www.oreilly.com/library/view/learning-sql-3rd/9781492057604/"},{type:"practice",icon:"\ud83c\udfae",title:"SQLZoo \u2014 Ejercicios interactivos",detail:"Secciones 'SELECT basics', 'SELECT names' y 'SELECT from World'. Resuelves queries en el navegador con retroalimentaci\xf3n inmediata.",url:"https://sqlzoo.net/wiki/SQL_Tutorial"},{type:"practice",icon:"\ud83d\udcbb",title:"pgexercises.com",detail:"Ejercicios interactivos espec\xedficos de PostgreSQL. Empieza por la secci\xf3n 'Basic' \u2014 13 ejercicios con explicaciones detalladas.",url:"https://pgexercises.com/questions/basic/"}]},{id:3,emoji:"\ud83d\udd17",title:"JOINs: Conectando Tablas",subtitle:"El poder del modelo relacional en acci\xf3n",color:"#065f46",colorLt:"#d1fae5",xp:120,tag:"RELACIONES",lessons:[{id:"3-1",type:"concept",title:"INNER JOIN, LEFT JOIN y sus variantes",duration:"20 min",content:"Los JOINs combinan filas de dos o m\xe1s tablas bas\xe1ndose en una condici\xf3n.\n\n**INNER JOIN** \u2014 solo filas que tienen coincidencia en ambas tablas:\n```sql\nSELECT c.nombre, p.total, p.fecha\nFROM clientes c\nINNER JOIN pedidos p ON p.cliente_id = c.id;\n-- Solo clientes que tienen al menos un pedido\n```\n\n**LEFT JOIN** \u2014 todas las filas de la tabla izquierda, m\xe1s las coincidencias de la derecha (NULL si no hay):\n```sql\nSELECT c.nombre, p.total, p.fecha\nFROM clientes c\nLEFT JOIN pedidos p ON p.cliente_id = c.id;\n-- Todos los clientes, incluso los que NO tienen pedidos\n-- Sus columnas de pedidos ser\xe1n NULL\n```\n\n**RIGHT JOIN** \u2014 igual que LEFT pero al rev\xe9s (poco com\xfan; conviene reescribir como LEFT):\n```sql\n-- Estos dos queries son equivalentes:\nSELECT * FROM a RIGHT JOIN b ON a.id = b.a_id;\nSELECT * FROM b LEFT JOIN a ON a.id = b.a_id;\n```\n\n**FULL OUTER JOIN** \u2014 todas las filas de ambas tablas:\n```sql\nSELECT c.nombre, p.nombre AS proveedor\nFROM clientes c\nFULL OUTER JOIN proveedores p ON c.region = p.region;\n```\n\n**Patr\xf3n muy \xfatil: encontrar filas SIN coincidencia:**\n```sql\n-- Clientes que NUNCA han hecho un pedido\nSELECT c.id, c.nombre\nFROM clientes c\nLEFT JOIN pedidos p ON p.cliente_id = c.id\nWHERE p.id IS NULL;  -- Si p.id es NULL, no hay pedido\n```\n\n**M\xfaltiples JOINs:**\n```sql\nSELECT \n  c.nombre AS cliente,\n  p.fecha,\n  pr.titulo AS producto,\n  oi.cantidad,\n  oi.precio_unit\nFROM ordenes p\nJOIN clientes c     ON c.id = p.cliente_id\nJOIN orden_items oi ON oi.orden_id = p.id\nJOIN libros pr      ON pr.id = oi.libro_id\nORDER BY p.fecha DESC;\n```"},{id:"3-2",type:"concept",title:"GROUP BY y funciones de agregaci\xf3n",duration:"18 min",content:"**GROUP BY** agrupa filas con el mismo valor en columnas especificadas, permitiendo aplicar funciones de agregaci\xf3n al grupo.\n\n**Funciones de agregaci\xf3n:**\n```sql\nCOUNT(*)         -- cuenta todas las filas del grupo\nCOUNT(columna)   -- cuenta filas donde columna no es NULL\nSUM(columna)     -- suma total\nAVG(columna)     -- promedio\nMIN(columna)     -- valor m\xednimo\nMAX(columna)     -- valor m\xe1ximo\n```\n\n**Ejemplo paso a paso:**\n```sql\n-- Total de ventas y n\xfamero de \xf3rdenes por cliente\nSELECT \n  c.nombre,\n  COUNT(o.id)    AS total_ordenes,\n  SUM(oi.precio_unit * oi.cantidad) AS ingresos_total,\n  AVG(oi.precio_unit * oi.cantidad) AS ticket_promedio,\n  MAX(o.fecha)   AS ultima_orden\nFROM clientes c\nJOIN ordenes o    ON o.cliente_id = c.id\nJOIN orden_items oi ON oi.orden_id = o.id\nGROUP BY c.id, c.nombre  -- debes incluir todas las columnas no-agregadas\nHAVING SUM(oi.precio_unit * oi.cantidad) > 100  -- solo clientes con >$100\nORDER BY ingresos_total DESC;\n```\n\n**Regla importante:** En un SELECT con GROUP BY, cada columna debe ser:\n1. Parte del GROUP BY, O\n2. Una funci\xf3n de agregaci\xf3n (SUM, COUNT, etc.)\n\n```sql\n-- \u274c ERROR: nombre no est\xe1 en GROUP BY ni es agregada\nSELECT nombre, email, COUNT(*) FROM clientes GROUP BY nombre;\n\n-- \u2705 CORRECTO\nSELECT nombre, email, COUNT(*) FROM clientes GROUP BY nombre, email;\n```\n\n**COUNT(*) vs COUNT(columna):**\n```sql\n-- COUNT(*) cuenta todas las filas, incluyendo las que tienen NULL\n-- COUNT(columna) ignora los NULLs en esa columna\nSELECT \n  COUNT(*) AS total_productos,\n  COUNT(descripcion) AS productos_con_descripcion\nFROM libros;\n```"},{id:"3-3",type:"exercise",title:"Ejercicio: Reportes con JOINs",duration:"30 min",scenario:"Con el esquema de la librer\xeda, escribe queries para:\n\n1. Listar todos los libros con el nombre de sus autores (un libro con 2 autores debe aparecer 2 veces).\n2. Mostrar los 3 libros m\xe1s vendidos (por cantidad de ejemplares vendidos en total).\n3. Listar los clientes que **no han realizado ninguna orden**.\n4. Calcular el ingreso total por mes del a\xf1o 2024, mostrando el mes en formato 'Enero 2024', y ordenado cronol\xf3gicamente.",hint:"Para el punto 4: usa DATE_TRUNC para agrupar por mes y TO_CHAR para formatearlo. Para el punto 3: LEFT JOIN con WHERE IS NULL es el patr\xf3n correcto.",solution:"-- 1. Libros con sus autores\nSELECT l.titulo, a.nombre AS autor\nFROM libros l\nJOIN libros_autores la ON la.libro_id = l.id\nJOIN autores a ON a.id = la.autor_id\nORDER BY l.titulo, a.nombre;\n\n-- 2. Top 3 libros m\xe1s vendidos por cantidad\nSELECT \n  l.titulo,\n  SUM(oi.cantidad) AS ejemplares_vendidos\nFROM libros l\nJOIN orden_items oi ON oi.libro_id = l.id\nGROUP BY l.id, l.titulo\nORDER BY ejemplares_vendidos DESC\nLIMIT 3;\n\n-- 3. Clientes sin \xf3rdenes (anti-join)\nSELECT c.id, c.nombre, c.email\nFROM clientes c\nLEFT JOIN ordenes o ON o.cliente_id = c.id\nWHERE o.id IS NULL;\n\n-- 4. Ingresos por mes en 2024\nSELECT \n  TO_CHAR(DATE_TRUNC('month', o.fecha), 'Month YYYY') AS mes,\n  SUM(oi.precio_unit * oi.cantidad) AS ingresos\nFROM ordenes o\nJOIN orden_items oi ON oi.orden_id = o.id\nWHERE o.fecha >= '2024-01-01' AND o.fecha < '2025-01-01'\nGROUP BY DATE_TRUNC('month', o.fecha)\nORDER BY DATE_TRUNC('month', o.fecha);",keyPoints:["El patr\xf3n LEFT JOIN + WHERE IS NULL es el anti-join: encuentra filas sin correspondencia","Siempre agrupar por el campo que usas para filtrar (DATE_TRUNC), no por el formateado (TO_CHAR)","WHERE fecha >= '2024-01-01' AND fecha < '2025-01-01' es m\xe1s seguro que BETWEEN con timestamps","SUM(oi.precio_unit * oi.cantidad) calcula el subtotal l\xednea a l\xednea antes de sumar"]},{id:"3-4",type:"quiz",title:"Quiz: JOINs y agregaciones",questions:[{q:"Tabla A tiene 4 filas, tabla B tiene 3 filas. \xbfCu\xe1ntas filas puede retornar un CROSS JOIN entre A y B?",opts:["4","3","7","12"],correct:3,explain:"CROSS JOIN produce el producto cartesiano: cada fila de A combinada con cada fila de B. 4 \xd7 3 = 12 filas. Rara vez se usa intencionalmente, pero es bueno saber qu\xe9 pasa cuando omites la condici\xf3n ON en un JOIN."},{q:"\xbfPor qu\xe9 a veces COUNT(*) y COUNT(columna) dan resultados diferentes?",opts:["Son siempre iguales","COUNT(*) cuenta filas totales; COUNT(columna) ignora filas donde esa columna es NULL","COUNT(columna) es m\xe1s lento","COUNT(*) solo funciona sin GROUP BY"],correct:1,explain:"COUNT(*) cuenta todas las filas del grupo sin excepci\xf3n. COUNT(columna) solo cuenta las filas donde esa columna tiene un valor (no NULL). \xdatil para saber cu\xe1ntos registros tienen un campo opcional rellenado."},{q:"\xbfPuedes usar un alias de SELECT en la cl\xe1usula WHERE?",opts:["S\xed, siempre","No, WHERE se ejecuta antes que SELECT. Debes repetir la expresi\xf3n o usar una subquery","S\xed, pero solo en PostgreSQL","Solo si el alias no contiene espacios"],correct:1,explain:"El orden de ejecuci\xf3n l\xf3gico en SQL es: FROM \u2192 WHERE \u2192 GROUP BY \u2192 HAVING \u2192 SELECT \u2192 ORDER BY. WHERE se procesa antes que SELECT, por eso no 've' los alias definidos en SELECT. La excepci\xf3n es ORDER BY, que s\xed puede usar alias."}]}],resources:[{type:"video",icon:"\ud83c\udfac",title:"Visual Guide to SQL JOINs \u2014 Socratica",detail:"Explicaci\xf3n visual con diagramas de Venn de cada tipo de JOIN. Muy clara para afianzar la intuici\xf3n visual antes de practicar.",url:"https://www.youtube.com/watch?v=9yeOJ0ZMUYw"},{type:"practice",icon:"\ud83c\udfae",title:"pgexercises.com \u2014 Secci\xf3n Joins",detail:"13 ejercicios de JOIN con dificultad creciente y soluciones comentadas. El mejor recurso pr\xe1ctico para este tema.",url:"https://pgexercises.com/questions/joins/"},{type:"book",icon:"\ud83d\udcd6",title:"Learning SQL \u2014 Cap\xedtulo 5: Querying Multiple Tables",detail:"El cap\xedtulo m\xe1s importante del libro. Cubre todos los tipos de JOIN con ejemplos reales y explica la sintaxis ANSI vs legacy.",url:"https://www.oreilly.com/library/view/learning-sql-3rd/9781492057604/"},{type:"project",icon:"\ud83d\udee0\ufe0f",title:"Mini-proyecto: Dashboard de reportes",detail:"Con tu esquema de librer\xeda: crea un archivo .sql con 5 queries de reporte (ventas por mes, top clientes, libros m\xe1s vendidos, ingresos por autor, \xf3rdenes sin completar). Ponlo en GitHub.",url:null}]},{id:4,emoji:"\ud83c\udfd7\ufe0f",title:"DDL: Definiendo la Estructura",subtitle:"Crear, modificar y mantener esquemas",color:"#7c3aed",colorLt:"#ede9fe",xp:90,tag:"ESTRUCTURA",lessons:[{id:"4-1",type:"concept",title:"ALTER TABLE y migraciones b\xe1sicas",duration:"15 min",content:"Una vez que tu base de datos est\xe1 en producci\xf3n, necesitas modificarla sin perder datos. Las migraciones son el proceso de evolucionar el esquema.\n\n**ALTER TABLE \u2014 las operaciones m\xe1s comunes:**\n```sql\n-- Agregar columna\nALTER TABLE clientes ADD COLUMN telefono VARCHAR(20);\nALTER TABLE clientes ADD COLUMN activo BOOLEAN NOT NULL DEFAULT TRUE;\n\n-- Eliminar columna (\xa1irreversible en producci\xf3n!)\nALTER TABLE clientes DROP COLUMN telefono;\n\n-- Cambiar tipo de dato\nALTER TABLE productos ALTER COLUMN precio TYPE NUMERIC(12,2);\n\n-- Renombrar columna\nALTER TABLE clientes RENAME COLUMN nombre TO nombre_completo;\n\n-- Agregar constraint\nALTER TABLE pedidos ADD CONSTRAINT chk_total_positivo \n  CHECK (total > 0);\n\n-- Eliminar constraint\nALTER TABLE pedidos DROP CONSTRAINT chk_total_positivo;\n\n-- Agregar FK\nALTER TABLE pedidos \n  ADD CONSTRAINT fk_cliente \n  FOREIGN KEY (cliente_id) REFERENCES clientes(id);\n```\n\n**Buenas pr\xe1cticas de migraciones:**\n```sql\n-- Siempre usa transacciones para migraciones\nBEGIN;\n\nALTER TABLE clientes ADD COLUMN plan VARCHAR(20) DEFAULT 'free';\nUPDATE clientes SET plan = 'premium' WHERE created_before < '2020-01-01';\nALTER TABLE clientes ALTER COLUMN plan SET NOT NULL;\n\n-- Verifica antes de confirmar\nSELECT plan, COUNT(*) FROM clientes GROUP BY plan;\n\nCOMMIT;\n-- o ROLLBACK si algo sali\xf3 mal\n```\n\n**Crear \xedndices sin bloquear (importante en producci\xf3n):**\n```sql\n-- Bloquea la tabla durante la construcci\xf3n (evitar en producci\xf3n activa)\nCREATE INDEX ON clientes(email);\n\n-- No bloquea lecturas ni escrituras (m\xe1s lento pero seguro)\nCREATE INDEX CONCURRENTLY ON clientes(email);\n```"},{id:"4-2",type:"concept",title:"\xcdndices: cu\xe1ndo y c\xf3mo crearlos",duration:"15 min",content:"Un \xedndice es una estructura de datos adicional que permite encontrar filas r\xe1pidamente sin escanear toda la tabla. Como el \xedndice de un libro.\n\n**Sin \xedndice:** PostgreSQL lee todas las filas (Seq Scan).\n**Con \xedndice:** PostgreSQL va directo a las filas relevantes (Index Scan).\n\n**\xbfCu\xe1ndo crear un \xedndice?**\n```sql\n-- \u2705 Buenas candidatas para \xedndices:\n-- 1. Columnas usadas frecuentemente en WHERE\nCREATE INDEX ON pedidos(fecha);\nCREATE INDEX ON clientes(email);  -- aunque UNIQUE ya crea un \xedndice\n\n-- 2. Columnas usadas en JOINs (FKs casi siempre deben tener \xedndice)\nCREATE INDEX ON pedidos(cliente_id);\nCREATE INDEX ON orden_items(orden_id);\nCREATE INDEX ON orden_items(libro_id);\n\n-- 3. Columnas usadas en ORDER BY con LIMIT\nCREATE INDEX ON articulos(publicado_en DESC);\n```\n\n**\xcdndice compuesto \u2014 para queries que filtran por m\xfaltiples columnas:**\n```sql\n-- Query frecuente: pedidos de un cliente en un per\xedodo\nSELECT * FROM pedidos \nWHERE cliente_id = 42 AND fecha >= '2024-01-01';\n\n-- \xcdndice compuesto (orden importa: primero igualdad, luego rango)\nCREATE INDEX ON pedidos(cliente_id, fecha);\n```\n\n**Ver los \xedndices de una tabla:**\n```sql\nd nombre_tabla    -- en psql, muestra \xedndices y constraints\n-- o\nSELECT indexname, indexdef \nFROM pg_indexes \nWHERE tablename = 'pedidos';\n```\n\n**\xbfCu\xe1ndo NO crear \xedndices?**\n- Tablas muy peque\xf1as (< 1000 filas): el seq scan es m\xe1s r\xe1pido.\n- Columnas con muy baja cardinalidad (ej: campo booleano: solo 2 valores).\n- Tablas con muchos INSERTs/UPDATEs: cada \xedndice ralentiza las escrituras.\n"},{id:"4-3",type:"exercise",title:"Ejercicio: Evolucionar el esquema",duration:"20 min",scenario:"Tu librer\xeda en l\xednea va a crecer. Necesitas hacer estas modificaciones al esquema:\n\n1. Agregar un sistema de rese\xf1as: los clientes pueden dejar una puntuaci\xf3n (1-5) y comentario en cada libro que compraron. Una persona solo puede rese\xf1ar un libro una vez.\n2. Agregar campo `descuento_pct` a `orden_items` (puede ser NULL si no hay descuento).\n3. Los libros ahora tienen stock. Agregar columna `stock_disponible` con valor por defecto 0, que no puede ser negativo.\n4. Crear los \xedndices m\xe1s importantes para la tabla de rese\xf1as.\n\nEscribe todos los cambios como migraciones en una transacci\xf3n.",hint:"Para la restricci\xf3n de unicidad en rese\xf1as (un cliente, un libro), piensa en PRIMARY KEY compuesta o UNIQUE. Para CHECK con stock, es un constraint en ALTER TABLE.",solution:"BEGIN;\n\n-- 1. Tabla de rese\xf1as\nCREATE TABLE resenas (\n  id          BIGSERIAL PRIMARY KEY,\n  libro_id    BIGINT NOT NULL REFERENCES libros(id) ON DELETE CASCADE,\n  cliente_id  BIGINT NOT NULL REFERENCES clientes(id) ON DELETE CASCADE,\n  puntuacion  SMALLINT NOT NULL CHECK (puntuacion BETWEEN 1 AND 5),\n  comentario  TEXT,\n  creada_en   TIMESTAMPTZ DEFAULT NOW(),\n  UNIQUE (libro_id, cliente_id)  -- un cliente, una rese\xf1a por libro\n);\n\n-- 2. Descuento en l\xedneas de orden\nALTER TABLE orden_items \n  ADD COLUMN descuento_pct NUMERIC(5,2) \n    CHECK (descuento_pct IS NULL OR descuento_pct BETWEEN 0 AND 100);\n\n-- 3. Stock en libros\nALTER TABLE libros \n  ADD COLUMN stock_disponible INTEGER NOT NULL DEFAULT 0\n    CHECK (stock_disponible >= 0);\n\n-- 4. \xcdndices para rese\xf1as\nCREATE INDEX ON resenas(libro_id);           -- buscar rese\xf1as de un libro\nCREATE INDEX ON resenas(cliente_id);         -- historial de rese\xf1as del cliente\nCREATE INDEX ON resenas(puntuacion);         -- filtrar por puntuaci\xf3n\nCREATE INDEX ON resenas(creada_en DESC);     -- rese\xf1as recientes primero\n\n-- Verificar\nSELECT column_name, data_type, column_default, is_nullable\nFROM information_schema.columns\nWHERE table_name IN ('resenas', 'libros', 'orden_items')\nORDER BY table_name, ordinal_position;\n\nCOMMIT;",keyPoints:["UNIQUE en m\xfaltiples columnas previene duplicados combinados (un par \xfanico)","CHECK con IS NULL OR condicion permite NULLs pero valida los no-NULL","Siempre envolver migraciones en BEGIN/COMMIT permite hacer ROLLBACK si algo falla","information_schema.columns es la forma est\xe1ndar de inspeccionar el esquema"]}],resources:[{type:"video",icon:"\ud83c\udfac",title:"Database Indexing Explained \u2014 Hussein Nasser",detail:"Explicaci\xf3n visual de c\xf3mo funcionan los \xedndices B-tree internamente. ~25 minutos, fundamental para entender cu\xe1ndo ayudan y cu\xe1ndo no.",url:"https://www.youtube.com/watch?v=-qNSXK7s7_w"},{type:"practice",icon:"\ud83d\udcbb",title:"Use The Index, Luke \u2014 Markus Winand",detail:"Libro/sitio gratuito dedicado 100% a \xedndices. Empieza por 'Anatomy of an Index'. Cambia c\xf3mo piensas en queries para siempre.",url:"https://use-the-index-luke.com/"},{type:"project",icon:"\ud83d\udee0\ufe0f",title:"Mini-proyecto: Script de migraci\xf3n versionada",detail:"Crea 3 archivos: V1__schema_inicial.sql, V2__agregar_resenas.sql, V3__agregar_stock.sql. Aprende la convenci\xf3n que usa Flyway/Liquibase para versionar migraciones.",url:null}]},{id:5,emoji:"\u270f\ufe0f",title:"DML: Manipulando Datos",subtitle:"INSERT, UPDATE, DELETE con seguridad",color:"#b45309",colorLt:"#fef3c7",xp:100,tag:"ESCRITURA",lessons:[{id:"5-1",type:"concept",title:"INSERT, UPDATE y DELETE avanzados",duration:"18 min",content:"**INSERT \u2014 todas las variantes:**\n```sql\n-- Insert b\xe1sico\nINSERT INTO clientes (nombre, email) VALUES ('Ana Garc\xeda', 'ana@email.com');\n\n-- Insert m\xfaltiple (un solo statement, m\xe1s eficiente)\nINSERT INTO libros (titulo, isbn, precio) VALUES\n  ('Clean Code', '978-0132350884', 35.99),\n  ('The Pragmatic Programmer', '978-0135957059', 42.50),\n  ('Designing Data-Intensive Applications', '978-1449373320', 55.00);\n\n-- Insert desde SELECT (copiar/transformar datos)\nINSERT INTO clientes_vip (cliente_id, nivel)\nSELECT id, 'oro'\nFROM clientes\nWHERE registrado < '2020-01-01';\n\n-- INSERT ... RETURNING (retorna las filas insertadas)\nINSERT INTO ordenes (cliente_id, estado)\nVALUES (42, 'pendiente')\nRETURNING id, fecha;  -- muy \xfatil para obtener el ID generado\n```\n\n**UPDATE con subqueries:**\n```sql\n-- Update b\xe1sico\nUPDATE libros SET precio = precio * 1.10 WHERE ano_pub < 2010;\n\n-- Update con FROM (actualizar usando otra tabla \u2014 patr\xf3n importante)\nUPDATE orden_items oi\nSET precio_unit = l.precio\nFROM libros l\nWHERE oi.libro_id = l.id\n  AND oi.precio_unit != l.precio;  -- solo los que difieren\n\n-- UPDATE ... RETURNING\nUPDATE clientes \nSET plan = 'premium'\nWHERE id = 42\nRETURNING id, nombre, plan;\n```\n\n**DELETE seguro:**\n```sql\n-- SIEMPRE verifica antes de borrar\nSELECT * FROM ordenes WHERE estado = 'cancelada' AND fecha < '2020-01-01';\n\n-- Luego ejecutas el DELETE con la misma condici\xf3n\nDELETE FROM ordenes WHERE estado = 'cancelada' AND fecha < '2020-01-01';\n\n-- DELETE con RETURNING\nDELETE FROM sesiones WHERE expira_en < NOW()\nRETURNING usuario_id, expira_en;\n\n-- TRUNCATE: borra TODAS las filas muy r\xe1pido (no se puede con WHERE)\nTRUNCATE TABLE sesiones;  -- \xa1cuidado, no hay RETURNING ni filtro!\n```\n\n**UPSERT con ON CONFLICT:**\n```sql\n-- Si el email ya existe, actualizar en vez de error\nINSERT INTO clientes (email, nombre)\nVALUES ('ana@email.com', 'Ana Garc\xeda')\nON CONFLICT (email) \nDO UPDATE SET nombre = EXCLUDED.nombre;\n-- EXCLUDED referencia a los valores que intentabas insertar\n\n-- Si ya existe, no hacer nada\nINSERT INTO suscripciones (usuario_id, newsletter)\nVALUES (42, 'tech')\nON CONFLICT (usuario_id, newsletter) DO NOTHING;\n```"},{id:"5-2",type:"concept",title:"Transacciones: la garant\xeda ACID",duration:"15 min",content:"Una transacci\xf3n es un grupo de operaciones que se ejecutan como una unidad indivisible.\n\n**ACID:**\n- **A**tomicity: todo o nada. Si algo falla, nada se aplica.\n- **C**onsistency: la base de datos pasa de un estado v\xe1lido a otro v\xe1lido.\n- **I**solation: las transacciones concurrentes no se interfieren.\n- **D**urability: los datos committed sobreviven incluso a un crash.\n\n**Sintaxis b\xe1sica:**\n```sql\nBEGIN;  -- o START TRANSACTION\n\n  -- Transferencia bancaria: ejemplo cl\xe1sico\n  UPDATE cuentas SET saldo = saldo - 1000 WHERE id = 1;\n  UPDATE cuentas SET saldo = saldo + 1000 WHERE id = 2;\n  \n  -- Verificar que todo est\xe9 bien\n  SELECT id, saldo FROM cuentas WHERE id IN (1, 2);\n\nCOMMIT;   -- confirmar todos los cambios\n\n-- Si algo sali\xf3 mal en cualquier punto:\nROLLBACK; -- revertir TODO lo que hiciste desde BEGIN\n```\n\n**SAVEPOINT \u2014 rollback parcial:**\n```sql\nBEGIN;\n  INSERT INTO pedidos (cliente_id, total) VALUES (1, 100) RETURNING id;\n  SAVEPOINT despues_pedido;\n  \n  INSERT INTO pagos (pedido_id, monto) VALUES (99999, 100); -- error: id inv\xe1lido\n  \n  ROLLBACK TO SAVEPOINT despues_pedido;  -- solo deshace el insert de pagos\n  \n  -- El pedido sigue insertado, podemos intentar de nuevo\n  INSERT INTO pagos (pedido_id, monto) VALUES (1, 100);\nCOMMIT;\n```\n\n**Reglas pr\xe1cticas:**\n- En aplicaciones, usar transacciones para operaciones que modifican m\xfaltiples tablas relacionadas.\n- Mantener las transacciones cortas para no bloquear recursos.\n- PostgreSQL envuelve cada statement individual en una transacci\xf3n autom\xe1tica (autocommit)."},{id:"5-3",type:"exercise",title:"Ejercicio: Proceso de compra completo",duration:"25 min",scenario:"Escribe una transacci\xf3n que simule el proceso completo de realizar una compra en la librer\xeda:\n\n1. Crear una orden para el cliente con id=1\n2. Agregar 2 \xedtems: el libro con id=1 (2 ejemplares) y el libro con id=3 (1 ejemplar) \u2014 los precios deben tomarse de la tabla libros en el momento de la compra\n3. Verificar que cada libro tenga stock suficiente antes de agregar el \xedtem; si no hay stock, hacer ROLLBACK\n4. Descontar el stock de cada libro comprado\n5. Retornar el id de la orden creada y el total calculado\n\nUsa un bloque de transacci\xf3n con verificaciones.",hint:"Puedes usar variables en psql o simplemente usar CTEs encadenados. Con un DO block o funci\xf3n podr\xedas usar variables. Para el ejercicio, un enfoque con CTEs o statements separados dentro de BEGIN/COMMIT es v\xe1lido.",solution:"BEGIN;\n\n-- Verificar stock antes de proceder\n-- Si alguno falla la verificaci\xf3n, hacemos ROLLBACK manualmente\n\n-- Verificar stock libro 1 (necesitamos 2)\nDO $$\nBEGIN\n  IF (SELECT stock_disponible FROM libros WHERE id = 1) < 2 THEN\n    RAISE EXCEPTION 'Stock insuficiente para libro id=1';\n  END IF;\n  IF (SELECT stock_disponible FROM libros WHERE id = 3) < 1 THEN\n    RAISE EXCEPTION 'Stock insuficiente para libro id=3';\n  END IF;\nEND;\n$$;\n\n-- Crear la orden\nINSERT INTO ordenes (cliente_id, estado)\nVALUES (1, 'pendiente');\n\n-- Agregar \xedtems (precio tomado de la tabla libros en este momento)\nINSERT INTO orden_items (orden_id, libro_id, cantidad, precio_unit)\nSELECT \n  currval('ordenes_id_seq'),  -- ID de la orden reci\xe9n creada\n  l.id,\n  items.cantidad,\n  l.precio\nFROM libros l\nJOIN (VALUES (1, 2), (3, 1)) AS items(libro_id, cantidad)\n  ON l.id = items.libro_id;\n\n-- Descontar stock\nUPDATE libros SET stock_disponible = stock_disponible - 2 WHERE id = 1;\nUPDATE libros SET stock_disponible = stock_disponible - 1 WHERE id = 3;\n\n-- Verificar el resultado\nSELECT \n  o.id AS orden_id,\n  SUM(oi.precio_unit * oi.cantidad) AS total\nFROM ordenes o\nJOIN orden_items oi ON oi.orden_id = o.id\nWHERE o.id = currval('ordenes_id_seq')\nGROUP BY o.id;\n\nCOMMIT;",keyPoints:["currval('secuencia') obtiene el \xfaltimo ID generado en la sesi\xf3n actual","DO $$ ... $$ permite ejecutar bloques PL/pgSQL an\xf3nimos con RAISE EXCEPTION","RAISE EXCEPTION dentro de un DO block dentro de un BEGIN causa ROLLBACK autom\xe1tico si no se atrapa","JOIN con VALUES(...) es una forma elegante de hacer m\xfaltiples inserts/updates en un solo statement"]},{id:"5-4",type:"quiz",title:"Quiz: DML y transacciones",questions:[{q:"\xbfQu\xe9 hace ON CONFLICT DO NOTHING en un INSERT?",opts:["Borra la fila existente e inserta la nueva","Si la inserci\xf3n violar\xeda un constraint UNIQUE o PK, simplemente ignora el INSERT sin error","Actualiza la fila existente con los nuevos valores","Lanza una advertencia pero inserta de todas formas"],correct:1,explain:"DO NOTHING simplemente descarta el intento de insert si generar\xeda un conflicto. \xdatil para inserts idempotentes donde no te importa si ya exist\xeda. DO UPDATE permite especificar qu\xe9 actualizar."},{q:"Ejecutaste BEGIN y luego 3 UPDATEs. El tercero falla con error. \xbfQu\xe9 pasa con los primeros dos?",opts:["Se confirmaron autom\xe1ticamente al ejecutarse","La transacci\xf3n queda en estado 'aborted' \u2014 debes hacer ROLLBACK para limpiar. Ning\xfan cambio se aplica","Solo el tercero falla, los primeros dos se guardan","Depende del tipo de error"],correct:1,explain:"Cuando un statement falla dentro de una transacci\xf3n, PostgreSQL pone la transacci\xf3n en estado 'aborted'. No puedes continuar ejecutando statements \u2014 solo ROLLBACK. Esto garantiza la atomicidad: o todo o nada."},{q:"\xbfCu\xe1l es la diferencia entre DELETE y TRUNCATE?",opts:["Son equivalentes","DELETE puede tener WHERE y activa triggers; TRUNCATE borra todo sin WHERE, no activa triggers row-level y es mucho m\xe1s r\xe1pido","TRUNCATE es m\xe1s lento pero m\xe1s seguro","DELETE solo funciona con tablas peque\xf1as"],correct:1,explain:"DELETE es una operaci\xf3n fila por fila que puede filtrarse con WHERE, activa triggers y puede revertirse con ROLLBACK. TRUNCATE libera p\xe1ginas enteras de datos, es ultra-r\xe1pido para borrar todo, pero no acepta WHERE y no activa triggers ROW-level."}]}],resources:[{type:"video",icon:"\ud83c\udfac",title:"ACID Transactions \u2014 Fireship",detail:"Explicaci\xf3n en 100 segundos + video extendido de transacciones. Perfecto para solidificar el concepto de ACID de forma visual.",url:"https://www.youtube.com/watch?v=pomxJOFVcQs"},{type:"practice",icon:"\ud83c\udfae",title:"pgexercises.com \u2014 Secci\xf3n Modifying Data",detail:"9 ejercicios de INSERT, UPDATE y DELETE con escenarios realistas. Incluye ejercicios de UPSERT que son muy comunes en entrevistas.",url:"https://pgexercises.com/questions/updates/"},{type:"project",icon:"\ud83d\udee0\ufe0f",title:"Mini-proyecto: Seeder de datos de prueba",detail:"Escribe un script SQL que inserte datos de prueba realistas en tu librer\xeda: 10 autores, 30 libros, 20 clientes, 50 \xf3rdenes con items. \xdasalo como base para practicar todas las queries del programa.",url:null}]},{id:6,emoji:"\ud83d\udcca",title:"Subqueries y CTEs",subtitle:"Queries dentro de queries \u2014 organiza la complejidad",color:"#0f766e",colorLt:"#ccfbf1",xp:130,tag:"INTERMEDIO",lessons:[{id:"6-1",type:"concept",title:"Subqueries: escalares, de fila y de tabla",duration:"18 min",content:"Una subquery es un SELECT dentro de otro SELECT. Existen tres tipos:\n\n**1. Subquery escalar** \u2014 retorna un solo valor, usable en SELECT o WHERE:\n```sql\n-- En SELECT: calcular el precio promedio para comparar\nSELECT \n  titulo,\n  precio,\n  precio - (SELECT AVG(precio) FROM libros) AS diferencia_promedio\nFROM libros;\n\n-- En WHERE: filtrar por un valor calculado\nSELECT * FROM libros\nWHERE precio > (SELECT AVG(precio) FROM libros);\n```\n\n**2. Subquery de lista** \u2014 retorna una columna, usable con IN/NOT IN/ANY/ALL:\n```sql\n-- Clientes que han comprado alg\xfan libro de programaci\xf3n\nSELECT nombre FROM clientes\nWHERE id IN (\n  SELECT DISTINCT o.cliente_id\n  FROM ordenes o\n  JOIN orden_items oi ON oi.orden_id = o.id\n  JOIN libros l ON l.id = oi.libro_id\n  WHERE l.categoria = 'programacion'\n);\n```\n\n**3. Subquery correlacionada** \u2014 referencia a la query externa:\n```sql\n-- Para cada libro, cu\xe1ntas veces ha sido comprado\nSELECT \n  l.titulo,\n  (SELECT COALESCE(SUM(oi.cantidad), 0)\n   FROM orden_items oi WHERE oi.libro_id = l.id) AS total_vendido\nFROM libros l;\n-- Se ejecuta una vez POR CADA LIBRO \u2014 puede ser lento en tablas grandes\n```\n\n**EXISTS y NOT EXISTS** \u2014 m\xe1s eficientes que IN para chequear existencia:\n```sql\n-- Libros que tienen al menos una rese\xf1a con puntuaci\xf3n 5\nSELECT titulo FROM libros l\nWHERE EXISTS (\n  SELECT 1 FROM resenas r \n  WHERE r.libro_id = l.id AND r.puntuacion = 5\n);\n-- EXISTS para tan pronto encuentra una fila, no necesita leerlas todas\n```"},{id:"6-2",type:"concept",title:"CTEs \u2014 WITH: organiza queries complejos",duration:"20 min",content:"Los CTEs (Common Table Expressions) nombran subqueries para reutilizarlas y hacer el c\xf3digo legible.\n\n**Sintaxis:**\n```sql\nWITH nombre_cte AS (\n  SELECT ...\n),\notro_cte AS (\n  SELECT ... FROM nombre_cte ...  -- puede referenciar CTEs anteriores\n)\nSELECT * FROM otro_cte;\n```\n\n**Ejemplo real: reporte de clientes con m\xe9tricas:**\n```sql\nWITH ventas_por_cliente AS (\n  SELECT \n    o.cliente_id,\n    COUNT(DISTINCT o.id)       AS total_ordenes,\n    SUM(oi.precio_unit * oi.cantidad) AS gasto_total,\n    MAX(o.fecha)               AS ultima_compra\n  FROM ordenes o\n  JOIN orden_items oi ON oi.orden_id = o.id\n  GROUP BY o.cliente_id\n),\nclientes_activos AS (\n  SELECT cliente_id\n  FROM ventas_por_cliente\n  WHERE ultima_compra >= NOW() - INTERVAL '6 months'\n)\nSELECT \n  c.nombre,\n  c.email,\n  vpc.total_ordenes,\n  ROUND(vpc.gasto_total, 2) AS gasto_total,\n  CASE \n    WHEN ca.cliente_id IS NOT NULL THEN 'activo'\n    ELSE 'inactivo'\n  END AS estado\nFROM clientes c\nLEFT JOIN ventas_por_cliente vpc ON vpc.cliente_id = c.id\nLEFT JOIN clientes_activos ca ON ca.cliente_id = c.id\nORDER BY vpc.gasto_total DESC NULLS LAST;\n```\n\n**CTE vs Subquery: cu\xe1ndo usar cada uno:**\n```sql\n-- Usa CTE cuando:\n-- 1. La subquery se usa m\xe1s de una vez\n-- 2. El query tiene m\xe1s de 2-3 niveles de anidaci\xf3n\n-- 3. Quieres nombrar los pasos para claridad\n\n-- Usa subquery cuando:\n-- 1. Es simple y solo se usa una vez\n-- 2. El contexto hace obvia la intenci\xf3n\n```"},{id:"6-3",type:"challenge",title:"\ud83c\udfc6 Proyecto final del m\xf3dulo: Reporte ejecutivo",duration:"45 min",scenario:"Usando todos los conocimientos acumulados, construye un reporte completo de la librer\xeda con una sola query (usando CTEs).\n\nEl reporte debe mostrar, para cada mes del a\xf1o, las siguientes m\xe9tricas:\n- Total de \xf3rdenes realizadas\n- N\xfamero de clientes \xfanicos que compraron\n- Ingresos totales\n- Libro m\xe1s vendido del mes (por cantidad de unidades)\n- Ingreso promedio por orden\n- Comparaci\xf3n con el mes anterior: \xbflos ingresos subieron o bajaron? (muestra el porcentaje de cambio)\n\nOrdena por mes descendiente.",hint:"Usa m\xfaltiples CTEs: uno para m\xe9tricas base por mes, otro para libro m\xe1s vendido por mes, y usa LAG() en una ventana o un self-join para la comparaci\xf3n con mes anterior.",solution:"WITH metricas_mes AS (\n  -- M\xe9tricas base por mes\n  SELECT\n    DATE_TRUNC('month', o.fecha) AS mes,\n    COUNT(DISTINCT o.id)          AS total_ordenes,\n    COUNT(DISTINCT o.cliente_id)  AS clientes_unicos,\n    SUM(oi.precio_unit * oi.cantidad) AS ingresos,\n    AVG(oi.precio_unit * oi.cantidad) AS ticket_promedio\n  FROM ordenes o\n  JOIN orden_items oi ON oi.orden_id = o.id\n  GROUP BY DATE_TRUNC('month', o.fecha)\n),\nventas_libro_mes AS (\n  -- Ventas por libro y mes\n  SELECT\n    DATE_TRUNC('month', o.fecha) AS mes,\n    l.titulo,\n    SUM(oi.cantidad) AS unidades\n  FROM ordenes o\n  JOIN orden_items oi ON oi.orden_id = o.id\n  JOIN libros l ON l.id = oi.libro_id\n  GROUP BY DATE_TRUNC('month', o.fecha), l.id, l.titulo\n),\nlibro_top_mes AS (\n  -- Solo el m\xe1s vendido por mes\n  SELECT DISTINCT ON (mes)\n    mes, titulo, unidades\n  FROM ventas_libro_mes\n  ORDER BY mes, unidades DESC\n),\nmetricas_con_lag AS (\n  -- Agregar comparaci\xf3n con mes anterior\n  SELECT\n    mes,\n    total_ordenes,\n    clientes_unicos,\n    ingresos,\n    ROUND(ticket_promedio, 2) AS ticket_promedio,\n    LAG(ingresos) OVER (ORDER BY mes) AS ingresos_mes_anterior\n  FROM metricas_mes\n)\nSELECT\n  TO_CHAR(m.mes, 'Month YYYY') AS mes,\n  m.total_ordenes,\n  m.clientes_unicos,\n  ROUND(m.ingresos, 2) AS ingresos,\n  m.ticket_promedio,\n  lt.titulo AS libro_top,\n  lt.unidades AS unidades_libro_top,\n  CASE\n    WHEN m.ingresos_mes_anterior IS NULL THEN 'primer mes'\n    WHEN m.ingresos_mes_anterior = 0 THEN 'N/A'\n    ELSE CONCAT(\n      ROUND(((m.ingresos - m.ingresos_mes_anterior) / m.ingresos_mes_anterior * 100), 1),\n      '%'\n    )\n  END AS cambio_vs_mes_anterior\nFROM metricas_con_lag m\nJOIN libro_top_mes lt ON lt.mes = m.mes\nORDER BY m.mes DESC;",keyPoints:["DISTINCT ON (mes) ORDER BY mes, unidades DESC \u2014 elegante para top-1 por grupo en PostgreSQL","LAG(ingresos) OVER (ORDER BY mes) trae el valor del mes anterior sin self-join","CTEs encadenados: cada uno puede referenciar a los anteriores","DATE_TRUNC agrupa por mes; TO_CHAR solo formatea para mostrar (siempre ORDER BY el truncado, no el formateado)"]}],resources:[{type:"book",icon:"\ud83d\udcd6",title:"Learning SQL \u2014 Cap\xedtulo 9: Subqueries",detail:"El cap\xedtulo m\xe1s completo sobre subqueries correlacionadas, EXISTS y las diferencias de rendimiento. Fundamental para el siguiente nivel.",url:"https://www.oreilly.com/library/view/learning-sql-3rd/9781492057604/"},{type:"practice",icon:"\ud83c\udfae",title:"pgexercises.com \u2014 Aggregates + Recursive",detail:"Las secciones 'Aggregates' (15 ejercicios) y 'Recursive' introducen CTEs y funciones de ventana con dificultad progresiva.",url:"https://pgexercises.com/questions/aggregates/"},{type:"video",icon:"\ud83c\udfac",title:"Advanced SQL Tutorial \u2014 Analyst Builder",detail:"Curso de 3 horas en YouTube que cubre CTEs, Window Functions y subqueries complejas con ejemplos de entrevistas t\xe9cnicas reales.",url:"https://www.youtube.com/watch?v=BHwzDmr6d7s"},{type:"project",icon:"\ud83d\udee0\ufe0f",title:"Proyecto integrador: Dashboard anal\xedtico completo",detail:"Crea un archivo 'reportes.sql' con 8 queries de reportes reales para tu librer\xeda: ventas mensuales, retenci\xf3n de clientes, libros m\xe1s rentables, autores con m\xe1s ventas, an\xe1lisis de categor\xedas. Conecta con una herramienta como Metabase o DBeaver para visualizarlo.",url:null}]}],O="pg_junior_progress_v1";function P(){try{const e=localStorage.getItem(O);return e?JSON.parse(e):{completedLessons:{},quizAnswers:{},quizSubmitted:{}}}catch(e){return{completedLessons:{},quizAnswers:{},quizSubmitted:{}}}}const q=e=>{let{code:n}=e;return(0,u.jsx)("pre",{style:{background:A,color:w,fontFamily:"'JetBrains Mono','Fira Code',monospace",fontSize:12.5,lineHeight:1.7,padding:"14px 16px",borderRadius:6,overflowX:"auto",margin:"10px 0",whiteSpace:"pre-wrap",wordBreak:"break-word",border:"1px solid #2d2a22"},children:n})};function _(e){if(!e)return null;return e.split(/(```[\s\S]*?```)/g).map((e,n)=>e.startsWith("```")?(0,u.jsx)(q,{code:e.replace(/```(?:\w+)?\n?/,"").replace(/```$/,"")},n):e.split("\n").map((e,n)=>e.trim()?e.startsWith("**")&&e.endsWith("**")?(0,u.jsx)("p",{style:{color:h,fontWeight:700,fontSize:15,marginTop:14,marginBottom:4,fontFamily:"'Crimson Pro', Georgia, serif"},children:e.replace(/\*\*/g,"")},n):e.startsWith("- ")?(0,u.jsxs)("div",{style:{display:"flex",gap:10,marginBottom:5},children:[(0,u.jsx)("span",{style:{color:v,flexShrink:0,marginTop:2},children:"\u25c6"}),(0,u.jsx)("span",{style:{fontSize:14,color:b,lineHeight:1.6},dangerouslySetInnerHTML:{__html:e.slice(2).replace(/\*\*(.*?)\*\*/g,'<strong style="color:'+h+'">$1</strong>').replace(/`(.*?)`/g,'<code style="background:#ede9e0;padding:1px 5px;border-radius:3px;font-family:monospace;font-size:12px">$1</code>')}})]},n):(0,u.jsx)("p",{style:{fontSize:14,color:b,lineHeight:1.7,margin:"3px 0"},dangerouslySetInnerHTML:{__html:e.replace(/\*\*(.*?)\*\*/g,'<strong style="color:'+h+'">$1</strong>').replace(/`(.*?)`/g,'<code style="background:#ede9e0;padding:1px 5px;border-radius:3px;font-family:monospace;font-size:12px">$1</code>')}},n):(0,u.jsx)("div",{style:{height:6}},n)))}function j(){const[e,n]=(0,a.useState)(P),[t,r]=(0,a.useState)("home"),[o,i]=(0,a.useState)(null),[s,l]=(0,a.useState)(null),[A,w]=(0,a.useState)({}),[j,D]=(0,a.useState)({}),[U,z]=(0,a.useState)("learn"),M=e=>{n(n=>{const t=c(c({},n),e);return function(e){try{localStorage.setItem(O,JSON.stringify(e))}catch(n){}}(t),t})},F=I.reduce((e,n)=>e+n.xp,0),B=I.reduce((e,n)=>e+n.lessons.length,0),H=Object.keys(e.completedLessons).length,W=Object.entries(e.completedLessons).reduce((e,n)=>{let[t]=n;for(const a of I){if(a.lessons.find(e=>e.id===t))return e+Math.floor(a.xp/a.lessons.length)}return e},0),Q=W<150?{label:"Iniciando",color:y,next:150}:W<350?{label:"Junior",color:v,next:350}:W<600?{label:"Junior+",color:S,next:600}:{label:"Intermedio \ud83c\udf89",color:x,next:F},G=I.find(e=>e.id===o),V=null===G||void 0===G?void 0:G.lessons.find(e=>e.id===s);if("home"===t){const n=Math.round(W/F*100);return(0,u.jsxs)("div",{style:{minHeight:"100vh",background:d,fontFamily:"'DM Sans', sans-serif"},children:[(0,u.jsx)("style",{children:"\n          @import url('https://fonts.googleapis.com/css2?family=DM+Sans:ital,wght@0,300;0,400;0,500;0,600;0,700;1,400&family=Crimson+Pro:ital,wght@0,400;0,600;0,700;1,400;1,600&family=JetBrains+Mono:wght@400;500&display=swap');\n          * { box-sizing: border-box; margin: 0; padding: 0; }\n          body { background: ".concat(d,"; }\n          ::-webkit-scrollbar { width: 6px; }\n          ::-webkit-scrollbar-track { background: ").concat(p,"; }\n          ::-webkit-scrollbar-thumb { background: ").concat(g,"; border-radius: 3px; }\n        ")}),(0,u.jsxs)("div",{style:{background:h,padding:"48px 40px 40px",position:"relative",overflow:"hidden"},children:[(0,u.jsx)("div",{style:{position:"absolute",inset:0,backgroundImage:"radial-gradient(circle at 70% 50%, #3d2a0a 0%, transparent 60%)",pointerEvents:"none"}}),(0,u.jsxs)("div",{style:{position:"relative",maxWidth:900,margin:"0 auto"},children:[(0,u.jsx)("div",{style:{display:"inline-block",background:v,color:h,fontSize:10,fontWeight:700,letterSpacing:3,padding:"4px 12px",borderRadius:2,marginBottom:16,textTransform:"uppercase"},children:"PostgreSQL \xb7 Junior \u2192 Intermedio"}),(0,u.jsxs)("h1",{style:{fontFamily:"'Crimson Pro', Georgia, serif",fontSize:46,color:"#fff",fontWeight:700,lineHeight:1.1,marginBottom:12},children:["Domina ",(0,u.jsx)("em",{style:{color:v,fontStyle:"italic"},children:"SQL"})," paso",(0,u.jsx)("br",{}),"a paso"]}),(0,u.jsx)("p",{style:{color:"#c9bfb0",fontSize:16,maxWidth:520,lineHeight:1.6},children:"Desde entender tablas y tipos de datos hasta escribir subqueries complejos y optimizar con \xedndices. Un camino estructurado para desarrolladores que quieren pasar de junior a intermedio."}),(0,u.jsx)("div",{style:{marginTop:28,display:"flex",gap:32,flexWrap:"wrap"},children:[{v:"".concat(H,"/").concat(B),l:"Lecciones"},{v:"".concat(W,"/").concat(F),l:"XP"},{v:Q.label,l:"Nivel actual"},{v:"".concat(n,"%"),l:"Completado"}].map((e,n)=>(0,u.jsxs)("div",{children:[(0,u.jsx)("div",{style:{fontSize:26,fontWeight:700,color:2===n?Q.color:v,fontFamily:"'Crimson Pro', serif"},children:e.v}),(0,u.jsx)("div",{style:{fontSize:11,color:"#a0917e",letterSpacing:1,textTransform:"uppercase",marginTop:2},children:e.l})]},n))})]})]}),(0,u.jsx)("div",{style:{height:4,background:p},children:(0,u.jsx)("div",{style:{height:"100%",width:"".concat(n,"%"),background:"linear-gradient(90deg, ".concat(v,", ").concat(S,")"),transition:"width 0.6s ease"}})}),(0,u.jsxs)("div",{style:{maxWidth:960,margin:"0 auto",padding:"40px 24px 60px"},children:[(0,u.jsx)("h2",{style:{fontFamily:"'Crimson Pro', serif",fontSize:28,color:h,marginBottom:8},children:"M\xf3dulos del programa"}),(0,u.jsx)("p",{style:{color:y,fontSize:14,marginBottom:32},children:"Cada m\xf3dulo incluye conceptos, ejercicios pr\xe1cticos, quiz de verificaci\xf3n y recursos recomendados."}),(0,u.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(280px, 1fr))",gap:20},children:I.map((n,t)=>{const a=n.lessons.filter(n=>e.completedLessons[n.id]).length,o=Math.round(a/n.lessons.length*100),s=100===o;return(0,u.jsxs)("div",{onClick:()=>{i(n.id),z("learn"),r("module")},style:{background:m,border:"1.5px solid ".concat(s?n.color:f),borderRadius:12,padding:24,cursor:"pointer",transition:"all 0.2s",position:"relative"},onMouseEnter:e=>{e.currentTarget.style.transform="translateY(-3px)",e.currentTarget.style.boxShadow="0 8px 24px ".concat(n.color,"25"),e.currentTarget.style.borderColor=n.color},onMouseLeave:e=>{e.currentTarget.style.transform="none",e.currentTarget.style.boxShadow="none",e.currentTarget.style.borderColor=s?n.color:f},children:[(0,u.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:12},children:[(0,u.jsx)("div",{style:{fontSize:36},children:n.emoji}),(0,u.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-end",gap:4},children:[(0,u.jsx)("span",{style:{fontSize:9,fontWeight:700,letterSpacing:2,color:n.color,background:n.colorLt,padding:"2px 8px",borderRadius:2},children:n.tag}),(0,u.jsxs)("span",{style:{fontSize:11,color:y},children:["+",n.xp," XP"]})]})]}),(0,u.jsxs)("div",{style:{fontSize:9,color:y,letterSpacing:1,marginBottom:4},children:["M\xd3DULO ",String(t+1).padStart(2,"0")]}),(0,u.jsx)("h3",{style:{fontFamily:"'Crimson Pro', serif",fontSize:20,color:h,fontWeight:700,marginBottom:6,lineHeight:1.2},children:n.title}),(0,u.jsx)("p",{style:{fontSize:13,color:b,marginBottom:16,lineHeight:1.5},children:n.subtitle}),(0,u.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:8},children:[(0,u.jsxs)("span",{style:{fontSize:12,color:y},children:[a,"/",n.lessons.length," lecciones \xb7 ",n.resources.length," recursos"]}),s&&(0,u.jsx)("span",{style:{fontSize:12,color:n.color,fontWeight:600},children:"\u2713 Completo"})]}),(0,u.jsx)("div",{style:{height:4,background:p,borderRadius:2},children:(0,u.jsx)("div",{style:{height:"100%",width:"".concat(o,"%"),background:n.color,borderRadius:2,transition:"width 0.4s"}})})]},n.id)})}),(0,u.jsxs)("div",{style:{marginTop:48,background:m,border:"1px solid ".concat(f),borderRadius:12,padding:28},children:[(0,u.jsx)("h3",{style:{fontFamily:"'Crimson Pro', serif",fontSize:22,color:h,marginBottom:6},children:"Tu camino de aprendizaje"}),(0,u.jsx)("p",{style:{fontSize:13,color:y,marginBottom:20},children:"Completa los m\xf3dulos en orden para construir conocimiento s\xf3lido"}),(0,u.jsx)("div",{style:{display:"flex",alignItems:"center",flexWrap:"wrap",gap:0},children:I.map((n,t)=>{const a=n.lessons.every(n=>e.completedLessons[n.id]);return[(0,u.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:6},children:[(0,u.jsx)("div",{style:{width:36,height:36,borderRadius:"50%",background:a?n.color:p,border:"2px solid ".concat(a?n.color:g),display:"flex",alignItems:"center",justifyContent:"center",fontSize:16},children:a?"\u2713":n.emoji}),(0,u.jsx)("span",{style:{fontSize:10,color:y,maxWidth:70,textAlign:"center",lineHeight:1.3},children:n.title.split(":")[0]})]},n.id),t<I.length-1&&(0,u.jsx)("div",{style:{flex:1,minWidth:20,height:2,background:a?n.color:g,margin:"0 4px",marginBottom:26}},"line-".concat(t))]})})]})]})]})}if("module"===t&&G){const{color:n,colorLt:t}=G;return(0,u.jsxs)("div",{style:{minHeight:"100vh",background:d,fontFamily:"'DM Sans', sans-serif"},children:[(0,u.jsx)("style",{children:"@import url('https://fonts.googleapis.com/css2?family=DM+Sans:wght@300;400;500;600;700&family=Crimson+Pro:ital,wght@0,600;0,700;1,400&family=JetBrains+Mono:wght@400;500&display=swap'); * { box-sizing: border-box; }"}),(0,u.jsxs)("div",{style:{background:m,borderBottom:"1px solid ".concat(f),padding:"16px 28px",display:"flex",alignItems:"center",gap:14,position:"sticky",top:0,zIndex:10},children:[(0,u.jsx)("button",{onClick:()=>r("home"),style:{background:p,border:"1px solid ".concat(f),color:b,padding:"7px 16px",borderRadius:6,cursor:"pointer",fontSize:13,fontFamily:"inherit"},children:"\u2190 Inicio"}),(0,u.jsx)("span",{style:{fontSize:24},children:G.emoji}),(0,u.jsxs)("div",{children:[(0,u.jsxs)("div",{style:{fontSize:11,color:n,fontWeight:600,letterSpacing:1},children:["M\xd3DULO ",G.id]}),(0,u.jsx)("div",{style:{fontSize:17,fontWeight:600,color:h,fontFamily:"'Crimson Pro', serif"},children:G.title})]})]}),(0,u.jsx)("div",{style:{borderBottom:"1px solid ".concat(f),display:"flex",paddingLeft:28,background:m},children:[["learn","\ud83d\udcda Lecciones"],["resources","\ud83d\udd16 Recursos (".concat(G.resources.length,")")]].map(e=>{let[t,a]=e;return(0,u.jsx)("button",{onClick:()=>z(t),style:{background:"none",border:"none",borderBottom:U===t?"3px solid ".concat(n):"3px solid transparent",padding:"12px 20px",cursor:"pointer",fontSize:14,color:U===t?n:b,fontWeight:U===t?600:400,fontFamily:"inherit",transition:"all 0.15s"},children:a},t)})}),(0,u.jsxs)("div",{style:{maxWidth:760,margin:"0 auto",padding:"28px 24px 60px"},children:["learn"===U&&(0,u.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:12},children:G.lessons.map((t,a)=>{const o=e.completedLessons[t.id],i={concept:{label:"CONCEPTO",bg:R,fg:C},exercise:{label:"EJERCICIO",bg:E,fg:S},challenge:{label:"PROYECTO",bg:L,fg:k},quiz:{label:"QUIZ",bg:T,fg:x}}[t.type]||{};return(0,u.jsxs)("div",{onClick:()=>{l(t.id),r("lesson")},style:{background:m,border:"1.5px solid ".concat(o?n:f),borderRadius:10,padding:"18px 20px",cursor:"pointer",display:"flex",alignItems:"center",gap:16,transition:"all 0.2s"},onMouseEnter:e=>{e.currentTarget.style.borderColor=n,e.currentTarget.style.boxShadow="0 4px 12px ".concat(n,"15")},onMouseLeave:e=>{e.currentTarget.style.borderColor=o?n:f,e.currentTarget.style.boxShadow="none"},children:[(0,u.jsx)("div",{style:{width:38,height:38,borderRadius:"50%",background:o?n+"15":p,border:"2px solid ".concat(o?n:f),display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,color:o?n:y,fontWeight:700,fontSize:14},children:o?"\u2713":a+1}),(0,u.jsxs)("div",{style:{flex:1},children:[(0,u.jsxs)("div",{style:{display:"flex",gap:8,alignItems:"center",marginBottom:4,flexWrap:"wrap"},children:[(0,u.jsx)("span",{style:{fontSize:10,fontWeight:700,letterSpacing:1.5,color:i.fg,background:i.bg,padding:"2px 8px",borderRadius:2},children:i.label}),t.duration&&(0,u.jsxs)("span",{style:{fontSize:11,color:y},children:["\u23f1 ",t.duration]})]}),(0,u.jsx)("div",{style:{fontSize:15,fontWeight:600,color:h,fontFamily:"'Crimson Pro', serif"},children:t.title})]}),(0,u.jsx)("div",{style:{color:y,fontSize:18},children:"\u2192"})]},t.id)})}),"resources"===U&&(0,u.jsxs)("div",{children:[(0,u.jsx)("p",{style:{color:b,fontSize:14,marginBottom:20,lineHeight:1.6},children:"Recursos cuidadosamente seleccionados para reforzar los temas de este m\xf3dulo. Son opcionales pero altamente recomendados."}),(0,u.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:14},children:G.resources.map((e,n)=>{const t={book:k,video:"#dc2626",practice:x,project:v}[e.type]||b;return(0,u.jsx)("div",{style:{background:m,border:"1px solid ".concat(f),borderRadius:10,padding:20,borderLeft:"4px solid ".concat(t)},children:(0,u.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",gap:12},children:[(0,u.jsxs)("div",{style:{flex:1},children:[(0,u.jsxs)("div",{style:{display:"flex",gap:8,alignItems:"center",marginBottom:8},children:[(0,u.jsx)("span",{style:{fontSize:18},children:e.icon}),(0,u.jsx)("span",{style:{fontSize:10,fontWeight:700,letterSpacing:2,color:t},children:{book:"LIBRO",video:"VIDEO",practice:"PR\xc1CTICA",project:"PROYECTO"}[e.type]})]}),(0,u.jsx)("h4",{style:{fontSize:16,fontWeight:600,color:h,marginBottom:8,fontFamily:"'Crimson Pro', serif"},children:e.title}),(0,u.jsx)("p",{style:{fontSize:13,color:b,lineHeight:1.6},children:e.detail})]}),e.url&&(0,u.jsx)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",style:{flexShrink:0,background:t+"15",color:t,border:"1px solid ".concat(t),padding:"7px 16px",borderRadius:6,textDecoration:"none",fontSize:12,fontWeight:600,whiteSpace:"nowrap"},onClick:e=>e.stopPropagation(),children:"Ver \u2192"})]})},n)})})]})]})]})}if("lesson"===t&&V&&G){const{color:n}=G,t=e.completedLessons[V.id],a=()=>{return n=V.id,void(e.completedLessons[n]||M({completedLessons:c(c({},e.completedLessons),{},{[n]:!0})}));var n};return(0,u.jsxs)("div",{style:{minHeight:"100vh",background:d,fontFamily:"'DM Sans', sans-serif"},children:[(0,u.jsx)("style",{children:"@import url('https://fonts.googleapis.com/css2?family=DM+Sans:wght@300;400;500;600;700&family=Crimson+Pro:ital,wght@0,400;0,600;0,700;1,400&family=JetBrains+Mono:wght@400;500&display=swap'); * { box-sizing: border-box; }"}),(0,u.jsxs)("div",{style:{background:m,borderBottom:"1px solid ".concat(f),padding:"14px 28px",display:"flex",alignItems:"center",gap:14,position:"sticky",top:0,zIndex:10},children:[(0,u.jsxs)("button",{onClick:()=>r("module"),style:{background:p,border:"1px solid ".concat(f),color:b,padding:"7px 16px",borderRadius:6,cursor:"pointer",fontSize:13,fontFamily:"inherit"},children:["\u2190 ",G.title]}),(0,u.jsxs)("div",{style:{flex:1},children:[(0,u.jsx)("div",{style:{fontSize:15,fontWeight:600,color:h,fontFamily:"'Crimson Pro', serif"},children:V.title}),V.duration&&(0,u.jsxs)("div",{style:{fontSize:11,color:y},children:["\u23f1 ",V.duration]})]}),t&&(0,u.jsx)("span",{style:{fontSize:12,color:n,fontWeight:600,background:n+"15",padding:"4px 12px",borderRadius:4},children:"\u2713 Completado"})]}),(0,u.jsxs)("div",{style:{maxWidth:780,margin:"0 auto",padding:"32px 24px 80px"},children:["concept"===V.type&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{style:{background:m,border:"1px solid ".concat(f),borderRadius:12,padding:28,marginBottom:20},children:_(V.content)}),(0,u.jsx)("button",{onClick:()=>{a(),r("module")},style:{background:n,color:"#fff",border:"none",padding:"12px 28px",borderRadius:8,cursor:"pointer",fontSize:15,fontWeight:600,fontFamily:"inherit"},children:"\u2713 Marcar como le\xeddo y continuar"})]}),("exercise"===V.type||"challenge"===V.type)&&(0,u.jsxs)(u.Fragment,{children:["challenge"===V.type&&(0,u.jsxs)("div",{style:{background:L,border:"1px solid ".concat(k),borderRadius:8,padding:"10px 16px",marginBottom:16,display:"flex",gap:10,alignItems:"center"},children:[(0,u.jsx)("span",{style:{fontSize:18},children:"\ud83c\udfc6"}),(0,u.jsx)("span",{style:{fontSize:13,color:k,fontWeight:600},children:"Proyecto integrador del m\xf3dulo \u2014 t\xf3mate tu tiempo, es el ejercicio m\xe1s importante"})]}),(0,u.jsxs)("div",{style:{background:m,border:"1px solid ".concat(f),borderRadius:12,padding:28,marginBottom:16},children:[(0,u.jsx)("div",{style:{fontSize:11,fontWeight:700,letterSpacing:2,color:S,marginBottom:14},children:"ENUNCIADO"}),_(V.scenario)]}),(0,u.jsxs)("div",{style:{display:"flex",gap:10,marginBottom:16,flexWrap:"wrap"},children:[(0,u.jsx)("button",{onClick:()=>D(e=>c(c({},e),{},{[V.id]:!e[V.id]})),style:{background:E,border:"1px solid ".concat(v),color:S,padding:"9px 18px",borderRadius:7,cursor:"pointer",fontSize:13,fontFamily:"inherit",fontWeight:500},children:j[V.id]?"Ocultar":"\ud83d\udca1 Ver pista"}),(0,u.jsx)("button",{onClick:()=>{w(e=>c(c({},e),{},{[V.id]:!e[V.id]})),a()},style:{background:T,border:"1px solid ".concat(x),color:x,padding:"9px 18px",borderRadius:7,cursor:"pointer",fontSize:13,fontFamily:"inherit",fontWeight:500},children:A[V.id]?"Ocultar":"\u2713 Ver soluci\xf3n"})]}),j[V.id]&&(0,u.jsxs)("div",{style:{background:E,border:"1px solid ".concat(v),borderRadius:8,padding:18,marginBottom:14},children:[(0,u.jsx)("div",{style:{fontSize:11,fontWeight:700,color:S,marginBottom:8,letterSpacing:1},children:"PISTA"}),(0,u.jsx)("p",{style:{fontSize:14,color:b,lineHeight:1.6,margin:0},children:V.hint})]}),A[V.id]&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{style:{background:m,border:"1px solid ".concat(x),borderRadius:12,padding:24,marginBottom:14},children:[(0,u.jsx)("div",{style:{fontSize:11,fontWeight:700,color:x,marginBottom:14,letterSpacing:1},children:"SOLUCI\xd3N COMENTADA"}),(0,u.jsx)(q,{code:V.solution})]}),V.keyPoints&&(0,u.jsxs)("div",{style:{background:m,border:"1px solid ".concat(f),borderRadius:10,padding:20},children:[(0,u.jsx)("div",{style:{fontSize:11,fontWeight:700,color:S,marginBottom:12,letterSpacing:1},children:"CONCEPTOS CLAVE DE ESTA SOLUCI\xd3N"}),V.keyPoints.map((e,t)=>(0,u.jsxs)("div",{style:{display:"flex",gap:10,marginBottom:8},children:[(0,u.jsx)("span",{style:{color:n,flexShrink:0,fontWeight:700},children:"\u25c6"}),(0,u.jsx)("span",{style:{fontSize:13.5,color:b,lineHeight:1.6},children:e})]},t))]})]})]}),"quiz"===V.type&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("p",{style:{fontSize:14,color:b,marginBottom:24,lineHeight:1.6},children:"Verifica tu comprensi\xf3n con estas preguntas. No te preocupes si no aciertas \u2014 la explicaci\xf3n de cada respuesta es parte del aprendizaje."}),V.questions.map((t,r)=>{const o="".concat(V.id,"-").concat(r),i=e.quizAnswers[o],s=e.quizSubmitted[o],l=i===t.correct;return(0,u.jsxs)("div",{style:{background:m,border:"1px solid ".concat(s?l?x:"#dc2626":f),borderRadius:12,padding:24,marginBottom:16,transition:"border-color 0.3s"},children:[(0,u.jsxs)("div",{style:{fontSize:11,color:y,fontWeight:600,letterSpacing:1,marginBottom:10},children:["PREGUNTA ",r+1," DE ",V.questions.length]}),(0,u.jsx)("p",{style:{fontSize:15,color:h,fontWeight:500,marginBottom:18,lineHeight:1.6,fontFamily:"'Crimson Pro', serif"},children:t.q}),(0,u.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:8,marginBottom:16},children:t.opts.map((a,r)=>{let d=p,m=f,g=b;return s?r===t.correct?(d=T,m=x,g=x):r!==i||l||(d=N,m="#dc2626",g="#dc2626"):r===i&&(d=n+"15",m=n,g=n),(0,u.jsxs)("div",{onClick:()=>!s&&M({quizAnswers:c(c({},e.quizAnswers),{},{[o]:r})}),style:{background:d,border:"1.5px solid ".concat(m),borderRadius:8,padding:"11px 16px",cursor:s?"default":"pointer",color:g,fontSize:14,lineHeight:1.5,transition:"all 0.15s"},children:[(0,u.jsxs)("span",{style:{fontWeight:700,marginRight:8},children:[String.fromCharCode(65+r),"."]}),a]},r)})}),s?(0,u.jsxs)("div",{style:{background:l?T:N,border:"1px solid ".concat(l?x:"#dc2626"),borderRadius:8,padding:16},children:[(0,u.jsx)("div",{style:{color:l?x:"#dc2626",fontWeight:700,marginBottom:6,fontSize:13},children:l?"\u2713 \xa1Correcto!":"\u2717 No exactamente"}),(0,u.jsx)("p",{style:{color:b,fontSize:13.5,margin:0,lineHeight:1.65},children:t.explain})]}):(0,u.jsx)("button",{disabled:void 0===i,onClick:()=>{M({quizSubmitted:c(c({},e.quizSubmitted),{},{[o]:!0})}),r===V.questions.length-1&&a()},style:{background:void 0!==i?n:p,color:void 0!==i?"#fff":y,border:"none",padding:"10px 24px",borderRadius:7,cursor:void 0!==i?"pointer":"not-allowed",fontFamily:"inherit",fontSize:13,fontWeight:600},children:"Verificar respuesta"})]},r)})]})]})]})}return null}const D={bg:"#0a0e14",panel:"#0f1520",border:"#1e2d3d",accent:"#00d4ff",green:"#00ff88",yellow:"#ffd700",red:"#ff4757",orange:"#ff6b35",text:"#c9d1d9",dim:"#58a6b0",code:"#1a2535"},U=[{id:1,title:"Joins Avanzados & Subqueries",icon:"\ud83d\udd17",xp:100,description:"El n\xfacleo del SQL: dominar c\xf3mo relacionar datos complejos",lessons:[{id:"1a",type:"concept",title:"LATERAL JOIN: el join que itera",content:"Un LATERAL JOIN permite que la subconsulta del lado derecho haga referencia a columnas de la tabla del lado izquierdo \u2014 es decir, se ejecuta una vez por cada fila de la tabla principal.\n\n**Cu\xe1ndo usarlo:**\n- Top-N por grupo (los 3 pedidos m\xe1s recientes de cada cliente)\n- Calcular valores dependientes de cada fila sin CTEs anidados\n- Generar series din\xe1micas por fila\n\n**Sintaxis:**\n```sql\nSELECT c.nombre, ult.*\nFROM clientes c\nCROSS JOIN LATERAL (\n  SELECT total, fecha\n  FROM pedidos p\n  WHERE p.cliente_id = c.id\n  ORDER BY fecha DESC\n  LIMIT 3\n) ult;\n```\n\nLa diferencia con un subquery normal: en un subquery correlacionado solo puedes retornar un valor escalar. Con LATERAL puedes retornar m\xfaltiples filas y columnas."},{id:"1b",type:"exercise",title:"Ejercicio: Top ventas por vendedor",scenario:"Tienes las tablas:\n  vendedores(id, nombre, region)\n  ventas(id, vendedor_id, monto, fecha, producto)\n\nEscribe una query que retorne para cada vendedor: su nombre, regi\xf3n, y el monto de su **mejor venta individual** junto con el producto vendido. Solo incluye vendedores que tengan al menos 1 venta.",hint:"Piensa en LATERAL con ORDER BY monto DESC LIMIT 1. Tambi\xe9n se puede con DISTINCT ON.",solution:"-- Soluci\xf3n con LATERAL JOIN\nSELECT v.nombre, v.region, mejor.monto, mejor.producto\nFROM vendedores v\nJOIN LATERAL (\n  SELECT monto, producto\n  FROM ventas vt\n  WHERE vt.vendedor_id = v.id\n  ORDER BY monto DESC\n  LIMIT 1\n) mejor ON true;\n\n-- Alternativa elegante con DISTINCT ON\nSELECT DISTINCT ON (v.id)\n  v.nombre, v.region, vt.monto, vt.producto\nFROM vendedores v\nJOIN ventas vt ON vt.vendedor_id = v.id\nORDER BY v.id, vt.monto DESC;",keyPoints:["LATERAL permite referenciar la tabla padre en la subquery","JOIN LATERAL ON true es equivalente a CROSS JOIN LATERAL cuando hay filas","DISTINCT ON es una alternativa PostgreSQL-espec\xedfica muy eficiente para top-1 por grupo"]},{id:"1c",type:"quiz",title:"Quiz: Self-joins y anti-joins",questions:[{q:"\xbfCu\xe1l es la diferencia entre NOT IN y NOT EXISTS cuando hay NULLs en la subquery?",options:["No hay diferencia, son equivalentes","NOT IN retorna vac\xedo si hay alg\xfan NULL en el resultado de la subquery; NOT EXISTS maneja NULLs correctamente","NOT EXISTS retorna vac\xedo con NULLs; NOT IN no","Ambos ignoran NULLs autom\xe1ticamente"],correct:1,explanation:"NOT IN con NULLs en la subquery produce UNKNOWN en toda comparaci\xf3n y retorna 0 filas. NOT EXISTS eval\xfaa existencia, no igualdad, y no tiene este problema. Siempre preferir NOT EXISTS o LEFT JOIN ... WHERE IS NULL."},{q:"\xbfQu\xe9 retorna este query?\nSELECT a.id FROM t a JOIN t b ON a.id < b.id",options:["Un producto cartesiano completo","Todos los pares donde a.id es menor que b.id (self-join con pares \xfanicos)","Un error porque no puedes hacer JOIN de una tabla consigo misma","Solo las filas donde a.id = b.id - 1"],correct:1,explanation:"Es un self-join v\xe1lido. Se asignan alias diferentes (a, b) para la misma tabla. La condici\xf3n a.id < b.id genera todas las combinaciones sin repetici\xf3n \u2014 \xfatil para comparar todos los pares de filas."},{q:"\xbfPara qu\xe9 sirve un FULL OUTER JOIN?",options:["Para obtener solo las filas que coinciden en ambas tablas","Para obtener todas las filas de ambas tablas, con NULL donde no haya coincidencia","Para mejorar el rendimiento de JOINs grandes","Es sin\xf3nimo de CROSS JOIN"],correct:1,explanation:"FULL OUTER JOIN retorna: filas que coinciden (como INNER JOIN) + filas de la izquierda sin match (con NULL a la derecha) + filas de la derecha sin match (con NULL a la izquierda). \xdatil para reconciliar dos conjuntos de datos."}]}]},{id:2,title:"Window Functions",icon:"\ud83e\ude9f",xp:150,description:"C\xe1lculos anal\xedticos potentes sin colapsar filas",lessons:[{id:"2a",type:"concept",title:"Anatom\xeda de una Window Function",content:'Las window functions calculan valores sobre un conjunto de filas relacionadas con la fila actual, **sin agrupar** el resultado.\n\n**Estructura:**\n```sql\nfuncion() OVER (\n  PARTITION BY columna   -- divide en "ventanas"\n  ORDER BY columna       -- orden dentro de la ventana\n  ROWS/RANGE BETWEEN ... -- frame de la ventana\n)\n```\n\n**Funciones clave:**\n| Funci\xf3n | Descripci\xf3n |\n|---------|-------------|\n| ROW_NUMBER() | N\xfamero \xfanico, siempre consecutivo |\n| RANK() | Igual valor = mismo rank, salta n\xfameros |\n| DENSE_RANK() | Igual valor = mismo rank, no salta |\n| LAG(col, n) | Valor de n filas atr\xe1s |\n| LEAD(col, n) | Valor de n filas adelante |\n| FIRST_VALUE(col) | Primer valor del frame |\n| SUM/AVG OVER(...) | Acumulado o m\xf3vil |\n\n**Frame clause:**\n```sql\n-- Running total\nSUM(monto) OVER (ORDER BY fecha \n  ROWS BETWEEN UNBOUNDED PRECEDING AND CURRENT ROW)\n\n-- Media m\xf3vil de 7 d\xedas\nAVG(valor) OVER (ORDER BY fecha \n  ROWS BETWEEN 6 PRECEDING AND CURRENT ROW)\n```'},{id:"2b",type:"challenge",title:"\ud83d\udd25 Desaf\xedo: An\xe1lisis de cohortes de retenci\xf3n",difficulty:"DIF\xcdCIL",scenario:"Tabla: eventos(user_id, fecha, tipo_evento)\n  tipo_evento puede ser: 'registro', 'compra', 'visita'\n\n**Objetivo:** Calcular la retenci\xf3n de cohortes mensual.\nUna cohorte es el mes en que el usuario se registr\xf3.\nLa retenci\xf3n del mes N es el % de usuarios de esa cohorte que tuvieron actividad en el mes de registro + N meses.\n\nEscribe la query completa.",hint:"Necesitar\xe1s: DATE_TRUNC para agrupar por mes, JOIN para cruzar el mes de registro con meses de actividad, y window functions o GROUP BY anidado.",solution:"WITH cohortes AS (\n  -- Mes de registro de cada usuario\n  SELECT \n    user_id,\n    DATE_TRUNC('month', fecha) AS cohorte_mes\n  FROM eventos\n  WHERE tipo_evento = 'registro'\n),\nactividad AS (\n  -- Todos los meses donde cada usuario tuvo actividad\n  SELECT DISTINCT\n    user_id,\n    DATE_TRUNC('month', fecha) AS mes_activo\n  FROM eventos\n),\ncohort_activity AS (\n  SELECT\n    c.cohorte_mes,\n    a.mes_activo,\n    -- N\xfamero de meses desde el registro (0 = mes de registro)\n    EXTRACT(YEAR FROM AGE(a.mes_activo, c.cohorte_mes)) * 12 +\n    EXTRACT(MONTH FROM AGE(a.mes_activo, c.cohorte_mes)) AS mes_n,\n    COUNT(DISTINCT c.user_id) AS usuarios_activos\n  FROM cohortes c\n  JOIN actividad a ON a.user_id = c.user_id\n    AND a.mes_activo >= c.cohorte_mes\n  GROUP BY c.cohorte_mes, a.mes_activo\n),\ntamano_cohorte AS (\n  SELECT cohorte_mes, COUNT(*) AS total_usuarios\n  FROM cohortes\n  GROUP BY cohorte_mes\n)\nSELECT\n  ca.cohorte_mes,\n  ca.mes_n,\n  ca.usuarios_activos,\n  tc.total_usuarios,\n  ROUND(100.0 * ca.usuarios_activos / tc.total_usuarios, 1) AS retencion_pct\nFROM cohort_activity ca\nJOIN tamano_cohorte tc ON tc.cohorte_mes = ca.cohorte_mes\nORDER BY ca.cohorte_mes, ca.mes_n;",keyPoints:["DATE_TRUNC('month', fecha) trunca al primer d\xeda del mes","AGE() entre dos fechas retorna un intervalo; EXTRACT puede sacar a\xf1os y meses","Los CTEs encadenados son la forma m\xe1s legible de construir queries complejos","DISTINCT ON o DISTINCT son cruciales para no contar actividad duplicada"]},{id:"2c",type:"quiz",title:"Quiz: Window Functions avanzado",questions:[{q:"\xbfCu\xe1l es la diferencia entre ROWS BETWEEN y RANGE BETWEEN en el frame clause?",options:["Son sin\xf3nimos, no hay diferencia","ROWS cuenta filas f\xedsicas; RANGE agrupa filas con el mismo valor ORDER BY en el mismo frame","RANGE solo funciona con fechas","ROWS es m\xe1s lento que RANGE"],correct:1,explanation:"ROWS trabaja con posiciones f\xedsicas (fila 1, fila 2...). RANGE trabaja con valores l\xf3gicos: todas las filas con el mismo valor de ORDER BY caen en el mismo 'l\xedmite'. Esto afecta c\xf3mo se calculan acumulados cuando hay empates."},{q:"\xbfQu\xe9 produce NTILE(4) OVER (ORDER BY salario)?",options:["Cuartiles: divide el resultado en 4 grupos iguales y asigna 1,2,3 o 4","Retorna el percentil exacto de cada salario","Agrupa por salario en 4 buckets de igual valor","Es equivalente a RANK() dividido entre 4"],correct:0,explanation:"NTILE(n) divide el conjunto ordenado en n grupos lo m\xe1s iguales posible y asigna el n\xfamero de grupo (1 a n) a cada fila. NTILE(4) = cuartiles, NTILE(100) = percentiles."},{q:"\xbfCu\xe1ndo usar\xedas FILTER(WHERE ...) con una window function?",options:["Para filtrar filas antes del ORDER BY","Para aplicar la funci\xf3n solo a filas que cumplen una condici\xf3n dentro de la ventana","FILTER no es compatible con window functions","Para reemplazar el PARTITION BY"],correct:1,explanation:"FILTER(WHERE condicion) dentro de una funci\xf3n de agregaci\xf3n (incluyendo sobre ventanas) aplica la funci\xf3n solo a las filas que pasan la condici\xf3n. Ejemplo: COUNT(*) FILTER(WHERE tipo='compra') OVER (PARTITION BY user_id)"}]}]},{id:3,title:"CTEs & Recursividad",icon:"\u267b\ufe0f",xp:130,description:"Queries complejos y estructuras jer\xe1rquicas",lessons:[{id:"3a",type:"concept",title:"CTEs: materializaci\xf3n y recursividad",content:"**CTE b\xe1sico (WITH):**\nUn CTE nombra una subquery para reusarla. En PostgreSQL, por defecto los CTEs se materializan (ejecutan una sola vez y el resultado se almacena).\n\n```sql\nWITH ventas_2024 AS (\n  SELECT * FROM ventas WHERE EXTRACT(YEAR FROM fecha) = 2024\n),\ntop_clientes AS (\n  SELECT cliente_id, SUM(monto) total\n  FROM ventas_2024\n  GROUP BY cliente_id\n  HAVING SUM(monto) > 10000\n)\nSELECT c.nombre, tc.total\nFROM top_clientes tc\nJOIN clientes c ON c.id = tc.cliente_id;\n```\n\n**CTE Recursivo (WITH RECURSIVE):**\nPermite que un CTE se referencie a s\xed mismo. Estructura obligatoria:\n1. **Anchor query**: caso base (sin recursi\xf3n)\n2. **UNION ALL**\n3. **Recursive query**: referencia al CTE mismo + condici\xf3n de parada\n\n```sql\nWITH RECURSIVE jerarquia AS (\n  -- Anchor: el nodo ra\xedz\n  SELECT id, nombre, parent_id, 0 AS nivel\n  FROM empleados\n  WHERE parent_id IS NULL\n  \n  UNION ALL\n  \n  -- Recursivo: hijos del nivel actual\n  SELECT e.id, e.nombre, e.parent_id, j.nivel + 1\n  FROM empleados e\n  JOIN jerarquia j ON e.parent_id = j.id\n)\nSELECT * FROM jerarquia ORDER BY nivel, nombre;\n```\n\n**\u26a0\ufe0f Peligro:** Sin condici\xf3n de parada adecuada, un CTE recursivo puede ser infinito. Usar `WHERE nivel < 100` como l\xedmite de seguridad."},{id:"3b",type:"challenge",title:"\ud83d\udd25 Desaf\xedo: \xc1rbol de categor\xedas y rutas",difficulty:"DIF\xcdCIL",scenario:'Tabla: categorias(id, nombre, parent_id)\n  parent_id es NULL para categor\xedas ra\xedz.\n\n**Parte 1:** Escribe un query recursivo que retorne cada categor\xeda con su "ruta completa" en formato string. Ejemplo: "Electr\xf3nica > Computadoras > Laptops"\n\n**Parte 2:** Dado un categoria_id espec\xedfico (:target_id), encuentra todos sus ancestros (el camino desde la ra\xedz hasta ese nodo).',hint:"Para la ruta, concatena los nombres en la parte recursiva. Para ancestros, cambia la direcci\xf3n: parte del nodo y sube por parent_id.",solution:"-- Parte 1: Ruta completa de cada categor\xeda\nWITH RECURSIVE rutas AS (\n  -- Anchor: categor\xedas ra\xedz\n  SELECT id, nombre, parent_id, nombre::text AS ruta\n  FROM categorias\n  WHERE parent_id IS NULL\n  \n  UNION ALL\n  \n  -- Recursivo: concatenar nombre del hijo\n  SELECT c.id, c.nombre, c.parent_id,\n         r.ruta || ' > ' || c.nombre\n  FROM categorias c\n  JOIN rutas r ON c.parent_id = r.id\n)\nSELECT id, nombre, ruta\nFROM rutas\nORDER BY ruta;\n\n-- Parte 2: Ancestros de un nodo espec\xedfico\nWITH RECURSIVE ancestros AS (\n  -- Anchor: el nodo objetivo\n  SELECT id, nombre, parent_id, 0 AS nivel\n  FROM categorias\n  WHERE id = :target_id\n  \n  UNION ALL\n  \n  -- Recursivo: subir hacia el padre\n  SELECT c.id, c.nombre, c.parent_id, a.nivel + 1\n  FROM categorias c\n  JOIN ancestros a ON c.id = a.parent_id\n)\nSELECT id, nombre, nivel\nFROM ancestros\nORDER BY nivel DESC; -- nivel 0 es el nodo, el m\xe1s alto es la ra\xedz",keyPoints:["La concatenaci\xf3n de strings en el recursivo construye la ruta incrementalmente","Para 'subir' en una jerarqu\xeda, el JOIN va al rev\xe9s: JOIN ON c.id = a.parent_id","Casting expl\xedcito (nombre::text) necesario cuando el anchor define el tipo","CYCLE detection disponible en PostgreSQL 14+: CYCLE id SET is_cycle TO true"]},{id:"3c",type:"quiz",title:"Quiz: CTEs y optimizaci\xf3n",questions:[{q:"En PostgreSQL 12+, \xbfqu\xe9 hace la hint MATERIALIZED vs NOT MATERIALIZED en un CTE?",options:["Solo es sintaxis decorativa, no afecta el plan","MATERIALIZED fuerza que el CTE se ejecute una sola vez y se almacene; NOT MATERIALIZED permite al optimizador inlinear el CTE como subquery","MATERIALIZED crea una tabla temporal; NOT MATERIALIZED usa memoria RAM","Son equivalentes en rendimiento"],correct:1,explanation:"Desde PG12, el optimizador puede inlinear CTEs (NOT MATERIALIZED) si estima que es m\xe1s eficiente. Con MATERIALIZED siempre se ejecuta una vez (\xfatil si el CTE se usa m\xfaltiples veces o tiene efectos secundarios como funciones vol\xe1tiles)."},{q:"\xbfCu\xe1l es el l\xedmite de recursi\xf3n por defecto en PostgreSQL para CTEs recursivos?",options:["100 iteraciones","1000 iteraciones","No hay l\xedmite, puede ser infinito","Depende de la memoria disponible"],correct:1,explanation:"El par\xe1metro max_recursion_depth en PostgreSQL controla esto y por defecto no existe un l\xedmite expl\xedcito \u2014 se detiene cuando la parte recursiva no produce m\xe1s filas. Sin embargo, una recursi\xf3n infinita consumir\xe1 toda la memoria. Es buena pr\xe1ctica a\xf1adir un contador de nivel y limitar con WHERE."}]}]},{id:4,title:"\xcdndices & Performance",icon:"\u26a1",xp:200,description:"El arte de hacer queries ultra-r\xe1pidos",lessons:[{id:"4a",type:"concept",title:"Tipos de \xedndices en PostgreSQL",content:"PostgreSQL ofrece m\xfaltiples tipos de \xedndices, cada uno optimizado para casos espec\xedficos:\n\n**B-Tree (por defecto):**\n- Ideal para: igualdad (=), rangos (<, >, BETWEEN), ORDER BY, LIKE 'prefix%'\n- \u274c No sirve para: LIKE '%suffix', full-text, arrays\n\n**Hash:**\n- Solo para igualdad (=)\n- M\xe1s r\xe1pido que B-Tree para buscar un valor exacto\n- \u274c No soporta rangos\n\n**GIN (Generalized Inverted Index):**\n- Ideal para: arrays (@>, <@), JSONB, full-text search\n- Almacena los elementos individuales y mapea a filas\n\n**GiST (Generalized Search Tree):**\n- Ideal para: geoespacial (PostGIS), rangos (tsrange), geometr\xedas\n- Soporte para operadores especiales (&&, @>)\n\n**BRIN (Block Range Index):**\n- \xcdndices muy peque\xf1os para datos con correlaci\xf3n f\xedsica (ej: timestamps de insert)\n- \xdatil en tablas muy grandes con datos ordenados naturalmente\n\n**Parciales:**\n```sql\n-- Solo indexa filas activas (no las archivadas)\nCREATE INDEX ON pedidos(cliente_id) WHERE estado = 'activo';\n```\n\n**Compuestos:**\n```sql\n-- Columnas en orden correcto seg\xfan las queries m\xe1s frecuentes\nCREATE INDEX ON ventas(region, fecha, monto);\n-- Sirve para: WHERE region=X, WHERE region=X AND fecha=Y, pero NO solo fecha\n```\n\n**Covering index (INCLUDE):**\n```sql\n-- El \xedndice incluye columnas extra para evitar heap fetch\nCREATE INDEX ON clientes(email) INCLUDE (nombre, plan);\n-- Query SELECT nombre, plan FROM clientes WHERE email=X puede ser index-only scan\n```"},{id:"4b",type:"exercise",title:"Ejercicio: EXPLAIN ANALYZE \u2014 leer el plan",scenario:"Tienes este query lento (tabla con 10M filas):\n\n```sql\nSELECT u.nombre, COUNT(o.id) as total_pedidos, SUM(o.monto) as total_gastado\nFROM usuarios u\nJOIN pedidos o ON o.usuario_id = u.id  \nWHERE o.fecha >= '2024-01-01'\n  AND o.estado = 'completado'\n  AND u.pais = 'MX'\nGROUP BY u.id, u.nombre\nHAVING SUM(o.monto) > 500\nORDER BY total_gastado DESC;\n```\n\nEl EXPLAIN muestra Seq Scan en ambas tablas y un Hash Join. Costo total: 890,234.\n\n**Pregunta:** \xbfQu\xe9 \xedndices crear\xedas y por qu\xe9? Considera la selectividad de cada filtro.",hint:"Analiza qu\xe9 columnas est\xe1n en WHERE, qu\xe9 tan selectivas son, y si se puede hacer un index-only scan.",solution:"-- An\xe1lisis de selectividad:\n-- o.fecha >= '2024-01-01': moderadamente selectivo (filtra ~25% si es 1 a\xf1o de 4)\n-- o.estado = 'completado': potencialmente muy selectivo si hay pocos estados\n-- u.pais = 'MX': selectividad variable seg\xfan distribuci\xf3n\n\n-- \xcdndice compuesto en pedidos (columna m\xe1s selectiva primero, luego rango)\nCREATE INDEX idx_pedidos_estado_fecha ON pedidos(estado, fecha, usuario_id)\n  INCLUDE (monto);\n-- Razonamiento: estado es igualdad (muy selectivo), fecha es rango,\n-- usuario_id permite el join, monto evita el heap fetch para el SUM\n\n-- \xcdndice en usuarios para el filtro de pa\xeds\nCREATE INDEX idx_usuarios_pais ON usuarios(pais)\n  INCLUDE (nombre);\n-- Razonamiento: permite filtrar por pa\xeds sin leer toda la tabla\n\n-- El optimizador puede ahora hacer:\n-- 1. Index Scan en pedidos por (estado='completado', fecha>=2024-01-01)\n-- 2. Index Scan en usuarios por (pais='MX')  \n-- 3. Hash Join entre los resultados filtrados\n-- 4. GROUP BY y HAVING en el resultado peque\xf1o\n\n-- Para verificar, ejecutar:\nEXPLAIN (ANALYZE, BUFFERS, FORMAT TEXT) SELECT ...;\n-- Buscar: Index Scan, Index Only Scan (sin heap fetch), reducci\xf3n de filas\n\n-- NOTA: \xcdndice parcial si 'completado' es el estado m\xe1s consultado:\nCREATE INDEX idx_pedidos_completados ON pedidos(fecha, usuario_id)\n  INCLUDE (monto)\n  WHERE estado = 'completado';\n-- M\xe1s peque\xf1o = m\xe1s eficiente en cache",keyPoints:["En \xedndices compuestos: primero columnas de igualdad, luego rangos","INCLUDE evita el 'heap fetch' \u2192 Index Only Scan posible","\xcdndices parciales son m\xe1s peque\xf1os y eficientes cuando el filtro es fijo","La selectividad determina si un \xedndice vale la pena (< 5-10% de filas = buena candidata)"]},{id:"4c",type:"challenge",title:"\ud83d\udd25 Desaf\xedo: Optimizar un query de reporting",difficulty:"MUY DIF\xcdCIL",scenario:"Este query de reporte corre en 45 segundos. Debe correr en < 2 segundos.\n\n```sql\nSELECT \n  DATE_TRUNC('month', v.fecha) AS mes,\n  p.categoria,\n  p.subcategoria,\n  r.nombre AS region,\n  SUM(v.cantidad * v.precio_unitario) AS revenue,\n  COUNT(DISTINCT v.cliente_id) AS clientes_unicos,\n  AVG(v.precio_unitario) AS precio_promedio\nFROM ventas v\nJOIN productos p ON p.id = v.producto_id\nJOIN regiones r ON r.id = v.region_id\nWHERE v.fecha >= NOW() - INTERVAL '2 years'\nGROUP BY 1, 2, 3, 4\nORDER BY 1 DESC, 5 DESC;\n```\n\nventas tiene 50M filas. productos: 100K. regiones: 500.\n\n**Tareas:**\n1. Identifica los cuellos de botella\n2. Prop\xf3n estrategias de optimizaci\xf3n (\xedndices, particionamiento, materialized views)\n3. Escribe la implementaci\xf3n completa de tu soluci\xf3n",hint:"Piensa m\xe1s all\xe1 de \xedndices: \xbfesta query puede pre-computarse? \xbfLos datos necesitan estar en la tabla principal para esta query?",solution:"-- AN\xc1LISIS DEL PROBLEMA:\n-- 1. Seq scan inevitable en 50M filas para WHERE fecha >= NOW()-2y (sin \xedndice)\n-- 2. M\xfaltiples JOINs a tablas medianas\n-- 3. GROUP BY con COUNT(DISTINCT) es costoso\n-- 4. Este es claramente un query de BI/reporting \u2192 candidato a Materialized View\n\n-- \u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\n-- SOLUCI\xd3N 1: \xcdndices base\n-- \u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\nCREATE INDEX idx_ventas_fecha_brin ON ventas USING BRIN(fecha);\n-- BRIN es peque\xf1o y eficiente para fechas de insert correlacionadas\n\nCREATE INDEX idx_ventas_cobertura ON ventas(fecha, producto_id, region_id, cliente_id)\n  INCLUDE (cantidad, precio_unitario);\n-- Cubre todas las columnas necesarias\n\n-- \u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\n-- SOLUCI\xd3N 2: Particionamiento por rango de fecha\n-- \u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\n-- Crear tabla particionada (requiere migraci\xf3n)\nCREATE TABLE ventas_particionadas (\n  LIKE ventas INCLUDING ALL\n) PARTITION BY RANGE (fecha);\n\nCREATE TABLE ventas_2023 PARTITION OF ventas_particionadas\n  FOR VALUES FROM ('2023-01-01') TO ('2024-01-01');\nCREATE TABLE ventas_2024 PARTITION OF ventas_particionadas\n  FOR VALUES FROM ('2024-01-01') TO ('2025-01-01');\n-- Partition pruning: el planner solo lee particiones relevantes\n\n-- \u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550  \n-- SOLUCI\xd3N 3: Materialized View (la m\xe1s efectiva para reporting)\n-- \u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\nCREATE MATERIALIZED VIEW mv_ventas_mensual AS\nSELECT \n  DATE_TRUNC('month', v.fecha) AS mes,\n  p.categoria,\n  p.subcategoria,\n  r.nombre AS region,\n  SUM(v.cantidad * v.precio_unitario) AS revenue,\n  COUNT(DISTINCT v.cliente_id) AS clientes_unicos,\n  AVG(v.precio_unitario) AS precio_promedio\nFROM ventas v\nJOIN productos p ON p.id = v.producto_id\nJOIN regiones r ON r.id = v.region_id\nGROUP BY 1, 2, 3, 4\nWITH DATA;\n\n-- \xcdndice en la MV para queries frecuentes\nCREATE INDEX ON mv_ventas_mensual(mes DESC, revenue DESC);\nCREATE INDEX ON mv_ventas_mensual(categoria, mes);\n\n-- Refresh programado (cron o pg_cron)\nREFRESH MATERIALIZED VIEW CONCURRENTLY mv_ventas_mensual;\n-- CONCURRENTLY no bloquea lecturas durante el refresh\n\n-- La query original ahora es:\nSELECT * FROM mv_ventas_mensual\nWHERE mes >= DATE_TRUNC('month', NOW() - INTERVAL '2 years')\nORDER BY mes DESC, revenue DESC;\n-- \u2248 0.1ms en vez de 45s\n\n-- \u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\n-- BONUS: pg_cron para refresh autom\xe1tico\n-- \u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\nSELECT cron.schedule(\n  'refresh-ventas-mv',\n  '0 2 * * *',  -- cada d\xeda a las 2am\n  'REFRESH MATERIALIZED VIEW CONCURRENTLY mv_ventas_mensual'\n);",keyPoints:["Materialized Views: pre-computar aggregaciones pesadas de reporting","REFRESH CONCURRENTLY requiere un unique index pero no bloquea lecturas","BRIN ideal para tablas con datos correlacionados cronol\xf3gicamente","Particionamiento: el planner poda particiones fuera del rango WHERE autom\xe1ticamente","Para BI/dashboards, siempre pensar en capas de pre-agregaci\xf3n"]}]},{id:5,title:"Transacciones & Concurrencia",icon:"\ud83d\udd12",xp:180,description:"ACID, niveles de aislamiento y patrones para alta concurrencia",lessons:[{id:"5a",type:"concept",title:"MVCC y niveles de aislamiento",content:"PostgreSQL usa **MVCC (Multi-Version Concurrency Control)**: en vez de bloquear filas al leer, mantiene m\xfaltiples versiones de cada fila, permitiendo que lecturas no bloqueen escrituras.\n\n**Niveles de aislamiento (SQL est\xe1ndar):**\n\n| Nivel | Dirty Read | Non-Repeatable Read | Phantom Read |\n|-------|-----------|---------------------|--------------|\n| READ UNCOMMITTED | Posible* | Posible | Posible |\n| READ COMMITTED (default) | No | Posible | Posible |\n| REPEATABLE READ | No | No | No* |\n| SERIALIZABLE | No | No | No |\n\n*PostgreSQL no tiene dirty reads nunca. REPEATABLE READ en PG tambi\xe9n previene phantoms.\n\n**Anomal\xedas de concurrencia:**\n- **Dirty Read**: leer datos de una transacci\xf3n no committed (PG nunca)\n- **Non-Repeatable Read**: leer el mismo dato 2 veces y obtener valores distintos\n- **Phantom Read**: una segunda lectura del mismo range retorna filas nuevas\n- **Write Skew**: dos transacciones leen el mismo dato y escriben bas\xe1ndose en ese valor (requiere SERIALIZABLE para prevenir)\n\n**FOR UPDATE / FOR SHARE:**\n```sql\n-- Bloqueo pesimista: nadie m\xe1s puede actualizar esta fila hasta commit\nSELECT * FROM inventario WHERE producto_id = 5 FOR UPDATE;\n\n-- SKIP LOCKED: saltar filas bloqueadas (queue processing)\nSELECT * FROM tareas WHERE estado = 'pendiente' \n  FOR UPDATE SKIP LOCKED LIMIT 1;\n```\n\n**Advisory Locks:**\n```sql\n-- Lock a nivel de aplicaci\xf3n, por ID arbitrario\nSELECT pg_try_advisory_lock(12345); -- non-blocking\nSELECT pg_advisory_lock(12345);     -- blocking\nSELECT pg_advisory_unlock(12345);\n```"},{id:"5b",type:"challenge",title:"\ud83d\udd25 Desaf\xedo: Sistema de inventario concurrente",difficulty:"DIF\xcdCIL",scenario:'Tienes una tabla: inventario(producto_id, stock, reservado, disponible)\n  donde disponible = stock - reservado\n\nM\xfaltiples workers intentan reservar unidades simult\xe1neamente.\nSi dos workers leen disponible=10 al mismo tiempo y ambos reservan 8 unidades, el stock queda en -6.\n\n**Tarea:** Dise\xf1a una funci\xf3n PostgreSQL que reserve N unidades de forma segura, manejando:\n1. Concurrencia (evitar reservas que excedan el stock)\n2. Que retorne \xe9xito/fallo con mensaje claro\n3. Implementa tambi\xe9n un sistema de "cola de tareas" SKIP LOCKED',hint:"La clave est\xe1 en bloquear la fila ANTES de leer el valor disponible, o usar UPDATE con condici\xf3n y verificar filas afectadas.",solution:"-- \u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\n-- Funci\xf3n de reserva con locking optimista (UPDATE at\xf3mico)\n-- \u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\nCREATE OR REPLACE FUNCTION reservar_stock(\n  p_producto_id INT,\n  p_cantidad INT\n) RETURNS TABLE(exito BOOLEAN, mensaje TEXT, stock_disponible INT)\nLANGUAGE plpgsql AS $$\nDECLARE\n  v_filas_afectadas INT;\n  v_disponible INT;\nBEGIN\n  -- UPDATE at\xf3mico: solo actualiza si hay suficiente stock\n  -- Esto es seguro sin SELECT previo\n  UPDATE inventario\n  SET reservado = reservado + p_cantidad\n  WHERE producto_id = p_producto_id\n    AND (stock - reservado) >= p_cantidad;  -- condici\xf3n at\xf3mica\n  \n  GET DIAGNOSTICS v_filas_afectadas = ROW_COUNT;\n  \n  IF v_filas_afectadas = 0 THEN\n    -- No se pudo reservar: retornar stock actual\n    SELECT stock - reservado INTO v_disponible\n    FROM inventario WHERE producto_id = p_producto_id;\n    \n    RETURN QUERY SELECT \n      FALSE, \n      FORMAT('Stock insuficiente. Disponible: %s, Solicitado: %s', \n             v_disponible, p_cantidad),\n      v_disponible;\n  ELSE\n    SELECT stock - reservado INTO v_disponible\n    FROM inventario WHERE producto_id = p_producto_id;\n    \n    RETURN QUERY SELECT \n      TRUE,\n      FORMAT('Reserva exitosa: %s unidades', p_cantidad),\n      v_disponible;\n  END IF;\nEND;\n$$;\n\n-- Uso:\nSELECT * FROM reservar_stock(42, 5);\n\n-- \u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\n-- Sistema de cola con SKIP LOCKED\n-- \u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\nCREATE TABLE cola_tareas (\n  id BIGSERIAL PRIMARY KEY,\n  tipo VARCHAR(50),\n  payload JSONB,\n  estado VARCHAR(20) DEFAULT 'pendiente',\n  creado_en TIMESTAMPTZ DEFAULT NOW(),\n  intentos INT DEFAULT 0,\n  max_intentos INT DEFAULT 3\n);\n\nCREATE INDEX ON cola_tareas(estado, creado_en) \n  WHERE estado = 'pendiente';\n\n-- Funci\xf3n worker: tomar una tarea de la cola\nCREATE OR REPLACE FUNCTION tomar_tarea(p_tipo VARCHAR DEFAULT NULL)\nRETURNS cola_tareas\nLANGUAGE plpgsql AS $$\nDECLARE\n  v_tarea cola_tareas;\nBEGIN\n  SELECT * INTO v_tarea\n  FROM cola_tareas\n  WHERE estado = 'pendiente'\n    AND (p_tipo IS NULL OR tipo = p_tipo)\n    AND intentos < max_intentos\n  ORDER BY creado_en\n  LIMIT 1\n  FOR UPDATE SKIP LOCKED;  -- salta filas que otro worker ya tom\xf3\n  \n  IF v_tarea.id IS NOT NULL THEN\n    UPDATE cola_tareas\n    SET estado = 'procesando',\n        intentos = intentos + 1\n    WHERE id = v_tarea.id;\n  END IF;\n  \n  RETURN v_tarea;\nEND;\n$$;\n\n-- Completar o fallar una tarea\nCREATE OR REPLACE FUNCTION completar_tarea(p_id BIGINT, p_exito BOOLEAN)\nRETURNS VOID LANGUAGE sql AS $$\n  UPDATE cola_tareas\n  SET estado = CASE WHEN p_exito THEN 'completado' ELSE 'fallido' END\n  WHERE id = p_id;\n$$;",keyPoints:["UPDATE at\xf3mico con condici\xf3n es m\xe1s seguro que SELECT + UPDATE separados","GET DIAGNOSTICS ROW_COUNT verifica cu\xe1ntas filas se actualizaron","SKIP LOCKED: los workers toman tareas distintas sin esperarse","El patr\xf3n UPDATE-where-condition-check es 'optimistic locking' sin versiones","FOR UPDATE NOWAIT lanza error inmediato si la fila est\xe1 bloqueada (vs SKIP que la ignora)"]}]},{id:6,title:"JSONB & Datos Semi-estructurados",icon:"\ud83d\udce6",xp:120,description:"PostgreSQL como base de datos de documentos",lessons:[{id:"6a",type:"concept",title:"JSONB: operadores y patrones",content:"JSONB almacena JSON en formato binario descompuesto: b\xfasquedas r\xe1pidas, soporta \xedndices GIN.\n\n**Operadores principales:**\n```sql\n-- Acceso\ndatos->'clave'           -- retorna JSONB\ndatos->>'clave'          -- retorna TEXT\ndatos #> '{a,b,c}'       -- path array \u2192 JSONB\ndatos #>> '{a,b,c}'      -- path array \u2192 TEXT\n\n-- Contenci\xf3n\ndatos @> '{\"rol\": \"admin\"}'    -- datos contiene ese objeto\n'{\"rol\": \"admin\"}' <@ datos    -- es subconjunto de datos\n\n-- Existencia de clave\ndatos ? 'email'                -- \xbfexiste la clave?\ndatos ?| ARRAY['email','tel']  -- \xbfexiste alguna?\ndatos ?& ARRAY['email','tel']  -- \xbfexisten todas?\n\n-- Modificaci\xf3n (inmutable en JSONB, retorna nuevo valor)\njsonb_set(datos, '{direccion,ciudad}', '\"CDMX\"')\ndatos || '{\"nuevo_campo\": true}'::jsonb  -- merge\ndatos - 'campo_a_eliminar'               -- eliminar clave\n```\n\n**\xcdndice GIN para b\xfasquedas en JSONB:**\n```sql\n-- \xcdndice general (soporta @>, ?, ?|, ?&)\nCREATE INDEX ON usuarios USING GIN(datos);\n\n-- \xcdndice de path espec\xedfico (m\xe1s peque\xf1o, para acceso frecuente)\nCREATE INDEX ON usuarios USING GIN((datos->'tags'));\n\n-- \xcdndice funcional para una clave espec\xedfica\nCREATE INDEX ON usuarios((datos->>'email'));\n-- Permite: WHERE datos->>'email' = 'x@y.com'\n```\n\n**jsonb_to_recordset y jsonb_array_elements:**\n```sql\n-- Expandir un array JSONB en filas\nSELECT item.* \nFROM pedidos, \n     jsonb_to_recordset(datos->'items') AS item(producto_id INT, cantidad INT, precio NUMERIC);\n```"},{id:"6b",type:"exercise",title:"Ejercicio: Normalizaci\xf3n desde JSONB",scenario:'Tienes una tabla legacy:\n  eventos(id, metadata JSONB)\n\nDonde metadata tiene esta estructura:\n```json\n{\n  "usuario": {"id": 123, "email": "x@y.com", "pais": "MX"},\n  "accion": "compra",\n  "items": [\n    {"sku": "A1", "qty": 2, "precio": 49.99},\n    {"sku": "B3", "qty": 1, "precio": 199.00}\n  ],\n  "timestamp": "2024-03-15T14:30:00Z"\n}\n```\n\n**Tarea:** Escribe un query que expanda estos datos en filas normalizadas, con una fila por item comprado, incluyendo: evento_id, usuario_id, email, pais, accion, sku, qty, precio, timestamp.',hint:"jsonb_array_elements expande el array. Comb\xednalo con acceso de campos del objeto principal.",solution:"SELECT\n  e.id AS evento_id,\n  (e.metadata #>> '{usuario,id}')::INT AS usuario_id,\n  e.metadata #>> '{usuario,email}' AS email,\n  e.metadata #>> '{usuario,pais}' AS pais,\n  e.metadata->>'accion' AS accion,\n  item->>'sku' AS sku,\n  (item->>'qty')::INT AS qty,\n  (item->>'precio')::NUMERIC AS precio,\n  (e.metadata->>'timestamp')::TIMESTAMPTZ AS timestamp\nFROM eventos e,\n     jsonb_array_elements(e.metadata->'items') AS item\nWHERE e.metadata->>'accion' = 'compra';\n\n-- Alternativa con jsonb_to_recordset (m\xe1s tipado):\nSELECT\n  e.id AS evento_id,\n  (e.metadata #>> '{usuario,id}')::INT AS usuario_id,\n  items.*\nFROM eventos e,\n     jsonb_to_recordset(e.metadata->'items') AS items(\n       sku TEXT, \n       qty INT, \n       precio NUMERIC\n     );",keyPoints:["La coma en FROM equivale a CROSS JOIN LATERAL para funciones de retorno de filas","#>> con array de paths navega estructuras anidadas","Siempre castear tipos: ::INT, ::NUMERIC, ::TIMESTAMPTZ","jsonb_to_recordset es m\xe1s seguro para tipos si conoces el schema"]}]},{id:7,title:"Funciones & PL/pgSQL",icon:"\u2699\ufe0f",xp:160,description:"L\xf3gica de negocio en la base de datos",lessons:[{id:"7a",type:"concept",title:"PL/pgSQL: funciones, procedimientos y triggers",content:"**Tipos de rutinas:**\n- **FUNCTION**: retorna un valor, puede usarse en SELECT\n- **PROCEDURE**: sin retorno obligatorio, se llama con CALL, puede hacer COMMIT dentro\n- **TRIGGER FUNCTION**: funci\xf3n especial llamada por triggers, retorna TRIGGER\n\n**Estructura b\xe1sica:**\n```sql\nCREATE OR REPLACE FUNCTION mi_funcion(param1 INT, param2 TEXT DEFAULT 'default')\nRETURNS TABLE(col1 INT, col2 TEXT)\nLANGUAGE plpgsql\nSECURITY DEFINER  -- ejecuta con permisos del creador\nSTABLE            -- no modifica datos, mismo input \u2192 mismo output\nAS $$\nDECLARE\n  v_variable INT := 0;\n  v_record RECORD;\nBEGIN\n  -- IF/ELSIF/ELSE\n  IF param1 > 100 THEN\n    v_variable := param1 * 2;\n  ELSIF param1 > 50 THEN\n    v_variable := param1 + 10;\n  ELSE\n    v_variable := 0;\n  END IF;\n  \n  -- Loop con cursor\n  FOR v_record IN SELECT id, nombre FROM tabla LOOP\n    -- procesar v_record.id, v_record.nombre\n    RETURN NEXT (v_record.id, v_record.nombre);\n  END LOOP;\n  \n  -- Excepciones\n  EXCEPTION \n    WHEN unique_violation THEN\n      RAISE EXCEPTION 'Duplicado: %', SQLERRM;\n    WHEN OTHERS THEN\n      RAISE WARNING 'Error inesperado: %', SQLERRM;\n      RETURN;\nEND;\n$$;\n```\n\n**Trigger de auditor\xeda:**\n```sql\nCREATE OR REPLACE FUNCTION fn_audit_trigger()\nRETURNS TRIGGER LANGUAGE plpgsql AS $$\nBEGIN\n  INSERT INTO audit_log(tabla, operacion, datos_antes, datos_despues, usuario, ts)\n  VALUES (\n    TG_TABLE_NAME,\n    TG_OP,\n    CASE WHEN TG_OP = 'DELETE' THEN row_to_json(OLD) ELSE NULL END,\n    CASE WHEN TG_OP != 'DELETE' THEN row_to_json(NEW) ELSE NULL END,\n    current_user,\n    NOW()\n  );\n  RETURN COALESCE(NEW, OLD);\nEND;\n$$;\n\nCREATE TRIGGER audit_clientes\nAFTER INSERT OR UPDATE OR DELETE ON clientes\nFOR EACH ROW EXECUTE FUNCTION fn_audit_trigger();\n```"},{id:"7b",type:"challenge",title:"\ud83d\udd25 Desaf\xedo Final: Sistema de pricing din\xe1mico",difficulty:"SEMI-SENIOR",scenario:"Dise\xf1a e implementa desde cero un sistema de precios din\xe1mico.\n\n**Tablas requeridas:**\n- productos(id, nombre, precio_base, categoria_id)\n- reglas_precio(id, tipo, condicion JSONB, descuento_pct, prioridad, activo)\n- historial_precios(producto_id, precio_calculado, reglas_aplicadas JSONB, calculado_en)\n\n**Tipos de reglas:**\n- 'categoria': aplica a toda una categor\xeda  \n- 'volumen': descuento si qty > X\n- 'cliente_vip': descuento para clientes marcados como VIP\n- 'horario': descuento en horas espec\xedficas\n\n**Funci\xf3n requerida:** `calcular_precio(p_producto_id, p_qty, p_cliente_id)`\n- Debe aplicar todas las reglas activas que apliquen, en orden de prioridad\n- Descuentos acumulables hasta un m\xe1ximo de 40%\n- Registrar en historial_precios\n- Retornar precio final y desglose de reglas aplicadas",hint:"Usa un cursor o FOR IN SELECT para iterar reglas ordenadas. Acumula descuentos. Usa JSONB para guardar el desglose.",solution:"-- \u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\n-- Schema\n-- \u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\nCREATE TABLE reglas_precio (\n  id SERIAL PRIMARY KEY,\n  tipo VARCHAR(20) NOT NULL,\n  condicion JSONB NOT NULL DEFAULT '{}',\n  descuento_pct NUMERIC(5,2) NOT NULL,\n  prioridad INT NOT NULL DEFAULT 0,\n  activo BOOLEAN DEFAULT TRUE\n);\n\nCREATE TABLE historial_precios (\n  id BIGSERIAL PRIMARY KEY,\n  producto_id INT NOT NULL,\n  cliente_id INT,\n  qty INT NOT NULL,\n  precio_base NUMERIC(10,2),\n  precio_calculado NUMERIC(10,2),\n  descuento_total_pct NUMERIC(5,2),\n  reglas_aplicadas JSONB,\n  calculado_en TIMESTAMPTZ DEFAULT NOW()\n);\n\n-- \u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\n-- Funci\xf3n principal\n-- \u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\nCREATE OR REPLACE FUNCTION calcular_precio(\n  p_producto_id INT,\n  p_qty INT DEFAULT 1,\n  p_cliente_id INT DEFAULT NULL\n)\nRETURNS TABLE(\n  precio_final NUMERIC,\n  precio_base NUMERIC,\n  descuento_pct NUMERIC,\n  reglas_aplicadas JSONB\n)\nLANGUAGE plpgsql AS $$\nDECLARE\n  v_precio_base NUMERIC;\n  v_categoria_id INT;\n  v_es_vip BOOLEAN := FALSE;\n  v_hora_actual INT;\n  v_descuento_acum NUMERIC := 0;\n  v_max_descuento NUMERIC := 40;\n  v_reglas_json JSONB := '[]'::JSONB;\n  v_regla RECORD;\n  v_aplica BOOLEAN;\n  v_precio_final NUMERIC;\nBEGIN\n  -- Obtener datos del producto\n  SELECT precio_base, categoria_id \n  INTO v_precio_base, v_categoria_id\n  FROM productos WHERE id = p_producto_id;\n  \n  IF NOT FOUND THEN\n    RAISE EXCEPTION 'Producto % no encontrado', p_producto_id;\n  END IF;\n  \n  -- Verificar si cliente es VIP\n  IF p_cliente_id IS NOT NULL THEN\n    SELECT COALESCE((datos->>'vip')::BOOLEAN, FALSE)\n    INTO v_es_vip\n    FROM clientes WHERE id = p_cliente_id;\n  END IF;\n  \n  v_hora_actual := EXTRACT(HOUR FROM NOW());\n  \n  -- Iterar reglas en orden de prioridad\n  FOR v_regla IN\n    SELECT id, tipo, condicion, descuento_pct\n    FROM reglas_precio\n    WHERE activo = TRUE\n    ORDER BY prioridad DESC, id\n  LOOP\n    v_aplica := FALSE;\n    \n    CASE v_regla.tipo\n      WHEN 'categoria' THEN\n        v_aplica := (v_regla.condicion->>'categoria_id')::INT = v_categoria_id;\n        \n      WHEN 'volumen' THEN\n        v_aplica := p_qty >= (v_regla.condicion->>'min_qty')::INT;\n        \n      WHEN 'cliente_vip' THEN\n        v_aplica := v_es_vip;\n        \n      WHEN 'horario' THEN\n        v_aplica := v_hora_actual BETWEEN \n          (v_regla.condicion->>'hora_inicio')::INT AND\n          (v_regla.condicion->>'hora_fin')::INT;\n        \n      ELSE\n        v_aplica := FALSE;\n    END CASE;\n    \n    IF v_aplica THEN\n      -- Acumular sin exceder el m\xe1ximo\n      v_descuento_acum := LEAST(\n        v_descuento_acum + v_regla.descuento_pct,\n        v_max_descuento\n      );\n      \n      -- Agregar al desglose JSON\n      v_reglas_json := v_reglas_json || jsonb_build_object(\n        'regla_id', v_regla.id,\n        'tipo', v_regla.tipo,\n        'descuento_pct', v_regla.descuento_pct\n      );\n    END IF;\n  END LOOP;\n  \n  -- Calcular precio final\n  v_precio_final := ROUND(v_precio_base * (1 - v_descuento_acum / 100), 2);\n  \n  -- Registrar en historial\n  INSERT INTO historial_precios(\n    producto_id, cliente_id, qty, precio_base, \n    precio_calculado, descuento_total_pct, reglas_aplicadas\n  ) VALUES (\n    p_producto_id, p_cliente_id, p_qty, v_precio_base,\n    v_precio_final, v_descuento_acum, v_reglas_json\n  );\n  \n  RETURN QUERY SELECT v_precio_final, v_precio_base, v_descuento_acum, v_reglas_json;\nEND;\n$$;\n\n-- Uso:\nSELECT * FROM calcular_precio(42, 10, 123);\n-- Retorna: precio_final, precio_base, descuento_pct, reglas_aplicadas",keyPoints:["CASE ... WHEN en PL/pgSQL para dispatch por tipo de regla","LEAST() para cap de descuento m\xe1ximo de forma elegante","jsonb_build_object y || para construir JSONB din\xe1micamente","El patr\xf3n de 'motor de reglas' en DB es poderoso para l\xf3gica variable","SECURITY DEFINER permite que la funci\xf3n corra con permisos del owner"]}]}],z=e=>{let{code:n}=e;return(0,u.jsx)("pre",{style:{background:D.code,border:"1px solid ".concat(D.border),borderLeft:"3px solid ".concat(D.accent),borderRadius:6,padding:"14px 16px",overflowX:"auto",fontFamily:"'JetBrains Mono', 'Fira Code', monospace",fontSize:12,lineHeight:1.6,color:"#e6edf3",margin:"10px 0",whiteSpace:"pre-wrap",wordBreak:"break-word"},children:n})},M=e=>{if(!e)return null;return e.split(/(```[\s\S]*?```)/g).map((e,n)=>{if(e.startsWith("```")){const t=e.replace(/```(?:sql|json|javascript)?\n?/,"").replace(/```$/,"");return(0,u.jsx)(z,{code:t},n)}const t=e.split("\n");return(0,u.jsx)("div",{children:t.map((e,n)=>e.startsWith("**")&&e.endsWith("**")?(0,u.jsx)("p",{style:{color:D.accent,fontWeight:700,marginTop:12,marginBottom:4},children:e.replace(/\*\*/g,"")},n):e.startsWith("- ")?(0,u.jsxs)("div",{style:{display:"flex",gap:8,marginBottom:4,paddingLeft:8},children:[(0,u.jsx)("span",{style:{color:D.green,flexShrink:0},children:"\u25b8"}),(0,u.jsx)("span",{style:{color:D.text,fontSize:14},children:e.slice(2)})]},n):e.startsWith("*")?(0,u.jsx)("p",{style:{color:D.text,fontSize:14,lineHeight:1.7,margin:"2px 0"},children:e},n):e.includes("|")?(0,u.jsx)("p",{style:{fontFamily:"monospace",fontSize:12,color:D.dim,margin:"1px 0"},children:e},n):e?(0,u.jsx)("p",{style:{color:D.text,fontSize:14,lineHeight:1.7,marginBottom:6},children:e.replace(/\*\*(.*?)\*\*/g,(e,n)=>"[".concat(n,"]")).replace(/\`(.*?)\`/g,(e,n)=>n)},n):(0,u.jsx)("br",{},n))},n)})};function F(){const[e,n]=(0,a.useState)("home"),[t,r]=(0,a.useState)(null),[o,i]=(0,a.useState)(null),[s,l]=(0,a.useState)({}),[d,p]=(0,a.useState)({}),[m,f]=(0,a.useState)({}),[g,h]=(0,a.useState)({}),[b,y]=(0,a.useState)(0),[v,E]=(0,a.useState)({}),S=U.reduce((e,n)=>e+n.xp,0),x=b<200?"Aprendiz":b<500?"Intermedio":b<850?"Avanzado":"Semi-Senior",T=b<200?D.yellow:b<500?D.orange:b<850?D.accent:D.green,C=U.find(e=>e.id===t),R=null===C||void 0===C?void 0:C.lessons.find(e=>e.id===o);if("home"===e)return(0,u.jsxs)("div",{style:{minHeight:"100vh",background:D.bg,fontFamily:"'IBM Plex Mono', monospace",color:D.text},children:[(0,u.jsxs)("div",{style:{borderBottom:"1px solid ".concat(D.border),padding:"20px 32px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("div",{style:{color:D.accent,fontSize:11,letterSpacing:4,textTransform:"uppercase",marginBottom:4},children:"POSTGRESQL MASTERY PROGRAM"}),(0,u.jsxs)("div",{style:{fontSize:22,fontWeight:700,color:"#fff",letterSpacing:-1},children:["De Intermedio a ",(0,u.jsx)("span",{style:{color:D.green},children:"Semi-Senior"})]})]}),(0,u.jsxs)("div",{style:{textAlign:"right"},children:[(0,u.jsx)("div",{style:{fontSize:11,color:D.dim,marginBottom:4},children:"NIVEL ACTUAL"}),(0,u.jsx)("div",{style:{fontSize:18,fontWeight:700,color:T},children:x}),(0,u.jsxs)("div",{style:{fontSize:12,color:D.dim},children:[b," / ",S," XP"]})]})]}),(0,u.jsx)("div",{style:{height:3,background:D.border},children:(0,u.jsx)("div",{style:{height:"100%",width:"".concat(b/S*100,"%"),background:"linear-gradient(90deg, ".concat(D.accent,", ").concat(D.green,")"),transition:"width 0.5s"}})}),(0,u.jsxs)("div",{style:{padding:"32px 32px 0"},children:[(0,u.jsxs)("div",{style:{background:D.panel,border:"1px solid ".concat(D.border),borderRadius:8,padding:20,marginBottom:28,maxWidth:700},children:[(0,u.jsx)("div",{style:{color:D.accent,fontSize:11,letterSpacing:3,marginBottom:10},children:"ACERCA DEL PROGRAMA"}),(0,u.jsxs)("p",{style:{fontSize:14,lineHeight:1.8,color:D.text,margin:0},children:["Este programa asume que ya conoces SELECTs b\xe1sicos, JOINs simples y operaciones CRUD. Cada m\xf3dulo contiene conceptos te\xf3ricos, ejercicios pr\xe1cticos con soluciones comentadas, y desaf\xedos de dificultad creciente. El objetivo: dominar PostgreSQL a nivel",(0,u.jsx)("span",{style:{color:D.green,fontWeight:700},children:" semi-senior"})," \u2014 capaz de dise\xf1ar esquemas eficientes, optimizar queries complejos y escribir l\xf3gica robusta."]})]}),(0,u.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:12,marginBottom:28},children:[{label:"M\xf3dulos",value:Object.keys(s).length,total:U.reduce((e,n)=>e+n.lessons.length,0),color:D.accent},{label:"XP Ganado",value:b,total:S,color:D.green},{label:"Nivel",value:x,total:null,color:T},{label:"Progreso",value:"".concat(Math.round(b/S*100),"%"),total:null,color:D.yellow}].map((e,n)=>(0,u.jsxs)("div",{style:{background:D.panel,border:"1px solid ".concat(D.border),borderRadius:6,padding:"14px 16px"},children:[(0,u.jsx)("div",{style:{fontSize:10,color:D.dim,letterSpacing:2,marginBottom:6},children:e.label.toUpperCase()}),(0,u.jsxs)("div",{style:{fontSize:20,fontWeight:700,color:e.color},children:[e.value,e.total?(0,u.jsxs)("span",{style:{fontSize:12,color:D.dim},children:["/",e.total]}):""]})]},n))})]}),(0,u.jsx)("div",{style:{padding:"0 32px 40px",display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:16},children:U.map(e=>{const t=e.lessons.filter(e=>s[e.id]).length,a=t/e.lessons.length*100;return(0,u.jsxs)("div",{onClick:()=>{r(e.id),n("module")},style:{background:D.panel,border:"1px solid ".concat(100===a?D.green:D.border),borderRadius:8,padding:20,cursor:"pointer",transition:"all 0.2s",position:"relative",overflow:"hidden"},onMouseEnter:e=>{e.currentTarget.style.borderColor=D.accent,e.currentTarget.style.transform="translateY(-2px)"},onMouseLeave:e=>{e.currentTarget.style.borderColor=100===a?D.green:D.border,e.currentTarget.style.transform="none"},children:[100===a&&(0,u.jsx)("div",{style:{position:"absolute",top:12,right:12,color:D.green,fontSize:16},children:"\u2713"}),(0,u.jsx)("div",{style:{fontSize:28,marginBottom:10},children:e.icon}),(0,u.jsx)("div",{style:{fontSize:16,fontWeight:700,color:"#fff",marginBottom:6},children:e.title}),(0,u.jsx)("div",{style:{fontSize:12,color:D.dim,marginBottom:14,lineHeight:1.5},children:e.description}),(0,u.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:8},children:[(0,u.jsxs)("div",{style:{fontSize:11,color:D.dim},children:[t,"/",e.lessons.length," lecciones"]}),(0,u.jsxs)("div",{style:{fontSize:11,color:D.yellow},children:["+",e.xp," XP"]})]}),(0,u.jsx)("div",{style:{height:3,background:D.border,borderRadius:2},children:(0,u.jsx)("div",{style:{height:"100%",width:"".concat(a,"%"),background:100===a?D.green:D.accent,borderRadius:2,transition:"width 0.3s"}})})]},e.id)})})]});if("module"===e&&C)return(0,u.jsxs)("div",{style:{minHeight:"100vh",background:D.bg,fontFamily:"'IBM Plex Mono', monospace",color:D.text},children:[(0,u.jsxs)("div",{style:{borderBottom:"1px solid ".concat(D.border),padding:"16px 32px",display:"flex",alignItems:"center",gap:16},children:[(0,u.jsx)("button",{onClick:()=>n("home"),style:{background:"none",border:"1px solid ".concat(D.border),color:D.dim,padding:"6px 14px",borderRadius:4,cursor:"pointer",fontSize:12},children:"\u2190 Volver"}),(0,u.jsx)("span",{style:{color:D.dim},children:"|"}),(0,u.jsx)("span",{style:{fontSize:20},children:C.icon}),(0,u.jsxs)("div",{children:[(0,u.jsx)("div",{style:{fontSize:16,fontWeight:700,color:"#fff"},children:C.title}),(0,u.jsx)("div",{style:{fontSize:11,color:D.dim},children:C.description})]})]}),(0,u.jsx)("div",{style:{padding:32,maxWidth:800},children:(0,u.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:12},children:C.lessons.map((e,t)=>{const a=s[e.id],r={concept:D.accent,exercise:D.orange,quiz:D.yellow,challenge:D.red};return(0,u.jsxs)("div",{onClick:()=>{i(e.id),n("lesson")},style:{background:D.panel,border:"1px solid ".concat(a?D.green:D.border),borderRadius:8,padding:"18px 20px",cursor:"pointer",display:"flex",alignItems:"center",gap:16,transition:"all 0.2s"},onMouseEnter:n=>{n.currentTarget.style.borderColor=r[e.type]},onMouseLeave:e=>{e.currentTarget.style.borderColor=a?D.green:D.border},children:[(0,u.jsx)("div",{style:{width:32,height:32,borderRadius:"50%",background:a?D.green+"20":D.border,border:"2px solid ".concat(a?D.green:D.border),display:"flex",alignItems:"center",justifyContent:"center",fontSize:14,color:a?D.green:D.dim,flexShrink:0},children:a?"\u2713":t+1}),(0,u.jsxs)("div",{style:{flex:1},children:[(0,u.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:10,marginBottom:4},children:[(0,u.jsx)("span",{style:{fontSize:10,color:r[e.type],letterSpacing:2,fontWeight:700},children:{concept:"CONCEPTO",exercise:"EJERCICIO",quiz:"QUIZ",challenge:"DESAF\xcdO"}[e.type]}),e.difficulty&&(0,u.jsx)("span",{style:{fontSize:10,color:D.red,border:"1px solid ".concat(D.red),padding:"1px 6px",borderRadius:2},children:e.difficulty})]}),(0,u.jsx)("div",{style:{fontSize:14,fontWeight:600,color:"#fff"},children:e.title})]}),(0,u.jsx)("div",{style:{fontSize:18,color:D.dim},children:"\u2192"})]},e.id)})})})]});if("lesson"===e&&R){const e=()=>{return e=R.id,n=C.xp,void(s[e]||(l(n=>c(c({},n),{},{[e]:!0})),y(e=>Math.min(e+Math.floor(n/5),S))));var e,n};return(0,u.jsxs)("div",{style:{minHeight:"100vh",background:D.bg,fontFamily:"'IBM Plex Mono', monospace",color:D.text},children:[(0,u.jsxs)("div",{style:{borderBottom:"1px solid ".concat(D.border),padding:"16px 32px",display:"flex",alignItems:"center",gap:16},children:[(0,u.jsxs)("button",{onClick:()=>n("module"),style:{background:"none",border:"1px solid ".concat(D.border),color:D.dim,padding:"6px 14px",borderRadius:4,cursor:"pointer",fontSize:12},children:["\u2190 ",C.title]}),(0,u.jsx)("div",{style:{flex:1},children:(0,u.jsx)("div",{style:{fontSize:15,fontWeight:700,color:"#fff"},children:R.title})}),s[R.id]&&(0,u.jsx)("div",{style:{color:D.green,fontSize:12},children:"\u2713 COMPLETADO"})]}),(0,u.jsxs)("div",{style:{maxWidth:800,margin:"0 auto",padding:"32px 24px 60px"},children:["concept"===R.type&&(0,u.jsxs)("div",{children:[(0,u.jsx)("div",{style:{background:D.panel,border:"1px solid ".concat(D.border),borderRadius:8,padding:24},children:M(R.content)}),(0,u.jsx)("button",{onClick:e,style:{marginTop:20,background:D.accent,color:D.bg,border:"none",padding:"12px 28px",borderRadius:6,cursor:"pointer",fontWeight:700,fontSize:14,fontFamily:"inherit"},children:"Marcar como le\xeddo \u2192"})]}),("exercise"===R.type||"challenge"===R.type)&&(0,u.jsxs)("div",{children:[R.difficulty&&(0,u.jsxs)("div",{style:{display:"inline-block",border:"1px solid ".concat(D.red),color:D.red,padding:"3px 12px",borderRadius:3,fontSize:11,letterSpacing:2,marginBottom:16},children:["\ud83d\udd25 DESAF\xcdO ",R.difficulty]}),(0,u.jsxs)("div",{style:{background:D.panel,border:"1px solid ".concat(D.border),borderRadius:8,padding:24,marginBottom:16},children:[(0,u.jsx)("div",{style:{color:D.accent,fontSize:11,letterSpacing:3,marginBottom:12},children:"ENUNCIADO"}),M(R.scenario)]}),(0,u.jsxs)("div",{style:{display:"flex",gap:12,marginBottom:16},children:[(0,u.jsxs)("button",{onClick:()=>h(e=>c(c({},e),{},{[R.id]:!e[R.id]})),style:{background:"none",border:"1px solid ".concat(D.yellow),color:D.yellow,padding:"8px 18px",borderRadius:5,cursor:"pointer",fontSize:12,fontFamily:"inherit"},children:[g[R.id]?"Ocultar":"Ver"," Pista \ud83d\udca1"]}),(0,u.jsxs)("button",{onClick:()=>{f(e=>c(c({},e),{},{[R.id]:!e[R.id]})),e()},style:{background:"none",border:"1px solid ".concat(D.green),color:D.green,padding:"8px 18px",borderRadius:5,cursor:"pointer",fontSize:12,fontFamily:"inherit"},children:[m[R.id]?"Ocultar":"Ver"," Soluci\xf3n \u2713"]})]}),g[R.id]&&(0,u.jsxs)("div",{style:{background:"#1a1a00",border:"1px solid ".concat(D.yellow),borderRadius:6,padding:16,marginBottom:16},children:[(0,u.jsx)("div",{style:{fontSize:11,color:D.yellow,letterSpacing:2,marginBottom:8},children:"PISTA"}),(0,u.jsx)("p",{style:{color:D.text,fontSize:14,margin:0},children:R.hint})]}),m[R.id]&&(0,u.jsxs)("div",{children:[(0,u.jsxs)("div",{style:{background:D.panel,border:"1px solid ".concat(D.green),borderRadius:8,padding:24,marginBottom:16},children:[(0,u.jsx)("div",{style:{color:D.green,fontSize:11,letterSpacing:3,marginBottom:12},children:"SOLUCI\xd3N COMENTADA"}),(0,u.jsx)(z,{code:R.solution})]}),R.keyPoints&&(0,u.jsxs)("div",{style:{background:D.panel,border:"1px solid ".concat(D.border),borderRadius:8,padding:20},children:[(0,u.jsx)("div",{style:{color:D.accent,fontSize:11,letterSpacing:3,marginBottom:12},children:"PUNTOS CLAVE"}),R.keyPoints.map((e,n)=>(0,u.jsxs)("div",{style:{display:"flex",gap:10,marginBottom:8},children:[(0,u.jsx)("span",{style:{color:D.accent,flexShrink:0},children:"\u25c6"}),(0,u.jsx)("span",{style:{fontSize:13,color:D.text},children:e})]},n))]})]})]}),"quiz"===R.type&&(0,u.jsx)("div",{children:R.questions.map((n,t)=>{const a=d["".concat(R.id,"-").concat(t)],r=v["".concat(R.id,"-").concat(t)],o=a===n.correct;return(0,u.jsxs)("div",{style:{background:D.panel,border:"1px solid ".concat(D.border),borderRadius:8,padding:24,marginBottom:16},children:[(0,u.jsxs)("div",{style:{fontSize:11,color:D.dim,marginBottom:8},children:["PREGUNTA ",t+1]}),(0,u.jsx)("pre",{style:{fontSize:14,color:"#fff",fontFamily:"inherit",whiteSpace:"pre-wrap",marginBottom:16,lineHeight:1.7},children:n.q}),(0,u.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:8,marginBottom:14},children:n.options.map((e,i)=>{let s="transparent",l=D.border,d=D.text;return r?i===n.correct?(s=D.green+"20",l=D.green,d=D.green):i!==a||o||(s=D.red+"20",l=D.red,d=D.red):i===a&&(l=D.accent,d=D.accent),(0,u.jsxs)("div",{onClick:()=>!r&&p(e=>c(c({},e),{},{["".concat(R.id,"-").concat(t)]:i})),style:{border:"1px solid ".concat(l),borderRadius:5,padding:"10px 14px",cursor:r?"default":"pointer",background:s,color:d,fontSize:13,transition:"all 0.15s"},children:[(0,u.jsxs)("span",{style:{color:D.dim,marginRight:10},children:[String.fromCharCode(65+i),")"]}),e]},i)})}),r?(0,u.jsxs)("div",{style:{border:"1px solid ".concat(o?D.green:D.red),borderRadius:6,padding:14,background:o?D.green+"10":D.red+"10"},children:[(0,u.jsx)("div",{style:{color:o?D.green:D.red,fontWeight:700,marginBottom:6,fontSize:13},children:o?"\u2713 CORRECTO":"\u2717 INCORRECTO"}),(0,u.jsx)("p",{style:{color:D.text,fontSize:13,margin:0,lineHeight:1.6},children:n.explanation})]}):(0,u.jsx)("button",{disabled:void 0===a,onClick:()=>{E(e=>c(c({},e),{},{["".concat(R.id,"-").concat(t)]:!0})),t===R.questions.length-1&&e()},style:{background:void 0!==a?D.accent:D.border,color:D.bg,border:"none",padding:"8px 20px",borderRadius:4,cursor:void 0!==a?"pointer":"not-allowed",fontFamily:"inherit",fontSize:12,fontWeight:700},children:"Verificar"})]},t)})})]})]})}return null}const B={weeks:[{id:1,emoji:"\ud83c\udf31",title:"Internet, Servidores y tu Primera API",tagline:"Entender c\xf3mo funciona la web por dentro",color:"#F97316",light:"#FFF7ED",border:"#FED7AA",days:[{day:1,emoji:"\ud83c\udf10",title:"\xbfC\xf3mo funciona Internet?",subtitle:"De escribir una URL a ver la p\xe1gina",analogy:"Imagina que Internet es como el sistema postal del mundo. Cuando escribes una URL en el navegador, es como enviar una carta: necesita una direcci\xf3n (IP), un cartero (TCP/IP), y alguien que la reciba y responda (el servidor).",concept:'Cuando escribes "google.com" en tu navegador, ocurren estas cosas en milisegundos:\n\n1. Tu computadora pregunta "\xbfcu\xe1l es la direcci\xf3n IP de google.com?" \u2014 esto se llama DNS (como buscar el n\xfamero de tel\xe9fono de alguien en una agenda).\n\n2. Tu navegador se conecta a esa direcci\xf3n IP usando TCP/IP (el "idioma" que hablan todas las computadoras en Internet).\n\n3. Tu navegador env\xeda un mensaje HTTP que dice "por favor dame la p\xe1gina principal". Ese mensaje se llama REQUEST.\n\n4. El servidor de Google recibe esa petici\xf3n, prepara la respuesta (el HTML de la p\xe1gina), y te la manda de vuelta. Eso es el RESPONSE.\n\n5. Tu navegador recibe el HTML y lo dibuja en pantalla.\n\nT\xfa, como developer de backend, ser\xe1s la persona que construye el SERVIDOR: el c\xf3digo que recibe esas peticiones y decide qu\xe9 responder.',questions:["\xbfQu\xe9 es una direcci\xf3n IP y por qu\xe9 existe si ya tenemos nombres de dominio como 'google.com'?","Si el navegador y el servidor se comunican con HTTP, \xbfqu\xe9 crees que pasa cuando la conexi\xf3n se interrumpe a mitad de la descarga?","\xbfPor qu\xe9 crees que algunas webs cargan m\xe1s r\xe1pido que otras? Menciona al menos 2 razones posibles."],exercise:{title:"Explora una petici\xf3n HTTP real",description:"Abre Chrome o Firefox, ve a cualquier p\xe1gina web, abre las DevTools (F12), ve a la pesta\xf1a 'Network', recarga la p\xe1gina y observa todas las peticiones que hace el navegador. Busca la primera petici\xf3n (normalmente el HTML principal) y mira sus headers.",steps:["Abre chrome.com en tu navegador","Presiona F12 para abrir DevTools","Haz clic en la pesta\xf1a 'Network'","Recarga la p\xe1gina con Ctrl+R","Haz clic en la primera petici\xf3n de la lista","Mira las pesta\xf1as 'Headers' y 'Response'"],whatYouWillSee:"Ver\xe1s cosas como 'Status Code: 200', 'Content-Type: text/html', y el HTML crudo que el servidor te mand\xf3. \xa1Eso es HTTP en acci\xf3n!",code:null},concepts_box:[{term:"IP",simple:"La 'direcci\xf3n postal' de una computadora en Internet. Ejemplo: 192.168.1.1"},{term:"DNS",simple:"La 'agenda telef\xf3nica' de Internet. Convierte 'google.com' \u2192 '142.250.80.46'"},{term:"HTTP",simple:"El 'idioma' que usan navegadores y servidores para hablar. Es texto con formato."},{term:"Request",simple:"El mensaje que T\xda (el navegador) le mandas al servidor. 'Dame esta p\xe1gina.'"},{term:"Response",simple:"La respuesta que el servidor te manda. Puede ser HTML, JSON, una imagen, etc."},{term:"Puerto",simple:"Como el n\xfamero de apartamento en un edificio. HTTP usa el 80, HTTPS el 443."}],resources:[{title:"\xbfC\xf3mo funciona Internet? \u2014 Explicaci\xf3n visual (Khan Academy)",url:"https://es.khanacademy.org/computing/computers-and-internet/xcae6f4a7ff015e7d:the-internet"},{title:"HTTP: Let's GET It On \u2014 MDN en espa\xf1ol",url:"https://developer.mozilla.org/es/docs/Web/HTTP/Overview"},{title:"Visualizaci\xf3n interactiva de DNS",url:"https://messwithdns.net"}]},{day:2,emoji:"\ud83d\udce6",title:"\xbfQu\xe9 es un servidor y qu\xe9 hace?",subtitle:"Tu primera vez corriendo un servidor real",analogy:"Un servidor es como un restaurante. El cliente (navegador) llega, hace un pedido (request), el cocinero (tu c\xf3digo) prepara la respuesta, y el mesero (HTTP) la entrega. T\xfa eres el cocinero \u2014 decides qu\xe9 hay en el men\xfa y c\xf3mo prepararlo.",concept:'Un servidor web es simplemente un PROGRAMA que est\xe1 corriendo en una computadora, escuchando peticiones que llegan por la red y respondiendo a ellas.\n\nNo hay nada m\xe1gico. Cuando instalas Node.js en tu computadora, esa misma m\xe1quina puede convertirse en un servidor. La diferencia con los servidores "de verdad" es que ellos est\xe1n prendidos 24/7 y tienen una IP p\xfablica para que el mundo los pueda encontrar.\n\nNode.js es un entorno que te permite correr JavaScript fuera del navegador. Antes de Node.js (2009), JavaScript solo viv\xeda en el navegador. Node.js liber\xf3 JavaScript y lo convirti\xf3 en un lenguaje que puede hacer de todo: servidores web, scripts, herramientas de l\xednea de comandos, etc.\n\nExpress es el framework m\xe1s popular para crear servidores con Node.js. Un framework es como un "kit de herramientas" que ya resuelve los problemas comunes para que t\xfa te enfoques en la l\xf3gica de tu aplicaci\xf3n.',questions:["Si un servidor es solo un programa, \xbfpodr\xedas correr un servidor en tu laptop de casa? \xbfQu\xe9 problema tendr\xeda eso para una app real?","\xbfQu\xe9 diferencia hay entre el 'frontend' (lo que ve el usuario) y el 'backend' (el servidor)? \xbfPor qu\xe9 necesitamos los dos?","\xbfPor qu\xe9 crees que existe Express si Node.js ya puede hacer servidores por s\xed solo?"],exercise:{title:"Tu primer servidor con Node.js",description:"Instala Node.js si no lo tienes (nodejs.org), crea un archivo server.js y corre tu primer servidor. Cuando lo abras en el navegador, deber\xedas ver '\xa1Hola Mundo!'",steps:["Instala Node.js desde nodejs.org (elige la versi\xf3n LTS)","Crea una carpeta llamada 'mi-primer-servidor'","Dentro, crea el archivo server.js con el c\xf3digo de abajo","Abre la terminal en esa carpeta","Corre: node server.js","Abre tu navegador en: http://localhost:3000"],whatYouWillSee:"Tu navegador mostrar\xe1 '\xa1Hola Mundo desde mi servidor!' \u2014 \xa1acabas de crear y correr un servidor web!",code:"// server.js \u2014 Tu primer servidor web\nconst http = require('http'); // M\xf3dulo nativo de Node.js\n\n// Creamos el servidor\nconst servidor = http.createServer((peticion, respuesta) => {\n  \n  // Esto se ejecuta CADA VEZ que alguien hace una petici\xf3n\n  console.log('\xa1Alguien visit\xf3 el servidor!');\n  console.log('Ruta visitada:', peticion.url);\n  \n  // Le decimos que la respuesta es texto HTML y que todo sali\xf3 bien (200)\n  respuesta.writeHead(200, { 'Content-Type': 'text/html; charset=utf-8' });\n  \n  // Enviamos la respuesta\n  respuesta.end('<h1>\xa1Hola Mundo desde mi servidor!</h1><p>Funciona \ud83c\udf89</p>');\n});\n\n// El servidor escucha en el puerto 3000\nservidor.listen(3000, () => {\n  console.log('Servidor corriendo en http://localhost:3000');\n  console.log('Presiona Ctrl+C para detenerlo');\n});"},concepts_box:[{term:"Node.js",simple:"Un programa que te permite correr JavaScript en tu computadora (no solo en el navegador)."},{term:"npm",simple:"El 'app store' de Node.js. Te permite instalar librer\xedas de c\xf3digo que otros crearon."},{term:"localhost",simple:"Apunta a TU propia computadora. Es como decir 'aqu\xed mismo'."},{term:"Puerto",simple:"El 3000 en 'localhost:3000'. Un n\xfamero que identifica qu\xe9 programa recibe la conexi\xf3n."},{term:"require()",simple:"La forma de importar m\xf3dulos (c\xf3digo de otros) en Node.js."},{term:"Express",simple:"Un framework popular que hace m\xe1s f\xe1cil crear servidores con Node.js."}],resources:[{title:"Node.js \u2014 Sitio oficial (descarga aqu\xed)",url:"https://nodejs.org"},{title:"Introducci\xf3n a Node.js \u2014 NodeSchool (interactivo)",url:"https://nodeschool.io/es"},{title:"\xbfQu\xe9 es Node.js? \u2014 freeCodeCamp en espa\xf1ol",url:"https://www.freecodecamp.org/espanol/news/que-es-node-js"}]},{day:3,emoji:"\ud83d\udee3\ufe0f",title:"Rutas y el m\xe9todo HTTP",subtitle:"GET, POST y las URLs que t\xfa dise\xf1as",analogy:"Las rutas son como las p\xe1ginas de un men\xfa. '/inicio' lleva a la p\xe1gina principal, '/usuarios' a la lista de usuarios, '/productos/123' al producto con ID 123. T\xfa decides qu\xe9 existe en el men\xfa y qu\xe9 hace cada opci\xf3n.",concept:'Cuando construyes un servidor, defines RUTAS: combinaciones de m\xe9todo HTTP + URL que tu servidor entiende.\n\nLos m\xe9todos HTTP m\xe1s usados son:\n\n\u2022 GET \u2192 Pedir/leer informaci\xf3n. "Dame los usuarios." Sin modificar nada.\n\u2022 POST \u2192 Enviar/crear algo nuevo. "Crea este nuevo usuario con estos datos."\n\u2022 PUT \u2192 Reemplazar algo. "Reemplaza el usuario 5 con estos nuevos datos."\n\u2022 PATCH \u2192 Modificar algo parcialmente. "Cambia solo el email del usuario 5."\n\u2022 DELETE \u2192 Eliminar algo. "Borra el usuario 5."\n\nCon Express, defines rutas as\xed:\napp.get(\'/ruta\', funci\xf3n) \u2192 cuando alguien hace GET a /ruta\napp.post(\'/ruta\', funci\xf3n) \u2192 cuando alguien hace POST a /ruta\n\nEstas rutas forman lo que se llama una API (Application Programming Interface): el "men\xfa" de cosas que tu servidor sabe hacer.',questions:["Si un navegador al escribir una URL siempre hace GET, \xbfc\xf3mo crees que los formularios de inicio de sesi\xf3n env\xedan el usuario y contrase\xf1a? \xbfQu\xe9 m\xe9todo usan?","\xbfPor qu\xe9 existe una distinci\xf3n entre GET y POST si t\xe9cnicamente podr\xedas usar GET para todo? \xbfQu\xe9 problema generar\xeda?","Imagina que est\xe1s dise\xf1ando la API de una app de tareas (to-do). \xbfQu\xe9 rutas crear\xeda? Describe al menos 4."],exercise:{title:"API de tareas con Express",description:"Instala Express y crea una API b\xe1sica con rutas GET y POST para una lista de tareas en memoria. Usa Insomnia o Postman para probar las rutas POST (ya que el navegador solo hace GET).",steps:["En tu carpeta, corre: npm init -y","Instala Express: npm install express","Crea app.js con el c\xf3digo de abajo","Corre: node app.js","Abre http://localhost:3000/tareas en el navegador (GET)","Instala Insomnia (insomnia.rest) o usa Thunder Client en VSCode","Haz un POST a http://localhost:3000/tareas con body JSON"],whatYouWillSee:"El GET te devolver\xe1 la lista de tareas. El POST a\xf1adir\xe1 una nueva tarea y te la devolver\xe1 confirmada.",code:"// app.js \u2014 API de tareas con Express\nconst express = require('express');\nconst app = express();\n\n// Esto permite que Express entienda JSON en el body de las peticiones\napp.use(express.json());\n\n// Base de datos FALSA \u2014 solo vive en memoria (se borra al reiniciar)\nlet tareas = [\n  { id: 1, titulo: 'Aprender Node.js', completada: false },\n  { id: 2, titulo: 'Crear mi primera API', completada: false },\n];\nlet siguienteId = 3;\n\n// GET /tareas \u2192 devuelve todas las tareas\napp.get('/tareas', (req, res) => {\n  res.json(tareas); // res.json() env\xeda la respuesta como JSON\n});\n\n// GET /tareas/:id \u2192 devuelve UNA tarea por su ID\napp.get('/tareas/:id', (req, res) => {\n  const id = parseInt(req.params.id); // req.params tiene los :parametros de la URL\n  const tarea = tareas.find(t => t.id === id);\n  \n  if (!tarea) {\n    return res.status(404).json({ error: 'Tarea no encontrada' });\n  }\n  \n  res.json(tarea);\n});\n\n// POST /tareas \u2192 crea una nueva tarea\napp.post('/tareas', (req, res) => {\n  const { titulo } = req.body; // req.body tiene los datos que mand\xf3 el cliente\n  \n  if (!titulo) {\n    return res.status(400).json({ error: 'El campo titulo es requerido' });\n  }\n  \n  const nuevaTarea = { id: siguienteId++, titulo, completada: false };\n  tareas.push(nuevaTarea);\n  \n  res.status(201).json(nuevaTarea); // 201 = \"Created\"\n});\n\n// DELETE /tareas/:id \u2192 elimina una tarea\napp.delete('/tareas/:id', (req, res) => {\n  const id = parseInt(req.params.id);\n  const index = tareas.findIndex(t => t.id === id);\n  \n  if (index === -1) {\n    return res.status(404).json({ error: 'Tarea no encontrada' });\n  }\n  \n  tareas.splice(index, 1);\n  res.status(204).send(); // 204 = \"No Content\" (\xe9xito, sin cuerpo)\n});\n\napp.listen(3000, () => {\n  console.log('API de tareas corriendo en http://localhost:3000');\n});"},concepts_box:[{term:"Ruta / Endpoint",simple:"Una URL espec\xedfica que tu servidor entiende. Ej: GET /usuarios, POST /login."},{term:"req (request)",simple:"El objeto con toda la info de la petici\xf3n: URL, m\xe9todo, datos enviados, headers, etc."},{term:"res (response)",simple:"El objeto que usas para construir y enviar la respuesta al cliente."},{term:"req.params",simple:"Los valores variables en la URL. En '/tareas/:id', el :id es un param."},{term:"req.body",simple:"Los datos que el cliente envi\xf3 en el cuerpo de la petici\xf3n (normalmente JSON)."},{term:"res.status()",simple:"El c\xf3digo num\xe9rico que indica si todo sali\xf3 bien (200, 201) o hubo error (400, 404, 500)."}],resources:[{title:"Express.js \u2014 Gu\xeda oficial de routing",url:"https://expressjs.com/es/guide/routing.html"},{title:"Insomnia \u2014 Cliente HTTP para probar APIs (descarga)",url:"https://insomnia.rest"},{title:"C\xf3digos de estado HTTP \u2014 MDN",url:"https://developer.mozilla.org/es/docs/Web/HTTP/Status"}]},{day:4,emoji:"\ud83d\uddc4\ufe0f",title:"Bases de datos: guardar datos de verdad",subtitle:"Conectar tu API a una base de datos real",analogy:"Hasta ahora tus datos se guardaban en una lista de JavaScript que desaparec\xeda al reiniciar el servidor. Una base de datos es como un archivero met\xe1lico que sobrevive a los reinicios, guarda millones de registros y te permite buscarlos r\xe1pidamente.",concept:"Las bases de datos son programas especializados en guardar y recuperar datos de forma eficiente y persistente.\n\nExisten dos grandes familias:\n\n\ud83d\udcca SQL (Relacionales) \u2014 los datos se guardan en TABLAS con COLUMNAS fijas, como hojas de c\xe1lculo. Ejemplos: PostgreSQL, MySQL, SQLite. Son perfectas para la mayor\xeda de aplicaciones.\n\n\ud83d\udcc4 NoSQL (No relacionales) \u2014 m\xe1s flexibles, los datos se guardan de distintas formas (documentos, pares clave-valor, grafos). Ejemplos: MongoDB, Redis.\n\nPara empezar, usaremos SQLite \u2014 es un archivo en tu computadora, no necesitas instalar nada extra. Perfecta para aprender.\n\nSQL (Structured Query Language) es el lenguaje para hablar con bases de datos relacionales. Las 4 operaciones b\xe1sicas se llaman CRUD:\n\u2022 CREATE \u2192 INSERT INTO\n\u2022 READ \u2192 SELECT\n\u2022 UPDATE \u2192 UPDATE\n\u2022 DELETE \u2192 DELETE",questions:["\xbfPor qu\xe9 no podemos simplemente guardar los datos en un archivo de texto en lugar de usar una base de datos? \xbfQu\xe9 ventajas tiene una base de datos?","Imagina una app de Instagram simplificada. \xbfQu\xe9 tablas necesitar\xedas? \xbfQu\xe9 columnas tendr\xeda la tabla de 'posts'?","Si dos usuarios editan el mismo dato al mismo tiempo, \xbfqu\xe9 problema podr\xeda ocurrir? \xbfC\xf3mo crees que las bases de datos lo resuelven?"],exercise:{title:"Conectar la API de tareas a SQLite",description:"Instala better-sqlite3 y migra la API de tareas para usar una base de datos SQLite real en lugar del array en memoria.",steps:["Instala la librer\xeda: npm install better-sqlite3","Reemplaza app.js con el c\xf3digo de abajo","Corre el servidor: node app.js","Crea algunas tareas con POST","Reinicia el servidor (Ctrl+C, node app.js)","Haz GET /tareas \u2014 \xa1los datos siguen ah\xed!"],whatYouWillSee:"A diferencia de antes, los datos persisten aunque reinicies el servidor. Se crear\xe1 un archivo 'tareas.db' en tu carpeta.",code:"// app.js \u2014 API de tareas con SQLite real\nconst express = require('express');\nconst Database = require('better-sqlite3');\n\nconst app = express();\napp.use(express.json());\n\n// Abre (o crea) la base de datos\nconst db = new Database('tareas.db');\n\n// Crea la tabla si no existe (esto es una \"migraci\xf3n\")\ndb.exec(`\n  CREATE TABLE IF NOT EXISTS tareas (\n    id        INTEGER PRIMARY KEY AUTOINCREMENT,\n    titulo    TEXT NOT NULL,\n    completada INTEGER DEFAULT 0,  -- SQLite usa 0/1 para booleanos\n    creada_en TEXT DEFAULT (datetime('now'))\n  )\n`);\n\n// GET /tareas \u2192 leer todas\napp.get('/tareas', (req, res) => {\n  const tareas = db.prepare('SELECT * FROM tareas').all();\n  res.json(tareas);\n});\n\n// GET /tareas/:id \u2192 leer una\napp.get('/tareas/:id', (req, res) => {\n  const tarea = db.prepare('SELECT * FROM tareas WHERE id = ?').get(req.params.id);\n  if (!tarea) return res.status(404).json({ error: 'No encontrada' });\n  res.json(tarea);\n});\n\n// POST /tareas \u2192 crear\napp.post('/tareas', (req, res) => {\n  const { titulo } = req.body;\n  if (!titulo) return res.status(400).json({ error: 'El titulo es requerido' });\n  \n  const resultado = db\n    .prepare('INSERT INTO tareas (titulo) VALUES (?)')\n    .run(titulo);\n  \n  // Recuperamos la tarea reci\xe9n creada para devolverla\n  const nuevaTarea = db\n    .prepare('SELECT * FROM tareas WHERE id = ?')\n    .get(resultado.lastInsertRowid);\n  \n  res.status(201).json(nuevaTarea);\n});\n\n// PATCH /tareas/:id \u2192 marcar como completada\napp.patch('/tareas/:id', (req, res) => {\n  const { completada } = req.body;\n  \n  db.prepare('UPDATE tareas SET completada = ? WHERE id = ?')\n    .run(completada ? 1 : 0, req.params.id);\n  \n  const tarea = db.prepare('SELECT * FROM tareas WHERE id = ?')\n    .get(req.params.id);\n  \n  res.json(tarea);\n});\n\n// DELETE /tareas/:id \u2192 eliminar\napp.delete('/tareas/:id', (req, res) => {\n  const resultado = db\n    .prepare('DELETE FROM tareas WHERE id = ?')\n    .run(req.params.id);\n  \n  if (resultado.changes === 0) {\n    return res.status(404).json({ error: 'No encontrada' });\n  }\n  \n  res.status(204).send();\n});\n\napp.listen(3000, () => console.log('Servidor en http://localhost:3000'));"},concepts_box:[{term:"SQL",simple:"Lenguaje para hablar con bases de datos. SELECT, INSERT, UPDATE, DELETE son sus palabras b\xe1sicas."},{term:"Tabla",simple:"Como una hoja de Excel. Tiene columnas (campos) y filas (registros)."},{term:"CRUD",simple:"Create, Read, Update, Delete \u2014 las 4 operaciones b\xe1sicas sobre datos."},{term:"PRIMARY KEY",simple:"Un ID \xfanico para cada fila. Garantiza que puedas identificar cada registro."},{term:"AUTOINCREMENT",simple:"El n\xfamero del ID sube solo (1, 2, 3...) sin que t\xfa lo pongas manualmente."},{term:"Migraci\xf3n",simple:"Un script que crea o modifica la estructura de tu base de datos (las tablas)."}],resources:[{title:"SQLite \u2014 Tutorial interactivo en espa\xf1ol",url:"https://www.sqlitetutorial.net"},{title:"SQL para principiantes \u2014 freeCodeCamp",url:"https://www.freecodecamp.org/espanol/news/aprende-sql-en-10-minutos"},{title:"DB Browser for SQLite \u2014 ver tu base de datos visualmente",url:"https://sqlitebrowser.org"}]},{day:5,emoji:"\ud83d\udd10",title:"Variables de entorno y proyecto final de semana",subtitle:"Proteger secretos y conectar todo",analogy:"Las variables de entorno son como Post-its privados en tu escritorio. Las contrase\xf1as de la base de datos, las claves secretas, las URLs del servidor \u2014 esas cosas nunca van en el c\xf3digo. Van en un archivo .env que solo t\xfa ves y que nunca se sube a GitHub.",concept:'Una cosa cr\xedtica antes de compartir tu c\xf3digo con el mundo: NUNCA pongas contrase\xf1as, API keys ni URLs privadas directamente en tu c\xf3digo.\n\nEjemplo de lo que NO se debe hacer:\nconst password = "miContrase\xf1aSecreta123"; // \ud83d\udea8 MALO\n\nLo correcto es usar VARIABLES DE ENTORNO: valores que se configuran en el entorno donde corre tu aplicaci\xf3n, fuera del c\xf3digo.\n\nUsamos un archivo llamado .env para guardar estos valores durante desarrollo. La librer\xeda dotenv los carga autom\xe1ticamente.\n\n\xbfPor qu\xe9 es tan importante? Porque:\n1. Tu c\xf3digo puede estar en GitHub (p\xfablico) pero los secretos no\n2. En producci\xf3n (el servidor real), los secretos se configuran diferente\n3. Diferentes entornos (dev, test, producci\xf3n) tienen diferentes valores\n\nHoy tambi\xe9n conectar\xe1s el frontend con tu API con CORS, y tendr\xe1s un proyecto completo funcionando.',questions:["\xbfPor qu\xe9 es peligroso subir un archivo .env a GitHub? \xbfQu\xe9 podr\xeda hacer alguien si encuentra tus API keys en un repositorio p\xfablico?","\xbfQu\xe9 diferencia hay entre el entorno de 'desarrollo' (tu laptop) y el entorno de 'producci\xf3n' (el servidor real)? \xbfPor qu\xe9 necesitan configuraciones diferentes?","\xbfQu\xe9 es CORS y por qu\xe9 el navegador bloquea peticiones a dominios distintos? \xbfCu\xe1ndo querr\xedas permitirlo y cu\xe1ndo no?"],exercise:{title:"Proyecto completo: API + .env + CORS",description:"Agrega variables de entorno a tu proyecto de tareas, configura CORS para que un frontend pueda llamarla, y crea un archivo HTML simple que use tu API.",steps:["Instala las librer\xedas: npm install dotenv cors","Crea el archivo .env con el contenido de abajo","Crea un archivo .gitignore y a\xf1ade '.env' y 'node_modules'","Actualiza app.js para usar dotenv y cors","Crea index.html para el frontend","Abre index.html en el navegador y prueba la app completa"],whatYouWillSee:"Una mini app web que muestra y crea tareas usando tu API. El frontend (HTML) habla con el backend (Express) que guarda en la base de datos.",code:"// .env \u2014 Variables de entorno (\xa1nunca subir a GitHub!)\nPORT=3000\nNODE_ENV=development\nDB_NAME=tareas.db\n\n// .gitignore\nnode_modules/\n.env\n*.db\n\n// app.js actualizado\nrequire('dotenv').config(); // Carga las variables del .env\nconst express = require('express');\nconst cors = require('cors');\nconst Database = require('better-sqlite3');\n\nconst app = express();\nconst PORT = process.env.PORT || 3000; // Usa variable de entorno\nconst DB_NAME = process.env.DB_NAME || 'tareas.db';\n\napp.use(cors()); // Permite que cualquier frontend llame a tu API\napp.use(express.json());\n\nconst db = new Database(DB_NAME);\ndb.exec(`\n  CREATE TABLE IF NOT EXISTS tareas (\n    id INTEGER PRIMARY KEY AUTOINCREMENT,\n    titulo TEXT NOT NULL,\n    completada INTEGER DEFAULT 0\n  )\n`);\n\n// ... (mismas rutas de ayer)\n\napp.listen(PORT, () => {\n  console.log(`Servidor corriendo en http://localhost:${PORT}`);\n  console.log(`Entorno: ${process.env.NODE_ENV}`);\n});\n\n// index.html \u2014 Frontend simple que usa tu API\n<!DOCTYPE html>\n<html lang=\"es\">\n<body>\n  <h1>Mis Tareas</h1>\n  <input id=\"nueva\" placeholder=\"Nueva tarea...\" />\n  <button onclick=\"crearTarea()\">A\xf1adir</button>\n  <ul id=\"lista\"></ul>\n  \n  <script>\n    const API = 'http://localhost:3000';\n    \n    async function cargarTareas() {\n      const res = await fetch(`${API}/tareas`);\n      const tareas = await res.json();\n      document.getElementById('lista').innerHTML = \n        tareas.map(t => `<li>${t.titulo}</li>`).join('');\n    }\n    \n    async function crearTarea() {\n      const titulo = document.getElementById('nueva').value;\n      await fetch(`${API}/tareas`, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ titulo })\n      });\n      cargarTareas();\n    }\n    \n    cargarTareas(); // Cargar al inicio\n  <\/script>\n</body>\n</html>"},concepts_box:[{term:".env",simple:"Archivo donde guardas los secretos (contrase\xf1as, claves). No se sube a Git."},{term:"process.env",simple:"En Node.js, as\xed accedes a las variables de entorno. Ej: process.env.PORT"},{term:"dotenv",simple:"Librer\xeda que carga el archivo .env en process.env autom\xe1ticamente."},{term:"CORS",simple:"Mecanismo de seguridad del navegador. Bloquea peticiones entre dominios distintos por defecto."},{term:".gitignore",simple:"Archivo que le dice a Git qu\xe9 archivos NO incluir en el repositorio."},{term:"fetch()",simple:"Funci\xf3n de JavaScript para hacer peticiones HTTP desde el navegador."}],resources:[{title:"dotenv \u2014 npm documentation",url:"https://www.npmjs.com/package/dotenv"},{title:"CORS explicado con diagramas \u2014 web.dev",url:"https://web.dev/cross-origin-resource-sharing"},{title:"Git y GitHub para principiantes \u2014 freeCodeCamp",url:"https://www.freecodecamp.org/espanol/news/git-y-github-curso-de-control-de-versiones"}]}]},{id:2,emoji:"\ud83c\udfd7\ufe0f",title:"Bases de Datos Relacionales y PostgreSQL",tagline:"Modelar datos como un profesional",color:"#0EA5E9",light:"#F0F9FF",border:"#BAE6FD",days:[{day:6,emoji:"\ud83d\udd17",title:"Relaciones entre tablas",subtitle:"Usuarios, posts y comentarios \u2014 datos conectados",analogy:"En la vida real, los datos est\xe1n relacionados. Un usuario tiene muchos posts. Un post pertenece a un usuario. Un post tiene muchos comentarios. Las bases de datos relacionales est\xe1n dise\xf1adas exactamente para modelar estas relaciones de forma eficiente.",concept:"El verdadero poder de SQL est\xe1 en las RELACIONES entre tablas y en los JOINs para consultarlas juntas.\n\nTipos de relaciones:\n\n\u2022 Uno a Uno (1:1) \u2014 Un usuario tiene un perfil. Un perfil pertenece a un usuario.\n\u2022 Uno a Muchos (1:N) \u2014 Un usuario tiene muchos posts. Cada post pertenece a un usuario.\n\u2022 Muchos a Muchos (N:M) \u2014 Un post puede tener muchos tags. Un tag puede estar en muchos posts. (Necesita tabla intermedia)\n\nLas relaciones se implementan con FOREIGN KEYS: una columna que apunta al ID de otra tabla.\n\nPara consultar datos de m\xfaltiples tablas, se usa JOIN:\n\u2022 INNER JOIN \u2192 solo los registros que tienen coincidencia en AMBAS tablas\n\u2022 LEFT JOIN \u2192 todos los de la tabla izquierda, aunque no tengan coincidencia\n\nEsto es fundamental. Aprender JOINs correctamente te separa de un desarrollador junior de uno senior.",questions:["Si un usuario se elimina, \xbfqu\xe9 deber\xeda pasar con sus posts? \xbfY con sus comentarios? \xbfDeber\xeda la base de datos manejarlo autom\xe1ticamente?","\xbfPor qu\xe9 no simplemente guardamos el nombre del usuario directamente en la tabla de posts en lugar de guardar su ID? \xbfQu\xe9 problemas evita usar el ID?","Dise\xf1a las tablas para una app de mensajer\xeda tipo WhatsApp. \xbfQu\xe9 tablas necesitas? \xbfC\xf3mo modelar\xedas los grupos?"],exercise:{title:"Base de datos de blog con relaciones y JOINs",description:"Crea una base de datos de blog con usuarios, posts y comentarios. Practica INNER JOIN y LEFT JOIN para recuperar datos relacionados.",steps:["Instala PostgreSQL o usa SQLite con el c\xf3digo de abajo","Ejecuta el script de creaci\xf3n de tablas","Inserta datos de prueba","Practica las queries de JOIN"],whatYouWillSee:"Aprender\xe1s a recuperar 'todos los posts con el nombre de su autor' en una sola query en lugar de hacer m\xfaltiples consultas.",code:"-- Script SQL \u2014 Base de datos de blog\n\n-- Tabla de usuarios\nCREATE TABLE usuarios (\n  id        SERIAL PRIMARY KEY,\n  nombre    TEXT NOT NULL,\n  email     TEXT UNIQUE NOT NULL,\n  creado_en TIMESTAMP DEFAULT NOW()\n);\n\n-- Tabla de posts (tiene FOREIGN KEY a usuarios)\nCREATE TABLE posts (\n  id          SERIAL PRIMARY KEY,\n  titulo      TEXT NOT NULL,\n  contenido   TEXT,\n  usuario_id  INTEGER REFERENCES usuarios(id) ON DELETE CASCADE,\n  publicado   BOOLEAN DEFAULT false,\n  creado_en   TIMESTAMP DEFAULT NOW()\n);\n\n-- Tabla de comentarios\nCREATE TABLE comentarios (\n  id         SERIAL PRIMARY KEY,\n  texto      TEXT NOT NULL,\n  usuario_id INTEGER REFERENCES usuarios(id) ON DELETE SET NULL,\n  post_id    INTEGER REFERENCES posts(id) ON DELETE CASCADE,\n  creado_en  TIMESTAMP DEFAULT NOW()\n);\n\n-- Insertar datos de prueba\nINSERT INTO usuarios (nombre, email) VALUES\n  ('Ana Garc\xeda', 'ana@ejemplo.com'),\n  ('Carlos L\xf3pez', 'carlos@ejemplo.com');\n\nINSERT INTO posts (titulo, contenido, usuario_id, publicado) VALUES\n  ('Mi primer post', 'Hola mundo!', 1, true),\n  ('Aprendiendo SQL', 'Los JOINs son incre\xedbles', 1, true),\n  ('Draft privado', 'Esto no est\xe1 publicado', 2, false);\n\nINSERT INTO comentarios (texto, usuario_id, post_id) VALUES\n  ('\xa1Excelente post!', 2, 1),\n  ('Muy \xfatil, gracias', 1, 2);\n\n-- INNER JOIN \u2014 Posts con el nombre de su autor\nSELECT \n  posts.titulo,\n  posts.creado_en,\n  usuarios.nombre AS autor\nFROM posts\nINNER JOIN usuarios ON posts.usuario_id = usuarios.id\nWHERE posts.publicado = true;\n\n-- LEFT JOIN \u2014 Todos los posts, tengan o no comentarios\nSELECT \n  posts.titulo,\n  COUNT(comentarios.id) AS total_comentarios\nFROM posts\nLEFT JOIN comentarios ON comentarios.post_id = posts.id\nGROUP BY posts.id, posts.titulo\nORDER BY total_comentarios DESC;"},concepts_box:[{term:"FOREIGN KEY",simple:"Una columna que guarda el ID de un registro de otra tabla. Crea la 'relaci\xf3n'."},{term:"INNER JOIN",simple:"Combina filas de dos tablas donde HAY coincidencia. Si no hay match, la fila no aparece."},{term:"LEFT JOIN",simple:"Devuelve TODAS las filas de la tabla izquierda, aunque no haya coincidencia en la derecha."},{term:"ON DELETE CASCADE",simple:"Si borras el padre (usuario), autom\xe1ticamente se borran sus hijos (posts)."},{term:"GROUP BY",simple:"Agrupa filas con el mismo valor para poder hacer sumas, conteos, etc."},{term:"COUNT()",simple:"Funci\xf3n que cuenta cu\xe1ntas filas hay en un grupo."}],resources:[{title:"SQL JOINs \u2014 W3Schools interactivo",url:"https://www.w3schools.com/sql/sql_join.asp"},{title:"SQLZoo \u2014 Ejercicios de SQL interactivos",url:"https://sqlzoo.net/wiki/SQL_Tutorial/es"},{title:"Diagrama de JOINs \u2014 explicaci\xf3n visual",url:"https://www.codeproject.com/Articles/33052/Visual-Representation-of-SQL-Joins"}]},{day:7,emoji:"\ud83d\udc18",title:"PostgreSQL y un ORM real",subtitle:"De SQLite a una base de datos de producci\xf3n",analogy:"SQLite es como una calculadora de bolsillo \u2014 perfecta para aprender. PostgreSQL es como una calculadora cient\xedfica profesional. Funciona en producci\xf3n, maneja miles de usuarios simult\xe1neos, y tiene caracter\xedsticas avanzadas. Es el est\xe1ndar de la industria.",concept:"PostgreSQL es la base de datos relacional de c\xf3digo abierto m\xe1s avanzada del mundo. Es lo que usan startups y empresas grandes por igual.\n\nPrisma es un ORM (Object-Relational Mapper) moderno que te permite:\n1. Definir tu esquema de base de datos en un archivo .prisma\n2. Generar autom\xe1ticamente el c\xf3digo para hacer queries\n3. Escribir queries en JavaScript en lugar de SQL crudo\n4. Hacer migraciones de forma controlada\n\nEl flujo con Prisma es:\n1. Defines tus modelos en schema.prisma\n2. Corres 'npx prisma migrate dev'\n3. Prisma crea las tablas en la base de datos\n4. Usas prisma.usuario.findMany() en lugar de escribir SQL\n\n\xbfCu\xe1ndo usar SQL crudo vs. ORM? Para aprender, empieza con SQL crudo para entender lo que pasa. Luego usa un ORM para ser m\xe1s productivo en proyectos reales.",questions:["\xbfCu\xe1l es la ventaja de usar Prisma (ORM) en lugar de escribir SQL directamente? \xbfCu\xe1ndo podr\xeda ser una desventaja?","Cuando dices 'npx prisma migrate dev', \xbfqu\xe9 est\xe1 pasando exactamente? \xbfPor qu\xe9 es importante guardar historial de migraciones?","Compara: prisma.post.findMany({ where: { publicado: true } }) vs. SELECT * FROM posts WHERE publicado = true. \xbfCu\xe1l prefieres? \xbfCu\xe1ndo cambiar\xedas de opini\xf3n?"],exercise:{title:"API de blog con PostgreSQL + Prisma",description:"Configura PostgreSQL (o usa un servicio gratuito como Supabase), instala Prisma y reconstruye la API del blog usando el ORM.",steps:["Crea una cuenta en supabase.com (PostgreSQL gratis) o instala PostgreSQL local","Crea un nuevo proyecto y copia la CONNECTION STRING","npm install @prisma/client, npm install -D prisma","npx prisma init \u2014 crea los archivos de configuraci\xf3n","Edita prisma/schema.prisma con los modelos de abajo","npx prisma migrate dev --name init","Crea la API con el c\xf3digo de abajo"],whatYouWillSee:"Una API de blog conectada a PostgreSQL real. Los datos persisten en la nube y Prisma genera un cliente con autocompletado.",code:"// prisma/schema.prisma\ndatasource db {\n  provider = \"postgresql\"\n  url      = env(\"DATABASE_URL\")\n}\n\ngenerator client {\n  provider = \"prisma-client-js\"\n}\n\nmodel Usuario {\n  id        Int        @id @default(autoincrement())\n  nombre    String\n  email     String     @unique\n  creadoEn  DateTime   @default(now())\n  posts     Post[]     // Un usuario tiene muchos posts\n  comentarios Comentario[]\n}\n\nmodel Post {\n  id          Int          @id @default(autoincrement())\n  titulo      String\n  contenido   String?\n  publicado   Boolean      @default(false)\n  creadoEn    DateTime     @default(now())\n  usuario     Usuario      @relation(fields: [usuarioId], references: [id])\n  usuarioId   Int\n  comentarios Comentario[]\n}\n\nmodel Comentario {\n  id        Int      @id @default(autoincrement())\n  texto     String\n  creadoEn  DateTime @default(now())\n  usuario   Usuario  @relation(fields: [usuarioId], references: [id])\n  usuarioId Int\n  post      Post     @relation(fields: [postId], references: [id])\n  postId    Int\n}\n\n// api/posts.js \u2014 Queries con Prisma\nconst { PrismaClient } = require('@prisma/client');\nconst prisma = new PrismaClient();\n\n// Obtener todos los posts publicados con su autor\napp.get('/posts', async (req, res) => {\n  const posts = await prisma.post.findMany({\n    where: { publicado: true },\n    include: {\n      usuario: { select: { nombre: true, email: true } },\n      _count: { select: { comentarios: true } }\n    },\n    orderBy: { creadoEn: 'desc' }\n  });\n  res.json(posts);\n});"},concepts_box:[{term:"ORM",simple:"Herramienta que convierte objetos de c\xf3digo en filas de base de datos y viceversa. Evita escribir SQL manualmente."},{term:"Schema de Prisma",simple:"Archivo .prisma donde defines tus modelos (tablas) y sus relaciones."},{term:"Migraci\xf3n",simple:"Script que cambia la estructura de la DB de forma controlada y reversible."},{term:"include",simple:"En Prisma, le dice que traiga tambi\xe9n los datos relacionados (como JOIN en SQL)."},{term:"Supabase",simple:"Servicio gratuito en la nube que te da PostgreSQL sin instalar nada."},{term:"CONNECTION STRING",simple:"URL con todos los datos para conectarse a la DB. Ej: postgresql://user:pass@host/db"}],resources:[{title:"Prisma \u2014 Getting Started (oficial)",url:"https://www.prisma.io/docs/getting-started"},{title:"Supabase \u2014 PostgreSQL gratis en la nube",url:"https://supabase.com"},{title:"Tutorial Prisma + Express completo",url:"https://www.prisma.io/express"}]},{day:8,emoji:"\ud83d\udd11",title:"Autenticaci\xf3n: login y registro",subtitle:"Contrase\xf1as seguras, JWT y rutas protegidas",analogy:"La autenticaci\xf3n es como el portero de un club. Primero verificas que la persona es quien dice ser (login). Luego le das una pulsera (JWT token) que demuestra que ya pas\xf3 el control. Para entrar de nuevo, muestra la pulsera \u2014 no tiene que volver a identificarse cada vez.",concept:"Implementar autenticaci\xf3n tiene dos partes:\n\n1. REGISTRO Y LOGIN:\n\u2022 El usuario se registra con email + contrase\xf1a\n\u2022 NUNCA guardas la contrase\xf1a en texto plano \u2014 la hasheas con bcrypt\n\u2022 Al hacer login, comparas la contrase\xf1a ingresada con el hash guardado\n\u2022 Si coinciden, generas un JWT token y se lo das\n\n2. AUTORIZACI\xd3N CON JWT:\n\u2022 JWT (JSON Web Token) es un token firmado que contiene datos del usuario\n\u2022 El cliente lo guarda y lo manda en cada petici\xf3n protegida\n\u2022 Tu servidor verifica la firma y sabe qui\xe9n es el usuario\n\u2022 Sin el token (o con uno inv\xe1lido), la petici\xf3n es rechazada\n\nbcrypt es una funci\xf3n de hash dise\xf1ada para ser LENTA (a prop\xf3sito). Esto hace que sea muy dif\xedcil adivinar contrase\xf1as aunque alguien robe tu base de datos.",questions:["\xbfPor qu\xe9 guardar contrase\xf1as en texto plano es tan peligroso? \xbfQu\xe9 pasar\xeda si hacen un hack a tu base de datos?","\xbfQu\xe9 diferencia hay entre autenticaci\xf3n (\xbfqui\xe9n eres?) y autorizaci\xf3n (\xbfqu\xe9 puedes hacer?)? Da un ejemplo de cada uno.","JWT se puede decodificar sin la clave secreta, \xbfes eso un problema de seguridad? \xbfQu\xe9 informaci\xf3n NO deber\xedas poner en un JWT?"],exercise:{title:"Sistema completo de registro, login y rutas protegidas",description:"Implementa registro con hash de contrase\xf1a, login que devuelve JWT, y un middleware que protege rutas.",steps:["npm install bcrypt jsonwebtoken","A\xf1ade JWT_SECRET al archivo .env","Crea las rutas de autenticaci\xf3n","Crea el middleware de autenticaci\xf3n","Protege algunas rutas con el middleware","Prueba el flujo completo con Insomnia"],whatYouWillSee:"Podr\xe1s registrarte, recibir un token, y usar ese token para acceder a rutas protegidas.",code:"// .env \u2014 a\xf1ade esto\nJWT_SECRET=mi_clave_super_secreta_cambiame_en_produccion\n\n// auth.js \u2014 rutas de autenticaci\xf3n\nconst express = require('express');\nconst bcrypt = require('bcrypt');\nconst jwt = require('jsonwebtoken');\nconst router = express.Router();\n// (asume que tienes prisma configurado)\n\n// POST /auth/registro\nrouter.post('/registro', async (req, res) => {\n  const { nombre, email, password } = req.body;\n  \n  if (!email || !password) {\n    return res.status(400).json({ error: 'Email y contrase\xf1a requeridos' });\n  }\n  \n  // Hash de la contrase\xf1a \u2014 el '10' es el \"costo\" (m\xe1s alto = m\xe1s lento = m\xe1s seguro)\n  const passwordHash = await bcrypt.hash(password, 10);\n  \n  try {\n    const usuario = await prisma.usuario.create({\n      data: { nombre, email, passwordHash }\n    });\n    \n    res.status(201).json({ mensaje: '\xa1Usuario creado!', id: usuario.id });\n  } catch (error) {\n    // El email ya existe (restricci\xf3n UNIQUE en la DB)\n    res.status(409).json({ error: 'El email ya est\xe1 registrado' });\n  }\n});\n\n// POST /auth/login\nrouter.post('/login', async (req, res) => {\n  const { email, password } = req.body;\n  \n  const usuario = await prisma.usuario.findUnique({ where: { email } });\n  \n  // IMPORTANTE: no decir si el email existe o no (seguridad)\n  if (!usuario) {\n    return res.status(401).json({ error: 'Credenciales inv\xe1lidas' });\n  }\n  \n  const passwordValida = await bcrypt.compare(password, usuario.passwordHash);\n  \n  if (!passwordValida) {\n    return res.status(401).json({ error: 'Credenciales inv\xe1lidas' });\n  }\n  \n  // Generar el token JWT (expira en 7 d\xedas)\n  const token = jwt.sign(\n    { userId: usuario.id, email: usuario.email },\n    process.env.JWT_SECRET,\n    { expiresIn: '7d' }\n  );\n  \n  res.json({ token, usuario: { id: usuario.id, nombre: usuario.nombre } });\n});\n\n// middleware/autenticar.js \u2014 protege rutas\nfunction autenticar(req, res, next) {\n  const authHeader = req.headers.authorization;\n  \n  if (!authHeader || !authHeader.startsWith('Bearer ')) {\n    return res.status(401).json({ error: 'Token requerido' });\n  }\n  \n  const token = authHeader.split(' ')[1];\n  \n  try {\n    const payload = jwt.verify(token, process.env.JWT_SECRET);\n    req.usuario = payload; // Disponible en la siguiente funci\xf3n\n    next();\n  } catch {\n    res.status(401).json({ error: 'Token inv\xe1lido o expirado' });\n  }\n}\n\n// Uso del middleware \u2014 protege una ruta\napp.get('/mi-perfil', autenticar, async (req, res) => {\n  // req.usuario est\xe1 disponible gracias al middleware\n  const usuario = await prisma.usuario.findUnique({\n    where: { id: req.usuario.userId }\n  });\n  res.json(usuario);\n});"},concepts_box:[{term:"bcrypt",simple:"Algoritmo para hashear contrase\xf1as. Es intencionalmente lento para dificultar ataques."},{term:"Hash",simple:"Transformaci\xf3n unidireccional. Puedes verificar si algo coincide con el hash, pero no revertirlo."},{term:"JWT",simple:"Token firmado que contiene datos del usuario. Como un DNI digital que no puedes falsificar."},{term:"Bearer Token",simple:"Forma de enviar el JWT: en el header 'Authorization: Bearer <token>'."},{term:"Middleware de autenticaci\xf3n",simple:"Funci\xf3n que verifica el JWT antes de ejecutar la l\xf3gica de la ruta."},{term:"401 vs 403",simple:"401 = no est\xe1s identificado. 403 = est\xe1s identificado pero no tienes permiso."}],resources:[{title:"JWT.io \u2014 Decodifica y entiende los tokens visualmente",url:"https://jwt.io"},{title:"bcrypt \u2014 npm documentation",url:"https://www.npmjs.com/package/bcrypt"},{title:"OWASP \u2014 Gu\xeda de autenticaci\xf3n segura",url:"https://cheatsheetseries.owasp.org/cheatsheets/Authentication_Cheat_Sheet.html"}]},{day:9,emoji:"\u2705",title:"Validaci\xf3n y manejo de errores",subtitle:"Tu API siendo amable y robusta",analogy:"Una API sin validaci\xf3n es como un formulario de papel que acepta que escribas tu edad como 'patata'. La validaci\xf3n es el proceso de verificar que los datos tienen sentido antes de procesarlos. El manejo de errores es comunicar qu\xe9 sali\xf3 mal de forma clara y \xfatil.",concept:"Dos responsabilidades que los principiantes suelen ignorar pero son cruciales en producci\xf3n:\n\nVALIDACI\xd3N:\n\u2022 Verificar que los datos requeridos existen\n\u2022 Verificar que tienen el formato correcto (email real, n\xfamero positivo, etc.)\n\u2022 Verificar que tienen sentido (edad entre 0 y 150, por ejemplo)\n\u2022 La librer\xeda Zod hace esto de forma elegante con TypeScript-like schemas\n\nMANEJO DE ERRORES:\n\u2022 Los errores son inevitables. La pregunta es c\xf3mo los manejas\n\u2022 Un error no manejado puede tirar abajo todo el servidor\n\u2022 Los errores deben devolver respuestas \xfatiles al cliente (no stack traces)\n\u2022 Express tiene un manejador de errores global (4 par\xe1metros)\n\u2022 Los errores de base de datos deben loguearse y traducirse a mensajes amigables",questions:["\xbfQu\xe9 pasa si en tu API de tareas alguien env\xeda { titulo: 12345 } (un n\xfamero) en lugar de un string? \xbfTu API actual lo maneja bien?","\xbfCu\xe1l es la diferencia entre errores de validaci\xf3n (400 Bad Request) y errores del servidor (500 Internal Server Error)? \xbfPor qu\xe9 es importante distinguirlos?","\xbfPor qu\xe9 es mala pr\xe1ctica devolver el mensaje de error exacto de la base de datos al cliente? \xbfQu\xe9 informaci\xf3n sensible podr\xeda exponer?"],exercise:{title:"Agregar validaci\xf3n con Zod y un error handler global",description:"Instala Zod y agrega validaci\xf3n a tus endpoints. Implementa un error handler global de Express que captura todos los errores y devuelve respuestas consistentes.",steps:["npm install zod","Crea schemas de validaci\xf3n para tus rutas","Crea el middleware de validaci\xf3n","Crea el error handler global","Prueba enviando datos inv\xe1lidos"],whatYouWillSee:"Tu API devolver\xe1 mensajes de error claros y \xfatiles en lugar de crashear o devolver errores de base de datos confusos.",code:"// validation/schemas.js \u2014 Schemas de Zod\nconst { z } = require('zod');\n\nconst crearTareaSchema = z.object({\n  titulo: z.string()\n    .min(1, 'El t\xedtulo no puede estar vac\xedo')\n    .max(200, 'El t\xedtulo no puede tener m\xe1s de 200 caracteres')\n    .trim(), // elimina espacios al inicio y final\n  \n  prioridad: z.enum(['baja', 'media', 'alta'])\n    .default('media'),\n  \n  fechaLimite: z.string()\n    .datetime('Formato de fecha inv\xe1lido')\n    .optional() // No es requerido\n});\n\nconst registroSchema = z.object({\n  nombre: z.string().min(2, 'El nombre debe tener al menos 2 caracteres'),\n  email: z.string().email('Email inv\xe1lido'),\n  password: z.string()\n    .min(8, 'La contrase\xf1a debe tener al menos 8 caracteres')\n    .regex(/[A-Z]/, 'Debe tener al menos una may\xfascula')\n    .regex(/[0-9]/, 'Debe tener al menos un n\xfamero')\n});\n\n// middleware/validar.js \u2014 Middleware gen\xe9rico de validaci\xf3n\nfunction validar(schema) {\n  return (req, res, next) => {\n    const resultado = schema.safeParse(req.body);\n    \n    if (!resultado.success) {\n      // Zod nos da errores detallados por campo\n      const errores = resultado.error.errors.map(e => ({\n        campo: e.path.join('.'),\n        mensaje: e.message\n      }));\n      \n      return res.status(400).json({ \n        error: 'Datos inv\xe1lidos', \n        detalles: errores \n      });\n    }\n    \n    req.body = resultado.data; // Datos limpios y validados\n    next();\n  };\n}\n\n// Uso en rutas\napp.post('/tareas', validar(crearTareaSchema), async (req, res) => {\n  // Si llegamos aqu\xed, req.body ya est\xe1 validado \u2705\n  const tarea = await prisma.tarea.create({ data: req.body });\n  res.status(201).json(tarea);\n});\n\n// Error handler global \u2014 va AL FINAL de todos los app.use()\napp.use((err, req, res, next) => {\n  console.error('Error no manejado:', err); // Loguear para debugging\n  \n  // Errores conocidos de Prisma\n  if (err.code === 'P2002') {\n    return res.status(409).json({ error: 'Ya existe un registro con ese valor \xfanico' });\n  }\n  \n  // Error gen\xe9rico (no revelar detalles internos)\n  res.status(500).json({ \n    error: 'Algo sali\xf3 mal en el servidor',\n    // En desarrollo puedes mostrar m\xe1s info:\n    ...(process.env.NODE_ENV === 'development' && { detalles: err.message })\n  });\n});"},concepts_box:[{term:"Validaci\xf3n",simple:"Verificar que los datos de entrada tienen el formato y valores correctos antes de procesarlos."},{term:"Zod",simple:"Librer\xeda para definir y validar la 'forma' de tus datos con mensajes de error \xfatiles."},{term:"Schema",simple:"La definici\xf3n de qu\xe9 campos esperas y qu\xe9 reglas deben cumplir."},{term:"400 Bad Request",simple:"El cliente mand\xf3 algo mal formado o inv\xe1lido. Es su culpa, no del servidor."},{term:"500 Internal Server Error",simple:"Algo explot\xf3 en el servidor. No es culpa del cliente."},{term:"Error handler global",simple:"Middleware especial en Express (4 par\xe1metros) que captura todos los errores no manejados."}],resources:[{title:"Zod \u2014 Documentaci\xf3n oficial",url:"https://zod.dev"},{title:"Express Error Handling \u2014 Gu\xeda oficial",url:"https://expressjs.com/es/guide/error-handling.html"},{title:"HTTP Status Codes \u2014 Cu\xe1ndo usar cada uno",url:"https://httpstatuses.io"}]},{day:10,emoji:"\ud83d\ude80",title:"Deploy: publicar tu app al mundo",subtitle:"De localhost a Internet en un d\xeda",analogy:"Hacer deploy es como abrir tu restaurante al p\xfablico. Hasta ahora solo cocinabas para ti (localhost). Ahora lo pones en una direcci\xf3n real para que cualquier persona en el mundo pueda visitarlo. Hoy publicar\xe1s tu API de verdad.",concept:"Hasta ahora todo viv\xeda en tu computadora. Para que el mundo acceda a tu app necesitas:\n\n1. Un SERVIDOR EN LA NUBE \u2014 una computadora que est\xe9 prendida 24/7 con una IP p\xfablica\n2. Tus VARIABLES DE ENTORNO configuradas en ese servidor\n3. Tu c\xf3digo subido a GitHub y luego al servidor\n\nPlataformas de deploy para principiantes:\n\n\u2022 Railway \u2014 La m\xe1s sencilla. Conectas tu GitHub, Railway detecta Node.js y despliega autom\xe1ticamente. Tiene plan gratuito.\n\u2022 Render \u2014 Similar a Railway, muy amigable para principiantes.\n\u2022 Vercel \u2014 Excelente para frontend, tambi\xe9n soporta APIs (funciones serverless)\n\nProceso general:\n1. Subir c\xf3digo a GitHub\n2. Conectar el repositorio a Railway/Render\n3. Configurar variables de entorno en el dashboard\n4. El servicio detecta el lenguaje, instala dependencias y corre tu app",questions:["\xbfCu\xe1l es la diferencia entre 'localhost' y una URL p\xfablica como 'mi-api.railway.app'? \xbfQu\xe9 cambios t\xe9cnicos ocurren cuando haces deploy?","Si tu app usa process.env.DATABASE_URL, \xbfqu\xe9 tienes que hacer en Railway/Render para que funcione correctamente?","\xbfQu\xe9 crees que pasa cuando tu aplicaci\xf3n en Railway recibe m\xe1s tr\xe1fico del que puede manejar? \xbfC\xf3mo se escala?"],exercise:{title:"Deploy de tu API a Railway",description:"Sube tu proyecto de blog/tareas a GitHub y haz deploy en Railway. Al final, tendr\xe1s una URL p\xfablica que funciona desde cualquier dispositivo del mundo.",steps:["Aseg\xfarate de tener .gitignore con .env y node_modules","A\xf1ade un script 'start' en package.json","Crea una cuenta en railway.app","Conecta tu cuenta de GitHub","Selecciona el repositorio de tu API","Configura las variables de entorno en el dashboard de Railway","Railway desplegar\xe1 autom\xe1ticamente \u2014 espera el deployment"],whatYouWillSee:"Una URL p\xfablica (ej: mi-api-production.up.railway.app) donde tu API funciona para todo el mundo.",code:'// package.json \u2014 a\xf1ade estos scripts\n{\n  "name": "mi-api",\n  "version": "1.0.0",\n  "scripts": {\n    "start": "node app.js",          // Este es el comando que Railway usa\n    "dev": "nodemon app.js",         // Este es para desarrollo local\n    "db:push": "prisma db push",     // Para aplicar el schema a la DB\n    "db:studio": "prisma studio"     // UI visual para ver tu base de datos\n  },\n  "engines": {\n    "node": ">=18.0.0"  // Le dice a Railway qu\xe9 versi\xf3n de Node usar\n  }\n}\n\n// Procfile (opcional, para algunas plataformas)\nweb: node app.js\n\n// Variables de entorno en Railway:\n// DATABASE_URL = (la connection string de tu Supabase)\n// JWT_SECRET   = (una clave larga y aleatoria)\n// NODE_ENV     = production\n// PORT         = (Railway lo pone autom\xe1ticamente)\n\n// CHECKLIST ANTES DE HACER DEPLOY:\n// \u2705 .gitignore tiene: .env, node_modules/, *.db\n// \u2705 package.json tiene "start" script\n// \u2705 No hay contrase\xf1as hardcodeadas en el c\xf3digo\n// \u2705 La app usa process.env.PORT (Railway asigna el puerto)\n// \u2705 prisma generate se corre en el build (o en postinstall)'},concepts_box:[{term:"Deploy",simple:"El proceso de subir y poner en marcha tu aplicaci\xf3n en un servidor real en Internet."},{term:"Railway",simple:"Plataforma en la nube que despliega tu app autom\xe1ticamente desde GitHub."},{term:"Producci\xf3n",simple:"El entorno real donde los usuarios usan tu app. Opuesto a 'desarrollo' (tu laptop)."},{term:"CI/CD",simple:"Integraci\xf3n Continua / Despliegue Continuo. Cada push a GitHub puede deployar autom\xe1ticamente."},{term:"Logs",simple:"Los console.log de tu app en producci\xf3n. Railway te los muestra en tiempo real."},{term:"Escalar",simple:"A\xf1adir m\xe1s recursos (CPU, RAM) o m\xe1s instancias de tu app para manejar m\xe1s tr\xe1fico."}],resources:[{title:"Railway \u2014 Getting Started",url:"https://docs.railway.app/getting-started"},{title:"Render \u2014 Deploy a Node.js app",url:"https://render.com/docs/node-express-app"},{title:"Git y GitHub en 20 minutos \u2014 video tutorial",url:"https://www.youtube.com/watch?v=VdGzPodjSAk"}]}]},{id:3,emoji:"\u26a1",title:"APIs Avanzadas y Buenas Pr\xe1cticas",tagline:"Escribir c\xf3digo de calidad profesional",color:"#8B5CF6",light:"#FAF5FF",border:"#DDD6FE",days:[{day:11,emoji:"\ud83d\udcc1",title:"Estructura de proyecto y separaci\xf3n de responsabilidades",subtitle:"Organizar el c\xf3digo para que crezca sin volverse un caos",analogy:"Un proyecto sin estructura es como una cocina donde los ingredientes, los utensilios y los platos limpios est\xe1n todos mezclados en el mismo caj\xf3n. Funciona cuando eres el \xfanico cocinero y hay 5 platos. Pero si tienes 50 platos y 3 cocineros, necesitas organizaci\xf3n.",concept:"La arquitectura m\xe1s com\xfan para APIs de Node.js sigue el patr\xf3n en capas:\n\n\ud83d\udcc1 routes/ \u2014 Define qu\xe9 URLs existen y qu\xe9 funci\xf3n llaman\n\ud83d\udcc1 controllers/ \u2014 La l\xf3gica de cada endpoint (qu\xe9 hace con el request)\n\ud83d\udcc1 services/ \u2014 La l\xf3gica de negocio (reglas de la app, sin saber de HTTP)\n\ud83d\udcc1 middleware/ \u2014 Funciones que se ejecutan antes de los controllers\n\ud83d\udcc1 prisma/ \u2014 Configuraci\xf3n y schema de la base de datos\n\nPor qu\xe9 esta separaci\xf3n:\n\u2022 Las rutas solo saben de URLs y m\xe9todos HTTP\n\u2022 Los controllers solo saben de HTTP (req, res)\n\u2022 Los services no saben nada de HTTP \u2014 pueden reutilizarse desde tests, cron jobs, etc.\n\u2022 Si cambias de Express a Fastify, solo reescribes routes y controllers\n\nEsta separaci\xf3n se llama 'Separaci\xf3n de Responsabilidades' o SoC (Separation of Concerns).",questions:["\xbfPor qu\xe9 es importante que la l\xf3gica de negocio (services) no sepa nada sobre HTTP? \xbfQu\xe9 ventajas concretas tiene eso?","Tienes un endpoint que: valida la entrada, verifica que el usuario sea admin, crea un post en la DB y env\xeda un email de notificaci\xf3n. \xbfD\xf3nde va cada parte?","\xbfCu\xe1l es el problema de tener toda la l\xf3gica directamente en el archivo app.js? \xbfCu\xe1ndo empieza a ser un problema?"],exercise:{title:"Refactorizar la API del blog con arquitectura en capas",description:"Reorganiza el proyecto del blog siguiendo la estructura de capas. Todo debe funcionar igual que antes, pero el c\xf3digo estar\xe1 organizado.",steps:["Crea la estructura de carpetas descrita abajo","Mueve las rutas a routes/posts.js","Crea controllers/postsController.js","Crea services/postsService.js con la l\xf3gica de DB","Actualiza app.js para que solo monte las rutas","Prueba que todo sigue funcionando"],whatYouWillSee:"El mismo comportamiento que antes, pero el c\xf3digo est\xe1 separado en responsabilidades claras. A\xf1adir nuevas funcionalidades ser\xe1 mucho m\xe1s f\xe1cil.",code:"// Estructura de archivos recomendada\nmi-api/\n\u251c\u2500\u2500 app.js                 // Punto de entrada, config de Express\n\u251c\u2500\u2500 .env\n\u251c\u2500\u2500 package.json\n\u251c\u2500\u2500 prisma/\n\u2502   \u2514\u2500\u2500 schema.prisma\n\u251c\u2500\u2500 routes/\n\u2502   \u251c\u2500\u2500 index.js           // Monta todas las rutas\n\u2502   \u251c\u2500\u2500 posts.js\n\u2502   \u251c\u2500\u2500 usuarios.js\n\u2502   \u2514\u2500\u2500 auth.js\n\u251c\u2500\u2500 controllers/\n\u2502   \u251c\u2500\u2500 postsController.js\n\u2502   \u2514\u2500\u2500 usuariosController.js\n\u251c\u2500\u2500 services/\n\u2502   \u251c\u2500\u2500 postsService.js    // L\xf3gica con Prisma\n\u2502   \u2514\u2500\u2500 authService.js\n\u251c\u2500\u2500 middleware/\n\u2502   \u251c\u2500\u2500 autenticar.js\n\u2502   \u2514\u2500\u2500 validar.js\n\u2514\u2500\u2500 validation/\n    \u2514\u2500\u2500 schemas.js\n\n// routes/posts.js\nconst express = require('express');\nconst router = express.Router();\nconst postsController = require('../controllers/postsController');\nconst { autenticar } = require('../middleware/autenticar');\nconst { validar } = require('../middleware/validar');\nconst { crearPostSchema } = require('../validation/schemas');\n\nrouter.get('/', postsController.listar);\nrouter.get('/:id', postsController.obtener);\nrouter.post('/', autenticar, validar(crearPostSchema), postsController.crear);\nrouter.delete('/:id', autenticar, postsController.eliminar);\n\nmodule.exports = router;\n\n// controllers/postsController.js\nconst postsService = require('../services/postsService');\n\nconst listar = async (req, res, next) => {\n  try {\n    const posts = await postsService.obtenerPublicados();\n    res.json(posts);\n  } catch (err) {\n    next(err); // Pasa el error al error handler global\n  }\n};\n\nconst crear = async (req, res, next) => {\n  try {\n    const post = await postsService.crear(req.body, req.usuario.userId);\n    res.status(201).json(post);\n  } catch (err) {\n    next(err);\n  }\n};\n\nmodule.exports = { listar, crear /*, obtener, eliminar */ };\n\n// services/postsService.js\nconst { PrismaClient } = require('@prisma/client');\nconst prisma = new PrismaClient();\n\n// \xa1Este archivo no sabe nada de req ni res!\nconst obtenerPublicados = async () => {\n  return prisma.post.findMany({\n    where: { publicado: true },\n    include: { usuario: { select: { nombre: true } } },\n    orderBy: { creadoEn: 'desc' }\n  });\n};\n\nconst crear = async (datos, usuarioId) => {\n  return prisma.post.create({\n    data: { ...datos, usuarioId }\n  });\n};\n\nmodule.exports = { obtenerPublicados, crear };"},concepts_box:[{term:"Separaci\xf3n de responsabilidades",simple:"Cada parte del c\xf3digo tiene una sola raz\xf3n para cambiar. Rutas solo rutas, l\xf3gica solo l\xf3gica."},{term:"Controller",simple:"Maneja la petici\xf3n HTTP, llama al servicio y devuelve la respuesta."},{term:"Service",simple:"Contiene la l\xf3gica de negocio. No sabe de HTTP. Puede ser llamado desde cualquier parte."},{term:"Router",simple:"En Express, un mini-app que agrupa rutas relacionadas."},{term:"next(err)",simple:"Pasa un error al siguiente middleware (el error handler global)."},{term:"Arquitectura en capas",simple:"Organizaci\xf3n del c\xf3digo en capas con responsabilidades claras: rutas \u2192 controllers \u2192 services \u2192 DB."}],resources:[{title:"Express Best Practices \u2014 Estructura de proyecto",url:"https://expressjs.com/es/advanced/best-practice-performance.html"},{title:"Node.js Best Practices \u2014 goldbergyoni/nodebestpractices (GitHub)",url:"https://github.com/goldbergyoni/nodebestpractices"}]},{day:12,emoji:"\ud83e\uddea",title:"Testing: probar que tu c\xf3digo funciona",subtitle:"Tests autom\xe1ticos para tener confianza al cambiar c\xf3digo",analogy:"Los tests son como tener un asistente que prueba tu app autom\xe1ticamente cada vez que cambias algo. Sin tests, cada vez que cambias c\xf3digo tienes que probar manualmente que todo sigue funcionando. Con tests, la computadora lo hace por ti en segundos.",concept:"Tipos de tests de m\xe1s r\xe1pidos a m\xe1s lentos:\n\n\ud83c\udfc3 Unit tests \u2014 prueban una funci\xf3n aislada. Son rapid\xedsimos.\n\ud83d\udd17 Integration tests \u2014 prueban que varias partes funcionan juntas (tu endpoint + la base de datos).\n\ud83c\udf10 E2E (End-to-End) tests \u2014 simulan un usuario real usando la aplicaci\xf3n.\n\nPara empezar, los integration tests de APIs son los m\xe1s valiosos por su relaci\xf3n esfuerzo/beneficio:\n\u2022 Con Supertest, puedes hacer peticiones reales a tu API en tests\n\u2022 Jest es el framework de testing m\xe1s popular en el ecosistema Node.js\n\u2022 La idea: describes qu\xe9 deber\xeda pasar, corres el test, Jest verifica\n\nBeneficio clave: cuando refactorizas c\xf3digo (lo reorganizas sin cambiar su comportamiento), los tests te garantizan que no rompiste nada.",questions:["Si los tests toman tiempo de escribir, \xbfpor qu\xe9 vale la pena hacerlos? \xbfCu\xe1ndo NO valdr\xeda la pena?","\xbfQu\xe9 problema hay con usar la base de datos de producci\xf3n en los tests? \xbfC\xf3mo lo resolver\xedas?","\xbfQu\xe9 significa que un test es 'determin\xedstico'? \xbfPor qu\xe9 es importante que los tests siempre den el mismo resultado?"],exercise:{title:"Integration tests para la API de tareas",description:"Escribe tests que prueben los endpoints de tu API usando Jest y Supertest.",steps:["npm install -D jest supertest","A\xf1ade 'test': 'jest' en package.json scripts","Configura una DB de test separada","Crea el archivo de tests","Corre: npm test"],whatYouWillSee:"Jest ejecutar\xe1 los tests y te dir\xe1 cu\xe1ntos pasaron y cu\xe1ntos fallaron, con mensajes claros.",code:"// tests/tareas.test.js\nconst request = require('supertest');\nconst app = require('../app'); // Importa tu app de Express\n\n// Limpiar la DB antes de cada test para tener estado limpio\nbeforeEach(async () => {\n  await prisma.tarea.deleteMany();\n});\n\n// Cerrar la conexi\xf3n despu\xe9s de todos los tests\nafterAll(async () => {\n  await prisma.$disconnect();\n});\n\n// describe agrupa tests relacionados\ndescribe('GET /tareas', () => {\n  \n  it('devuelve una lista vac\xeda cuando no hay tareas', async () => {\n    const respuesta = await request(app).get('/tareas');\n    \n    expect(respuesta.status).toBe(200);\n    expect(respuesta.body).toEqual([]); // Lista vac\xeda\n  });\n  \n  it('devuelve las tareas existentes', async () => {\n    // Crear tareas directamente en la DB\n    await prisma.tarea.createMany({\n      data: [\n        { titulo: 'Tarea 1' },\n        { titulo: 'Tarea 2' }\n      ]\n    });\n    \n    const respuesta = await request(app).get('/tareas');\n    \n    expect(respuesta.status).toBe(200);\n    expect(respuesta.body).toHaveLength(2);\n    expect(respuesta.body[0]).toHaveProperty('titulo', 'Tarea 1');\n  });\n});\n\ndescribe('POST /tareas', () => {\n  \n  it('crea una tarea y devuelve 201', async () => {\n    const respuesta = await request(app)\n      .post('/tareas')\n      .send({ titulo: 'Mi nueva tarea' });\n    \n    expect(respuesta.status).toBe(201);\n    expect(respuesta.body).toMatchObject({\n      titulo: 'Mi nueva tarea',\n      completada: false\n    });\n    expect(respuesta.body.id).toBeDefined();\n  });\n  \n  it('devuelve 400 si no hay titulo', async () => {\n    const respuesta = await request(app)\n      .post('/tareas')\n      .send({}); // Sin t\xedtulo\n    \n    expect(respuesta.status).toBe(400);\n    expect(respuesta.body.error).toBeDefined();\n  });\n});"},concepts_box:[{term:"Jest",simple:"Framework de testing de JavaScript. Corre tus tests y verifica que los resultados sean los esperados."},{term:"Supertest",simple:"Librer\xeda para hacer peticiones HTTP a tu app Express en tests, sin necesitar el puerto real."},{term:"describe()",simple:"Agrupa tests relacionados bajo un nombre descriptivo."},{term:"it() / test()",simple:"Define un test individual. El string describe qu\xe9 deber\xeda pasar."},{term:"expect()",simple:"Hace una afirmaci\xf3n: 'espero que esto sea igual a aquello'."},{term:"beforeEach()",simple:"Funci\xf3n que se ejecuta antes de cada test. \xdatil para resetear el estado."}],resources:[{title:"Jest \u2014 Documentaci\xf3n oficial en espa\xf1ol",url:"https://jestjs.io/es-ES/docs/getting-started"},{title:"Supertest \u2014 GitHub",url:"https://github.com/ladjs/supertest"},{title:"Testing Node.js \u2014 gu\xeda completa freeCodeCamp",url:"https://www.freecodecamp.org/news/how-to-test-in-express-and-mongoose"}]},{day:13,emoji:"\ud83d\udcc4",title:"Documentar tu API con Swagger",subtitle:"Que otros (y t\xfa en 6 meses) entiendan tu API",analogy:"Una API sin documentaci\xf3n es como un control remoto sin manual y sin etiquetas en los botones. Funciona si t\xfa la hiciste, pero nadie m\xe1s sabe usarla. Swagger genera documentaci\xf3n interactiva autom\xe1ticamente a partir de tu c\xf3digo.",concept:"La documentaci\xf3n de API m\xe1s com\xfan en la industria usa el est\xe1ndar OpenAPI (antes llamado Swagger).\n\nCon swagger-ui-express y swagger-jsdoc puedes:\n\u2022 Escribir la documentaci\xf3n en comentarios de tu c\xf3digo (en formato YAML/JSDoc)\n\u2022 Swagger genera autom\xe1ticamente una p\xe1gina web interactiva\n\u2022 Los usuarios pueden probar los endpoints directamente desde la documentaci\xf3n\n\u2022 Es el est\xe1ndar que usan empresas como Stripe, Twilio, GitHub, etc.\n\nVer la documentaci\xf3n de Stripe (stripe.com/docs/api) es inspirador \u2014 ese es el nivel al que aspiras.\n\nAlternativa moderna: Hono + Zod-OpenAPI genera la documentaci\xf3n autom\xe1ticamente desde tus schemas de validaci\xf3n. Muy popular en 2024-2025.",questions:["\xbfPor qu\xe9 la documentaci\xf3n de una API es tan importante cuando trabajas en equipo o tienes clientes que consumen tu API?","Si cambias tu API (a\xf1ades un campo, cambias un nombre), \xbfqu\xe9 le pasa a quienes ya estaban usando la versi\xf3n anterior? \xbfC\xf3mo lo manejar\xedas?","\xbfCu\xe1l es la diferencia entre documentar el 'qu\xe9 hace' un endpoint vs. el 'c\xf3mo funciona internamente'? \xbfQu\xe9 es m\xe1s importante para los consumidores de la API?"],exercise:{title:"Swagger UI para tu API de blog",description:"Agrega documentaci\xf3n Swagger a tu API. Al final, tendr\xe1s una p\xe1gina en /api-docs con todos tus endpoints documentados e interactivos.",steps:["npm install swagger-ui-express swagger-jsdoc","Crea el archivo de configuraci\xf3n de Swagger","A\xf1ade comentarios JSDoc a tus rutas","Monta la UI en app.js","Visita http://localhost:3000/api-docs"],whatYouWillSee:"Una p\xe1gina web interactiva con todos tus endpoints, donde puedes hacer peticiones de prueba directamente desde el navegador.",code:"// swagger.js \u2014 Configuraci\xf3n\nconst swaggerJsdoc = require('swagger-jsdoc');\nconst swaggerUi = require('swagger-ui-express');\n\nconst options = {\n  definition: {\n    openapi: '3.0.0',\n    info: {\n      title: 'API de Blog',\n      version: '1.0.0',\n      description: 'API REST para gestionar posts y usuarios',\n    },\n    servers: [\n      { url: 'http://localhost:3000', description: 'Desarrollo' }\n    ],\n    components: {\n      securitySchemes: {\n        bearerAuth: {\n          type: 'http',\n          scheme: 'bearer',\n          bearerFormat: 'JWT'\n        }\n      }\n    }\n  },\n  apis: ['./routes/*.js'], // Archivos donde buscar comentarios de Swagger\n};\n\nconst specs = swaggerJsdoc(options);\n\nmodule.exports = { swaggerUi, specs };\n\n// routes/posts.js \u2014 Con comentarios Swagger\n/**\n * @swagger\n * /posts:\n *   get:\n *     summary: Obtiene todos los posts publicados\n *     tags: [Posts]\n *     parameters:\n *       - in: query\n *         name: pagina\n *         schema:\n *           type: integer\n *           default: 1\n *         description: N\xfamero de p\xe1gina\n *     responses:\n *       200:\n *         description: Lista de posts\n *         content:\n *           application/json:\n *             schema:\n *               type: array\n *               items:\n *                 $ref: '#/components/schemas/Post'\n */\nrouter.get('/', postsController.listar);\n\n/**\n * @swagger\n * /posts:\n *   post:\n *     summary: Crea un nuevo post\n *     tags: [Posts]\n *     security:\n *       - bearerAuth: []\n *     requestBody:\n *       required: true\n *       content:\n *         application/json:\n *           schema:\n *             type: object\n *             required: [titulo, contenido]\n *             properties:\n *               titulo:\n *                 type: string\n *                 example: Mi primer post\n *               contenido:\n *                 type: string\n *     responses:\n *       201:\n *         description: Post creado exitosamente\n *       401:\n *         description: Token requerido\n */\nrouter.post('/', autenticar, postsController.crear);\n\n// app.js \u2014 Montar Swagger\nconst { swaggerUi, specs } = require('./swagger');\napp.use('/api-docs', swaggerUi.serve, swaggerUi.setup(specs));"},concepts_box:[{term:"OpenAPI / Swagger",simple:"Est\xe1ndar para describir APIs REST. Genera documentaci\xf3n interactiva autom\xe1ticamente."},{term:"swagger-ui-express",simple:"Sirve la p\xe1gina web de Swagger UI desde tu servidor Express."},{term:"JSDoc",simple:"Comentarios especiales en el c\xf3digo que documentan funciones, par\xe1metros y respuestas."},{term:"Schema de respuesta",simple:"La definici\xf3n de qu\xe9 estructura tiene la respuesta de un endpoint."},{term:"Tags",simple:"Agrupan endpoints relacionados en la documentaci\xf3n. Ej: Posts, Usuarios, Auth."},{term:"Versioning de API",simple:"Indicar la versi\xf3n (/v1/posts, /v2/posts) para no romper clientes existentes al cambiar."}],resources:[{title:"Swagger UI \u2014 Documentaci\xf3n oficial",url:"https://swagger.io/docs/open-source-tools/swagger-ui"},{title:"OpenAPI Specification \u2014 Aprende el est\xe1ndar",url:"https://spec.openapis.org/oas/latest.html"},{title:"Stripe API Docs \u2014 El gold standard de documentaci\xf3n",url:"https://stripe.com/docs/api"}]},{day:14,emoji:"\ud83c\udf0a",title:"Upload de archivos e im\xe1genes",subtitle:"Subir fotos de perfil, documentos y m\xe1s",analogy:"Subir un archivo a un servidor es como enviar un paquete por correo en lugar de una carta. En lugar de texto, est\xe1s enviando datos binarios (bytes). El servidor necesita 'abrir el paquete', guardar su contenido y darte una direcci\xf3n donde encontrarlo.",concept:"El manejo de archivos es una necesidad com\xfan: fotos de perfil, PDFs, im\xe1genes de productos.\n\nHay dos opciones principales:\n\n\ud83d\udcc1 Guardar en el servidor local \u2014 Simple pero no escala. Si tienes m\xfaltiples servidores, el archivo solo est\xe1 en uno. Problema al hacer deploy.\n\n\u2601\ufe0f Guardar en la nube (Cloudinary, AWS S3, Supabase Storage) \u2014 La forma correcta para producci\xf3n. El archivo va a un servicio especializado y t\xfa guardas solo la URL en tu base de datos.\n\nMulter es la librer\xeda m\xe1s popular para manejar el upload en Express. Se usa como middleware y te da acceso al archivo antes de que decidas qu\xe9 hacer con \xe9l.\n\nPara aprender, Cloudinary tiene un plan gratuito generoso y es muy f\xe1cil de integrar.",questions:["Si guardas los archivos en el servidor local y luego haces deploy en Railway (que puede reiniciar tu servidor), \xbfqu\xe9 le pasar\xeda a los archivos subidos?","\xbfQu\xe9 validaciones har\xedas antes de aceptar un archivo? \xbfQu\xe9 peligros existen si no validas el tipo o el tama\xf1o?","\xbfPor qu\xe9 guardas la URL de la imagen en la base de datos en lugar de la imagen en s\xed misma? \xbfCu\xe1ndo podr\xeda tener sentido guardar la imagen en la DB?"],exercise:{title:"Upload de avatar con Cloudinary",description:"Agrega un endpoint para subir fotos de perfil. El archivo se sube a Cloudinary y la URL se guarda en la base de datos.",steps:["Crea una cuenta gratuita en cloudinary.com","Copia CLOUDINARY_URL al .env","npm install multer cloudinary multer-storage-cloudinary","Crea el endpoint de upload","Prueba subiendo una imagen desde Insomnia"],whatYouWillSee:"Al subir una imagen, recibir\xe1s una URL de Cloudinary. La imagen ser\xe1 accesible desde cualquier navegador del mundo.",code:"// config/cloudinary.js\nconst cloudinary = require('cloudinary').v2;\nconst { CloudinaryStorage } = require('multer-storage-cloudinary');\nconst multer = require('multer');\n\ncloudinary.config({\n  cloudinary_url: process.env.CLOUDINARY_URL // Configura autom\xe1ticamente\n});\n\n// Configura d\xf3nde y c\xf3mo se guardan los archivos\nconst storage = new CloudinaryStorage({\n  cloudinary,\n  params: {\n    folder: 'avatares',          // Carpeta en Cloudinary\n    allowed_formats: ['jpg', 'jpeg', 'png', 'webp'],\n    transformation: [\n      { width: 400, height: 400, crop: 'fill' } // Redimensionar autom\xe1ticamente\n    ]\n  }\n});\n\nconst upload = multer({ \n  storage,\n  limits: { fileSize: 5 * 1024 * 1024 } // M\xe1ximo 5MB\n});\n\nmodule.exports = upload;\n\n// routes/usuarios.js\nconst upload = require('../config/cloudinary');\n\n// POST /usuarios/avatar \u2014 subir foto de perfil\nrouter.post(\n  '/avatar',\n  autenticar,\n  upload.single('avatar'), // 'avatar' es el nombre del campo en el form\n  async (req, res, next) => {\n    try {\n      if (!req.file) {\n        return res.status(400).json({ error: 'No se envi\xf3 ning\xfan archivo' });\n      }\n      \n      // req.file.path es la URL de Cloudinary\n      const usuario = await prisma.usuario.update({\n        where: { id: req.usuario.userId },\n        data: { avatarUrl: req.file.path }\n      });\n      \n      res.json({ \n        mensaje: 'Avatar actualizado',\n        avatarUrl: usuario.avatarUrl \n      });\n    } catch (err) {\n      next(err);\n    }\n  }\n);\n\n// Para testear con curl:\n// curl -X POST http://localhost:3000/usuarios/avatar \\\n//   -H \"Authorization: Bearer TU_TOKEN\" \\\n//   -F \"avatar=@/ruta/a/tu/imagen.jpg\""},concepts_box:[{term:"Multer",simple:"Middleware de Express para manejar archivos en las peticiones (multipart/form-data)."},{term:"multipart/form-data",simple:"El Content-Type especial que se usa para enviar archivos (en lugar de application/json)."},{term:"Cloudinary",simple:"Servicio en la nube para almacenar y transformar im\xe1genes y videos."},{term:"CDN",simple:"Content Delivery Network. Sirve archivos desde servidores cercanos al usuario para ser m\xe1s r\xe1pido."},{term:"Transformaciones",simple:"Cloudinary puede redimensionar, recortar o convertir im\xe1genes autom\xe1ticamente al subirlas."},{term:"S3",simple:"Amazon S3 \u2014 el servicio de almacenamiento de archivos m\xe1s usado en producci\xf3n."}],resources:[{title:"Cloudinary \u2014 Getting Started",url:"https://cloudinary.com/documentation/node_quickstart"},{title:"Multer \u2014 npm documentation",url:"https://www.npmjs.com/package/multer"},{title:"Supabase Storage \u2014 alternativa gratuita",url:"https://supabase.com/docs/guides/storage"}]},{day:15,emoji:"\ud83c\udfaf",title:"Proyecto integrador: Red social mini",subtitle:"Conectar todo lo aprendido en un proyecto real",analogy:"Es hora de construir algo de verdad. Como las semanas de entrenamiento que terminan con un partido real \u2014 este d\xeda es el partido. Vas a crear una mini red social con todo lo que aprendiste.",concept:"El mejor aprendizaje es construir proyectos reales. Hoy integras todo:\n\n\u2022 Base de datos con relaciones (usuarios, posts, likes, follows)\n\u2022 Autenticaci\xf3n con JWT\n\u2022 Subida de im\xe1genes (avatar)\n\u2022 Validaci\xf3n de datos\n\u2022 Manejo de errores\n\u2022 Arquitectura en capas (routes/controllers/services)\n\u2022 Tests b\xe1sicos\n\u2022 Deploy en Railway\n\nNo tiene que ser perfecto. El objetivo es ver c\xf3mo todas las piezas encajan juntas y enfrentarte a los problemas que surgen cuando construyes algo completo.\n\nDespu\xe9s de este proyecto, tendr\xe1s algo que mostrar en entrevistas y en tu portfolio.",questions:["Antes de escribir una l\xednea de c\xf3digo, \xbfqu\xe9 tablas necesitas y qu\xe9 relaciones tienen entre ellas? Dibuja el diagrama en papel.","\xbfCu\xe1l es el orden l\xf3gico para implementar las features? \xbfPor qu\xe9 deber\xeda la autenticaci\xf3n ir antes que la l\xf3gica de posts?","\xbfQu\xe9 feature dejar\xedas para despu\xe9s si tuvieras 4 horas para hacer un MVP funcional? Prioriza."],exercise:{title:"Mini red social \u2014 Backend completo",description:"Construye el backend completo de una mini red social con las features listadas abajo. No hay c\xf3digo gu\xeda esta vez \u2014 usa todo lo aprendido.",steps:["Dise\xf1a el schema de Prisma (usuarios, posts, follows, likes)","Implementa autenticaci\xf3n (registro/login)","Implementa CRUD de posts con im\xe1genes","Implementa follows (seguir/dejar de seguir usuarios)","Implementa likes en posts","Crea el endpoint de feed (posts de usuarios que sigues)","Documenta con Swagger","Haz deploy en Railway"],whatYouWillSee:"Una API completa y desplegada que puedes mostrar en tu portfolio. El mismo tipo de backend que usan las redes sociales reales, en miniatura.",code:'// prisma/schema.prisma \u2014 Schema completo\nmodel Usuario {\n  id          Int       @id @default(autoincrement())\n  nombre      String\n  email       String    @unique\n  passwordHash String\n  avatarUrl   String?\n  bio         String?\n  creadoEn    DateTime  @default(now())\n  \n  posts       Post[]\n  likes       Like[]\n  seguidores  Follow[]  @relation("seguidores")\n  seguidos    Follow[]  @relation("seguidos")\n}\n\nmodel Post {\n  id        Int      @id @default(autoincrement())\n  contenido String\n  imagenUrl String?\n  creadoEn  DateTime @default(now())\n  \n  usuario   Usuario  @relation(fields: [usuarioId], references: [id])\n  usuarioId Int\n  likes     Like[]\n}\n\nmodel Like {\n  id        Int      @id @default(autoincrement())\n  usuario   Usuario  @relation(fields: [usuarioId], references: [id])\n  usuarioId Int\n  post      Post     @relation(fields: [postId], references: [id])\n  postId    Int\n  \n  @@unique([usuarioId, postId]) // Un usuario solo puede dar like una vez\n}\n\nmodel Follow {\n  id          Int      @id @default(autoincrement())\n  seguidor    Usuario  @relation("seguidores", fields: [seguidorId], references: [id])\n  seguidorId  Int\n  seguido     Usuario  @relation("seguidos", fields: [seguidoId], references: [id])\n  seguidoId   Int\n  creadoEn    DateTime @default(now())\n  \n  @@unique([seguidorId, seguidoId])\n}\n\n// Endpoints que debes implementar:\n// POST   /auth/registro         \u2192 Registrar usuario\n// POST   /auth/login            \u2192 Login, devuelve JWT\n// GET    /usuarios/:id          \u2192 Ver perfil de usuario\n// POST   /posts                 \u2192 Crear post (con imagen opcional)\n// DELETE /posts/:id             \u2192 Eliminar post (solo el due\xf1o)\n// POST   /posts/:id/like        \u2192 Dar like\n// DELETE /posts/:id/like        \u2192 Quitar like\n// POST   /usuarios/:id/follow   \u2192 Seguir usuario\n// DELETE /usuarios/:id/follow   \u2192 Dejar de seguir\n// GET    /feed                  \u2192 Posts de usuarios que sigo'},concepts_box:[{term:"MVP",simple:"Minimum Viable Product. La versi\xf3n m\xe1s simple que funciona. Construye esto primero."},{term:"Schema de base de datos",simple:"El dise\xf1o de tus tablas y relaciones. Es lo m\xe1s importante \u2014 un mal dise\xf1o es muy costoso de cambiar."},{term:"Relaci\xf3n many-to-many",simple:"Muchos usuarios pueden seguir a muchos usuarios. Se necesita tabla intermedia (Follow)."},{term:"Constraint UNIQUE compuesto",simple:"@@unique([userId, postId]) \u2014 la combinaci\xf3n de ambos campos debe ser \xfanica. Evita likes duplicados."},{term:"Feed algor\xedtmico",simple:"Los posts mostrados se seleccionan por un criterio (cronol\xf3gico, relevancia). Empieza con el m\xe1s simple: cronol\xf3gico."},{term:"Portfolio",simple:"Tu colecci\xf3n de proyectos que muestras en entrevistas. Este proyecto deber\xeda estar ah\xed."}],resources:[{title:"GitHub \u2014 Crea un repositorio y sube tu proyecto",url:"https://github.com"},{title:"Railway \u2014 Despliega tu proyecto",url:"https://railway.app"},{title:"Readme.so \u2014 Crea un README profesional para tu proyecto",url:"https://readme.so/es"}]}]},{id:4,emoji:"\ud83c\udf1f",title:"Full Stack: Conectar Frontend y Backend",tagline:"Ver la imagen completa y los pr\xf3ximos pasos",color:"#10B981",light:"#ECFDF5",border:"#A7F3D0",days:[{day:16,emoji:"\u269b\ufe0f",title:"Conectar React con tu API",subtitle:"El frontend habla con el backend que construiste",analogy:"Hasta ahora construiste la cocina del restaurante. Hoy construyes el comedor \u2014 la parte que los clientes ven. React es el comedor, tu API Express es la cocina. El mozo (fetch/axios) lleva los pedidos de un lado a otro.",concept:"Una aplicaci\xf3n full stack tiene:\n\u2022 FRONTEND (React, Vue, etc.) \u2014 Lo que el usuario ve en el navegador. Hace peticiones al backend.\n\u2022 BACKEND (Express + Node.js) \u2014 Tu API. Recibe peticiones, procesa y devuelve datos.\n\nLa comunicaci\xf3n es siempre HTTP: el frontend hace fetch() o usa axios para llamar a tu API.\n\nPuntos clave para la integraci\xf3n:\n\u2022 CORS: tu API necesita permitir peticiones del dominio del frontend\n\u2022 Manejo de tokens: el token JWT se guarda en el frontend y se manda en cada petici\xf3n protegida\n\u2022 Estado global: en React, puedes usar Context API o Zustand para guardar el usuario logueado\n\u2022 Gesti\xf3n de errores: el frontend necesita manejar cuando la API devuelve 401, 404, 500\n\nAxios es una librer\xeda popular que hace m\xe1s f\xe1cil hacer peticiones HTTP y manejar errores.",questions:["\xbfD\xf3nde guarda el token JWT el frontend? \xbflocalStorage, sessionStorage, o cookies? \xbfCu\xe1les son los pros y contras de cada opci\xf3n?","Si el token expira mientras el usuario est\xe1 usando la app, \xbfqu\xe9 deber\xeda pasar? \xbfC\xf3mo lo manejar\xedas en el frontend?","\xbfQu\xe9 diferencia hay entre hacer el fetch directo en un componente de React vs. crear un 'servicio' de API separado? \xbfCu\xe1l escala mejor?"],exercise:{title:"Frontend React para tu mini red social",description:"Crea una app React que consuma tu API. Implementa login, ver el feed, y crear posts.",steps:["npm create vite@latest frontend -- --template react","cd frontend && npm install axios","Crea el servicio de API (api.js)","Crea el contexto de autenticaci\xf3n","Crea las p\xe1ginas: Login, Feed, CrearPost","Conecta con tu API desplegada en Railway"],whatYouWillSee:"Una app web completa que funciona \u2014 el usuario puede loguearse, ver posts y crear nuevos. Full stack de verdad.",code:"// src/services/api.js \u2014 Servicio centralizado para la API\nimport axios from 'axios';\n\nconst api = axios.create({\n  baseURL: import.meta.env.VITE_API_URL || 'http://localhost:3000'\n});\n\n// Interceptor: a\xf1ade el token JWT autom\xe1ticamente a cada petici\xf3n\napi.interceptors.request.use((config) => {\n  const token = localStorage.getItem('token');\n  if (token) {\n    config.headers.Authorization = `Bearer ${token}`;\n  }\n  return config;\n});\n\n// Interceptor: si recibe 401, redirige al login\napi.interceptors.response.use(\n  (response) => response,\n  (error) => {\n    if (error.response?.status === 401) {\n      localStorage.removeItem('token');\n      window.location.href = '/login';\n    }\n    return Promise.reject(error);\n  }\n);\n\nexport const authService = {\n  login: (email, password) => api.post('/auth/login', { email, password }),\n  registro: (datos) => api.post('/auth/registro', datos),\n};\n\nexport const postsService = {\n  getFeed: () => api.get('/feed'),\n  crear: (datos) => api.post('/posts', datos),\n  darLike: (id) => api.post(`/posts/${id}/like`),\n};\n\n// src/context/AuthContext.jsx\nimport { createContext, useContext, useState } from 'react';\nimport { authService } from '../services/api';\n\nconst AuthContext = createContext(null);\n\nexport function AuthProvider({ children }) {\n  const [usuario, setUsuario] = useState(() => {\n    const guardado = localStorage.getItem('usuario');\n    return guardado ? JSON.parse(guardado) : null;\n  });\n\n  const login = async (email, password) => {\n    const { data } = await authService.login(email, password);\n    localStorage.setItem('token', data.token);\n    localStorage.setItem('usuario', JSON.stringify(data.usuario));\n    setUsuario(data.usuario);\n  };\n\n  const logout = () => {\n    localStorage.removeItem('token');\n    localStorage.removeItem('usuario');\n    setUsuario(null);\n  };\n\n  return (\n    <AuthContext.Provider value={{ usuario, login, logout }}>\n      {children}\n    </AuthContext.Provider>\n  );\n}\n\nexport const useAuth = () => useContext(AuthContext);"},concepts_box:[{term:"Axios",simple:"Librer\xeda para hacer peticiones HTTP. M\xe1s funcional que fetch() nativo con interceptors, cancelaci\xf3n, etc."},{term:"Interceptor",simple:"Funci\xf3n que se ejecuta antes o despu\xe9s de cada petici\xf3n/respuesta de Axios. Perfecta para el token JWT."},{term:"Context API",simple:"Sistema de React para compartir estado (como el usuario logueado) entre componentes sin pasar props."},{term:"VITE_API_URL",simple:"Variable de entorno en el frontend. En Vite, las variables de env empiezan con VITE_."},{term:"Vite",simple:"Herramienta moderna para crear proyectos React. M\xe1s r\xe1pida que Create React App."},{term:"Full Stack",simple:"Desarrollador/aplicaci\xf3n que maneja tanto el frontend como el backend."}],resources:[{title:"Axios \u2014 Documentaci\xf3n oficial",url:"https://axios-http.com/es/docs/intro"},{title:"Vite \u2014 Getting Started",url:"https://vitejs.dev/guide"},{title:"React Context API \u2014 Documentaci\xf3n oficial",url:"https://react.dev/learn/passing-data-deeply-with-context"}]},{day:17,emoji:"\ud83d\udd04",title:"Estado, cach\xe9 y React Query",subtitle:"Manejar datos del servidor de forma inteligente",analogy:"Cada vez que navegas a una p\xe1gina que ya visitaste, \xbftu app deber\xeda volver a pedir los datos al servidor? A veces s\xed (datos que cambian mucho), a veces no (datos que cambian poco). React Query maneja esto por ti autom\xe1ticamente \u2014 es como tener un asistente inteligente que sabe cu\xe1ndo buscar datos frescos.",concept:"Manejar el estado del servidor en el frontend tiene retos:\n\u2022 \xbfCu\xe1ndo recargar los datos?\n\u2022 \xbfC\xf3mo mostrar loading y errores?\n\u2022 \xbfC\xf3mo sincronizar datos entre componentes?\n\u2022 \xbfC\xf3mo optimizar para no hacer peticiones innecesarias?\n\nReact Query (ahora TanStack Query) resuelve todos estos problemas con un enfoque declarativo:\n\u2022 useQuery() \u2014 para GET requests. Cachea, recarga autom\xe1ticamente, maneja loading/error.\n\u2022 useMutation() \u2014 para POST/PUT/DELETE. Invalida el cach\xe9 cuando necesitas datos frescos.\n\nAdem\xe1s de React Query, aprender\xe1s hoy el concepto de optimistic updates: actualizar la UI inmediatamente (como si la petici\xf3n ya tuvo \xe9xito) para dar sensaci\xf3n de rapidez, y revertir si falla.",questions:["\xbfPor qu\xe9 el cach\xe9 del lado del cliente (React Query) es diferente del cach\xe9 del servidor (Redis)? \xbfCada uno resuelve qu\xe9 problema?","\xbfCu\xe1l es el riesgo de los 'optimistic updates'? \xbfQu\xe9 pasa si el servidor rechaza la operaci\xf3n despu\xe9s de que ya actualizaste la UI?","Si tienes 5 componentes en la misma p\xe1gina que necesitan los datos del usuario logueado, \xbfcu\xe1ntas peticiones se hacen al servidor con React Query? \xbfPor qu\xe9?"],exercise:{title:"Refactorizar el Feed con React Query",description:"Reemplaza los useState/useEffect manuales por React Query para el feed de posts y la mutaci\xf3n de likes.",steps:["npm install @tanstack/react-query","Envuelve tu app con QueryClientProvider","Reemplaza el useEffect del feed con useQuery","Reemplaza el handler de like con useMutation","Configura la invalidaci\xf3n del cach\xe9 al dar like"],whatYouWillSee:"El feed se recarga autom\xe1ticamente, el loading state funciona sin esfuerzo, y los likes se actualizan en tiempo real.",code:"// main.jsx \u2014 Configurar React Query\nimport { QueryClient, QueryClientProvider } from '@tanstack/react-query';\n\nconst queryClient = new QueryClient({\n  defaultOptions: {\n    queries: {\n      staleTime: 1000 * 60,  // Datos \"frescos\" por 1 minuto\n      retry: 1,              // Reintentar solo 1 vez en error\n    }\n  }\n});\n\nfunction App() {\n  return (\n    <QueryClientProvider client={queryClient}>\n      <AuthProvider>\n        <Router />\n      </AuthProvider>\n    </QueryClientProvider>\n  );\n}\n\n// components/Feed.jsx \u2014 Con React Query\nimport { useQuery, useMutation, useQueryClient } from '@tanstack/react-query';\nimport { postsService } from '../services/api';\n\nfunction Feed() {\n  const queryClient = useQueryClient();\n  \n  // useQuery \u2014 maneja loading, error y cach\xe9 autom\xe1ticamente\n  const { data: posts, isLoading, error } = useQuery({\n    queryKey: ['feed'],           // Clave \xfanica para el cach\xe9\n    queryFn: () => postsService.getFeed().then(r => r.data)\n  });\n  \n  // useMutation \u2014 para dar like\n  const likeMutation = useMutation({\n    mutationFn: (postId) => postsService.darLike(postId),\n    onSuccess: () => {\n      // Invalida el cach\xe9 del feed para que se recargue\n      queryClient.invalidateQueries({ queryKey: ['feed'] });\n    },\n    // Optimistic update \u2014 actualiza la UI antes de que responda el servidor\n    onMutate: async (postId) => {\n      await queryClient.cancelQueries({ queryKey: ['feed'] });\n      const previous = queryClient.getQueryData(['feed']);\n      \n      queryClient.setQueryData(['feed'], (old) =>\n        old.map(post => post.id === postId \n          ? { ...post, likes: post.likes + 1 }\n          : post\n        )\n      );\n      \n      return { previous }; // Para poder revertir si falla\n    },\n    onError: (err, postId, context) => {\n      // Revertir si el servidor rechaz\xf3 el like\n      queryClient.setQueryData(['feed'], context.previous);\n    }\n  });\n  \n  if (isLoading) return <div>Cargando feed...</div>;\n  if (error) return <div>Error al cargar el feed</div>;\n  \n  return (\n    <div>\n      {posts.map(post => (\n        <PostCard \n          key={post.id} \n          post={post}\n          onLike={() => likeMutation.mutate(post.id)}\n        />\n      ))}\n    </div>\n  );\n}"},concepts_box:[{term:"React Query / TanStack Query",simple:"Librer\xeda para manejar el estado del servidor: fetching, caching, sincronizaci\xf3n y actualizaciones."},{term:"queryKey",simple:"Clave \xfanica que identifica un query en el cach\xe9. Cuando cambia, React Query vuelve a pedir los datos."},{term:"staleTime",simple:"Cu\xe1nto tiempo considerar los datos 'frescos'. Despu\xe9s, se vuelven a pedir en el fondo."},{term:"invalidateQueries",simple:"Le dice a React Query que los datos en cach\xe9 est\xe1n desactualizados y deben volver a pedirse."},{term:"Optimistic update",simple:"Actualizar la UI inmediatamente como si el servidor ya respondi\xf3. Mejora la sensaci\xf3n de rapidez."},{term:"useMutation",simple:"Hook de React Query para operaciones que modifican datos (POST, PUT, DELETE)."}],resources:[{title:"TanStack Query \u2014 Documentaci\xf3n oficial",url:"https://tanstack.com/query/latest"},{title:"React Query en 30 minutos \u2014 video tutorial",url:"https://www.youtube.com/watch?v=r8Dg0KVnfMA"}]},{day:18,emoji:"\u23f1\ufe0f",title:"Tiempo real con WebSockets",subtitle:"Notificaciones y chat que se actualizan solos",analogy:"HTTP normal es como mandar cartas: t\xfa preguntas, el servidor responde. WebSockets son como una llamada telef\xf3nica: la conexi\xf3n queda abierta y cualquiera de los dos puede hablar cuando quiera. Perfecto para chat, notificaciones en tiempo real, juegos, y m\xe1s.",concept:"HTTP tiene una limitaci\xf3n: el cliente siempre tiene que iniciar la conversaci\xf3n. Para datos en tiempo real (chat, notificaciones, precios en vivo), esto no es eficiente.\n\nWebSocket abre una conexi\xf3n persistente bidireccional:\n\u2022 Cliente y servidor pueden enviarse mensajes en cualquier momento\n\u2022 Sin necesidad de hacer nuevas peticiones HTTP\n\u2022 Mucho menos overhead que hacer polling (preguntar cada X segundos)\n\nSocket.io es la librer\xeda m\xe1s popular para WebSockets en Node.js. A\xf1ade:\n\u2022 Reconexi\xf3n autom\xe1tica si se cae la conexi\xf3n\n\u2022 Salas (rooms) para grupos de usuarios\n\u2022 Eventos con nombre (en lugar de mensajes binarios)\n\u2022 Fallback a HTTP polling si WebSockets no est\xe1 disponible",questions:["\xbfCu\xe1l es la diferencia entre polling (preguntar cada 5 segundos) y WebSockets? \xbfCu\xe1ndo polling es suficiente?","Si tienes 10,000 usuarios conectados con WebSockets, \xbfqu\xe9 implica eso para el servidor? \xbfQu\xe9 recursos consume?","En un chat grupal, \xbfc\xf3mo env\xedas un mensaje a todos en una sala sin envi\xe1rselo a usuarios que no est\xe1n en esa sala? \xbfQu\xe9 concepto de Socket.io lo resuelve?"],exercise:{title:"Chat en tiempo real con Socket.io",description:"Agrega un chat en tiempo real a tu red social. Los mensajes aparecen instant\xe1neamente sin recargar la p\xe1gina.",steps:["npm install socket.io (en el backend)","npm install socket.io-client (en el frontend)","Configura Socket.io en tu servidor Express","Crea los eventos: 'unirse-a-sala', 'nuevo-mensaje', 'mensaje-recibido'","Crea el componente de chat en React"],whatYouWillSee:"Abre dos pesta\xf1as del navegador y chatea contigo mismo en tiempo real. Los mensajes aparecen al instante en ambas pesta\xf1as.",code:"// backend/app.js \u2014 Integrar Socket.io con Express\nconst { createServer } = require('http');\nconst { Server } = require('socket.io');\nconst express = require('express');\n\nconst app = express();\nconst httpServer = createServer(app); // Socket.io necesita el servidor HTTP nativo\n\nconst io = new Server(httpServer, {\n  cors: { origin: process.env.FRONTEND_URL || 'http://localhost:5173' }\n});\n\n// Guardar mensajes en memoria (en producci\xf3n usar\xedas la DB)\nconst mensajesPorSala = {};\n\nio.on('connection', (socket) => {\n  console.log('Usuario conectado:', socket.id);\n  \n  // El cliente se une a una \"sala\" (conversaci\xf3n)\n  socket.on('unirse-a-sala', ({ salaId, nombreUsuario }) => {\n    socket.join(salaId);\n    socket.data.nombreUsuario = nombreUsuario;\n    socket.data.salaActual = salaId;\n    \n    // Enviar historial de mensajes al que se une\n    const historial = mensajesPorSala[salaId] || [];\n    socket.emit('historial', historial);\n    \n    // Notificar a los dem\xe1s en la sala\n    socket.to(salaId).emit('usuario-entro', { nombreUsuario });\n  });\n  \n  // El cliente env\xeda un mensaje\n  socket.on('enviar-mensaje', ({ texto }) => {\n    const { salaActual, nombreUsuario } = socket.data;\n    \n    const mensaje = {\n      id: Date.now(),\n      texto,\n      autor: nombreUsuario,\n      hora: new Date().toISOString()\n    };\n    \n    // Guardar en historial\n    if (!mensajesPorSala[salaActual]) mensajesPorSala[salaActual] = [];\n    mensajesPorSala[salaActual].push(mensaje);\n    \n    // Enviar a TODOS en la sala (incluyendo quien lo envi\xf3)\n    io.to(salaActual).emit('nuevo-mensaje', mensaje);\n  });\n  \n  socket.on('disconnect', () => {\n    const { salaActual, nombreUsuario } = socket.data;\n    if (salaActual) {\n      socket.to(salaActual).emit('usuario-salio', { nombreUsuario });\n    }\n  });\n});\n\nhttpServer.listen(3000); // Usa httpServer, NO app.listen()\n\n// frontend/Chat.jsx \u2014 Componente React\nimport { useEffect, useRef, useState } from 'react';\nimport { io } from 'socket.io-client';\n\nconst socket = io(import.meta.env.VITE_API_URL);\n\nfunction Chat({ salaId }) {\n  const [mensajes, setMensajes] = useState([]);\n  const [texto, setTexto] = useState('');\n  const { usuario } = useAuth();\n  \n  useEffect(() => {\n    socket.emit('unirse-a-sala', { salaId, nombreUsuario: usuario.nombre });\n    \n    socket.on('historial', setMensajes);\n    socket.on('nuevo-mensaje', (msg) => {\n      setMensajes(prev => [...prev, msg]);\n    });\n    \n    return () => {\n      socket.off('historial');\n      socket.off('nuevo-mensaje');\n    };\n  }, [salaId]);\n  \n  const enviar = () => {\n    if (!texto.trim()) return;\n    socket.emit('enviar-mensaje', { texto });\n    setTexto('');\n  };\n  \n  return (\n    <div>\n      <div>{mensajes.map(m => <p key={m.id}><b>{m.autor}:</b> {m.texto}</p>)}</div>\n      <input value={texto} onChange={e => setTexto(e.target.value)} />\n      <button onClick={enviar}>Enviar</button>\n    </div>\n  );\n}"},concepts_box:[{term:"WebSocket",simple:"Protocolo de comunicaci\xf3n bidireccional y persistente entre cliente y servidor."},{term:"Socket.io",simple:"Librer\xeda que facilita el uso de WebSockets con reconexi\xf3n autom\xe1tica, salas y eventos nombrados."},{term:"Sala (Room)",simple:"Grupo de sockets en Socket.io. Puedes emitir un evento a toda la sala a la vez."},{term:"socket.emit()",simple:"Env\xeda un evento solo a ese socket (una persona)."},{term:"io.to(sala).emit()",simple:"Env\xeda un evento a TODOS los sockets en una sala."},{term:"Polling",simple:"Preguntar al servidor cada N segundos si hay novedades. Menos eficiente que WebSockets pero m\xe1s simple."}],resources:[{title:"Socket.io \u2014 Tutorial oficial paso a paso",url:"https://socket.io/get-started/chat"},{title:"WebSockets explicados \u2014 Mozilla MDN",url:"https://developer.mozilla.org/es/docs/Web/API/WebSockets_API"}]},{day:19,emoji:"\ud83d\uddfa\ufe0f",title:"\xbfY ahora qu\xe9? Hoja de ruta y pr\xf3ximos pasos",subtitle:"Tienes las bases \u2014 este es el camino que sigue",analogy:"Aprender a programar es como aprender a nadar. En estas 4 semanas aprendiste a no ahogarte y a hacer los movimientos b\xe1sicos. Ahora puedes nadar de verdad. El siguiente nivel es aprender diferentes estilos, nadar m\xe1s r\xe1pido, y eventualmente cruzar el canal.",concept:"Felicidades \u2014 terminaste el programa. Esto es lo que sabes construir ahora:\n\n\u2705 APIs REST con Express y Node.js\n\u2705 Bases de datos relacionales con PostgreSQL y Prisma\n\u2705 Autenticaci\xf3n con JWT y bcrypt\n\u2705 Validaci\xf3n de datos con Zod\n\u2705 Subida de archivos a la nube\n\u2705 Testing con Jest y Supertest\n\u2705 Deploy con Railway\n\u2705 Comunicaci\xf3n en tiempo real con WebSockets\n\u2705 Integraci\xf3n de frontend React con backend\n\nEsto es suficiente para tu primer trabajo o proyecto freelance. El resto se aprende construyendo cosas reales.\n\nPero si quieres seguir creciendo, estos son los temas que te convertir\xe1n en un developer senior:",questions:["De todo lo que aprendiste, \xbfqu\xe9 es lo que m\xe1s te cost\xf3 entender? Vale la pena revisar eso.","\xbfQu\xe9 proyecto personal construir\xedas con lo que sabes ahora? Descr\xedbelo en t\xe9rminos de tablas, endpoints y features.","\xbfCu\xe1l es la diferencia entre saber los conceptos y poder aplicarlos sin ayuda? \xbfC\xf3mo llegas al segundo nivel?"],exercise:{title:"Plan de estudio personal \u2014 pr\xf3ximas 8 semanas",description:"Crea tu propio plan de estudio basado en qu\xe9 quieres construir. No hay c\xf3digo gu\xeda \u2014 el ejercicio es reflexivo.",steps:["Escribe 3 proyectos que te gustar\xeda construir","Para cada uno, identifica qu\xe9 tecnolog\xedas necesitar\xedas aprender","Elige UNO y empieza a construirlo esta semana","Encuentra una comunidad (Discord de Midudev, freeCodeCamp en espa\xf1ol, etc.)","Publica tu proyecto en GitHub"],whatYouWillSee:"Un mapa claro de ad\xf3nde vas y c\xf3mo llegar. El mejor aprendizaje ahora es construir proyectos que te importen.",code:'// Tu hoja de ruta \u2014 pr\xf3ximos 6-12 meses\n\n/* NIVEL INTERMEDIO (lo que sigue)\n * \n * \ud83d\udcca Bases de datos avanzadas\n *    - \xcdndices y optimizaci\xf3n de queries (EXPLAIN ANALYZE)\n *    - Redis para cach\xe9 y sesiones\n *    - Transacciones y ACID\n * \n * \ud83d\udd12 Seguridad\n *    - OWASP Top 10 (los ataques m\xe1s comunes)\n *    - Rate limiting y protecci\xf3n contra bots\n *    - Variables de entorno y secretos en producci\xf3n\n * \n * \ud83c\udfd7\ufe0f Arquitectura\n *    - Clean Architecture / Hexagonal Architecture  \n *    - Domain-Driven Design (DDD) b\xe1sico\n *    - Patrones de dise\xf1o comunes (Repository, Factory, etc.)\n * \n * \ud83d\udc33 DevOps b\xe1sico\n *    - Docker y Docker Compose\n *    - CI/CD con GitHub Actions\n *    - Monitoreo y logs (Sentry para errores)\n * \n * \ud83d\udce1 Comunicaci\xf3n avanzada\n *    - GraphQL (alternativa a REST)\n *    - Message queues (BullMQ, RabbitMQ)\n *    - Webhooks\n */\n\n/* RECURSOS RECOMENDADOS\n *\n * \ud83d\udcda Libros:\n *    - "Clean Code" \u2014 Robert C. Martin\n *    - "The Pragmatic Programmer" \u2014 Hunt & Thomas\n *    - "Designing Data-Intensive Applications" \u2014 Kleppmann\n * \n * \ud83c\udfa5 Canales de YouTube en espa\xf1ol:\n *    - Midudev \u2014 fullstack, entrevistas, proyectos\n *    - Hola Mundo \u2014 fundamentos y proyectos\n *    - Fazt Code \u2014 tutoriales pr\xe1cticos\n * \n * \ud83d\udee0\ufe0f Practica con:\n *    - LeetCode (algoritmos para entrevistas)\n *    - roadmap.sh/backend (mapa visual completo)\n *    - frontendmentor.io (proyectos frontend con dise\xf1o)\n * \n * \ud83d\udcac Comunidades:\n *    - Discord de Midudev\n *    - GitHub Discussions\n *    - Dev.to en espa\xf1ol\n */\n\n// El secreto del aprendizaje acelerado:\n// CONSTRUYE \u2192 ROMPE \u2192 DEBUGGEA \u2192 ENTIENDE \u2192 REPITE\n// No hay atajo. Cada bug que resuelves vale m\xe1s que 10 tutoriales.'},concepts_box:[{term:"Docker",simple:"Empaqueta tu app y sus dependencias en un 'contenedor' que funciona igual en cualquier m\xe1quina."},{term:"CI/CD",simple:"Automatizar los tests y el deploy cada vez que haces push al repositorio."},{term:"TypeScript",simple:"JavaScript con tipos. Detecta errores en el editor antes de correr el c\xf3digo."},{term:"GraphQL",simple:"Alternativa a REST donde el cliente especifica exactamente qu\xe9 datos quiere."},{term:"Microservicios",simple:"Dividir una app en servicios peque\xf1os e independientes. Para cuando el monolito crece demasiado."},{term:"roadmap.sh",simple:"Recurso gratuito con mapas visuales de qu\xe9 aprender para frontend, backend, DevOps y m\xe1s."}],resources:[{title:"roadmap.sh/backend \u2014 Mapa completo de Backend Developer",url:"https://roadmap.sh/backend"},{title:"roadmap.sh/full-stack \u2014 Mapa de Full Stack Developer",url:"https://roadmap.sh/full-stack"},{title:"freeCodeCamp en espa\xf1ol \u2014 cursos gratuitos",url:"https://www.freecodecamp.org/espanol"},{title:"Midudev \u2014 YouTube en espa\xf1ol",url:"https://www.youtube.com/@midudev"}]}]}]};function H(){const[e,n]=(0,a.useState)(0),[t,r]=(0,a.useState)(0),[o,i]=(0,a.useState)("concept"),s=B.weeks[e],l=s.days[t],c=B.weeks.flatMap(e=>e.days),d=c.findIndex(e=>e.day===l.day),p=c.length,m=d/p*100;return(0,u.jsxs)("div",{style:{minHeight:"100vh",background:"#FAFAF8",fontFamily:"'Georgia', 'Times New Roman', serif",display:"flex",flexDirection:"column",color:"#1A1A1A"},children:[(0,u.jsxs)("div",{style:{background:"white",borderBottom:"2px solid #E8E4DC",padding:"0 32px",display:"flex",alignItems:"center",height:"64px",gap:"20px"},children:[(0,u.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[(0,u.jsx)("span",{style:{fontSize:"24px"},children:"\ud83c\udf31"}),(0,u.jsxs)("div",{children:[(0,u.jsx)("div",{style:{fontFamily:"'Georgia', serif",fontSize:"15px",fontWeight:"700",letterSpacing:"-0.02em",color:"#1A1A1A"},children:"Backend desde Cero"}),(0,u.jsx)("div",{style:{fontSize:"11px",color:"#999",fontFamily:"monospace"},children:"4 semanas \xb7 19 d\xedas \xb7 de cero a full stack"})]})]}),(0,u.jsxs)("div",{style:{flex:1,margin:"0 24px"},children:[(0,u.jsx)("div",{style:{height:"6px",borderRadius:"3px",background:"#E8E4DC",overflow:"hidden"},children:(0,u.jsx)("div",{style:{height:"100%",width:"".concat(m,"%"),background:"linear-gradient(90deg, ".concat(s.color,", ").concat(s.color,"CC)"),borderRadius:"3px",transition:"width 0.4s ease"}})}),(0,u.jsxs)("div",{style:{fontSize:"10px",color:"#BBB",marginTop:"3px",fontFamily:"monospace"},children:["D\xeda ",l.day," de ",p," \u2014 ",Math.round(m),"% completado"]})]}),(0,u.jsx)("div",{style:{display:"flex",gap:"6px"},children:B.weeks.map((t,a)=>(0,u.jsx)("button",{onClick:()=>{n(a),r(0),i("concept")},style:{width:"32px",height:"32px",borderRadius:"50%",border:"2px solid ".concat(e===a?t.color:"#E8E4DC"),background:e===a?t.color:"white",color:e===a?"white":"#999",fontSize:"14px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s"},children:t.emoji},a))})]}),(0,u.jsxs)("div",{style:{display:"flex",flex:1,overflow:"hidden"},children:[(0,u.jsxs)("div",{style:{width:"240px",flexShrink:0,background:"white",borderRight:"1px solid #E8E4DC",overflowY:"auto",padding:"16px 0"},children:[(0,u.jsxs)("div",{style:{padding:"8px 20px 16px",borderBottom:"1px solid #F0EDE8",marginBottom:"8px"},children:[(0,u.jsx)("div",{style:{fontSize:"20px",marginBottom:"4px"},children:s.emoji}),(0,u.jsxs)("div",{style:{fontSize:"12px",fontWeight:"700",color:s.color,fontFamily:"monospace",letterSpacing:"0.05em",marginBottom:"4px"},children:["SEMANA ",s.id]}),(0,u.jsx)("div",{style:{fontSize:"12px",color:"#555",lineHeight:"1.4",fontFamily:"sans-serif"},children:s.title})]}),s.days.map((e,n)=>(0,u.jsx)("div",{onClick:()=>{r(n),i("concept")},style:{padding:"10px 20px",cursor:"pointer",borderLeft:t===n?"3px solid ".concat(s.color):"3px solid transparent",background:t===n?"".concat(s.color,"0A"):"transparent"},children:(0,u.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,u.jsx)("span",{style:{fontSize:"16px"},children:e.emoji}),(0,u.jsxs)("div",{children:[(0,u.jsxs)("div",{style:{fontSize:"10px",color:t===n?s.color:"#BBB",fontFamily:"monospace",marginBottom:"2px"},children:["D\xcdA ",e.day]}),(0,u.jsx)("div",{style:{fontSize:"12px",color:t===n?"#1A1A1A":"#777",fontFamily:"sans-serif",lineHeight:"1.3"},children:e.title})]})]})},n)),(0,u.jsxs)("div",{style:{marginTop:"16px",padding:"16px 20px 0",borderTop:"1px solid #F0EDE8"},children:[(0,u.jsx)("div",{style:{fontSize:"10px",color:"#CCC",fontFamily:"monospace",marginBottom:"8px"},children:"OTRAS SEMANAS"}),B.weeks.filter((n,t)=>t!==e).map((e,t)=>(0,u.jsxs)("div",{onClick:()=>{n(B.weeks.indexOf(e)),r(0),i("concept")},style:{display:"flex",alignItems:"center",gap:"8px",padding:"8px 0",cursor:"pointer",borderBottom:"1px solid #F5F3F0"},children:[(0,u.jsx)("span",{style:{fontSize:"16px"},children:e.emoji}),(0,u.jsxs)("div",{children:[(0,u.jsxs)("div",{style:{fontSize:"11px",color:e.color,fontFamily:"monospace"},children:["S",e.id]}),(0,u.jsx)("div",{style:{fontSize:"11px",color:"#777",fontFamily:"sans-serif"},children:e.tagline})]})]},t))]})]}),(0,u.jsxs)("div",{style:{flex:1,display:"flex",flexDirection:"column",overflow:"hidden"},children:[(0,u.jsxs)("div",{style:{background:"white",borderBottom:"1px solid #E8E4DC",padding:"20px 32px 16px"},children:[(0,u.jsxs)("div",{style:{display:"flex",alignItems:"flex-start",gap:"16px"},children:[(0,u.jsx)("span",{style:{fontSize:"36px",lineHeight:1},children:l.emoji}),(0,u.jsxs)("div",{style:{flex:1},children:[(0,u.jsxs)("div",{style:{fontSize:"11px",color:s.color,fontFamily:"monospace",letterSpacing:"0.08em",marginBottom:"4px",fontWeight:"700"},children:["D\xcdA ",l.day," \xb7 SEMANA ",s.id," \u2014 ",s.title]}),(0,u.jsx)("h1",{style:{fontSize:"22px",fontWeight:"700",margin:"0 0 4px",letterSpacing:"-0.02em",lineHeight:"1.2"},children:l.title}),(0,u.jsx)("div",{style:{fontSize:"14px",color:"#777",fontFamily:"sans-serif"},children:l.subtitle})]})]}),(0,u.jsx)("div",{style:{display:"flex",gap:"2px",marginTop:"16px",overflowX:"auto"},children:[{id:"concept",label:"\ud83d\udcd6 Concepto"},{id:"analogy",label:"\ud83d\udca1 Analog\xeda"},{id:"questions",label:"\ud83e\udd14 Preguntas"},{id:"exercise",label:"\ud83d\udee0\ufe0f Ejercicio"},{id:"keywords",label:"\ud83d\udd11 Glosario"},{id:"resources",label:"\ud83d\udcda Recursos"}].map(e=>(0,u.jsx)("button",{onClick:()=>i(e.id),style:{padding:"7px 14px",border:"none",borderRadius:"6px",background:o===e.id?s.color:"transparent",color:o===e.id?"white":"#888",cursor:"pointer",fontSize:"12px",fontFamily:"sans-serif",whiteSpace:"nowrap",transition:"all 0.15s",fontWeight:o===e.id?"600":"400"},children:e.label},e.id))})]}),(0,u.jsx)("div",{style:{flex:1,overflowY:"auto",padding:"32px"},children:(0,u.jsxs)("div",{style:{maxWidth:"760px"},children:["concept"===o&&(0,u.jsx)("div",{children:(0,u.jsx)("div",{style:{background:"white",border:"1px solid #E8E4DC",borderRadius:"12px",padding:"28px",lineHeight:"1.85",fontSize:"15px",color:"#333",fontFamily:"sans-serif",whiteSpace:"pre-line"},children:l.concept})}),"analogy"===o&&(0,u.jsxs)("div",{style:{background:"".concat(s.color,"08"),border:"1px solid ".concat(s.color,"30"),borderRadius:"12px",padding:"28px"},children:[(0,u.jsx)("div",{style:{fontSize:"32px",marginBottom:"16px"},children:"\ud83d\udca1"}),(0,u.jsx)("div",{style:{fontSize:"14px",color:"#555",fontFamily:"sans-serif",letterSpacing:"0.05em",textTransform:"uppercase",marginBottom:"12px",fontWeight:"600"},children:"Analog\xeda del mundo real"}),(0,u.jsx)("p",{style:{fontSize:"17px",lineHeight:"1.8",color:"#222",fontStyle:"italic",borderLeft:"4px solid ".concat(s.color),paddingLeft:"20px",margin:0,fontFamily:"Georgia, serif"},children:l.analogy})]}),"questions"===o&&(0,u.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"14px"},children:[(0,u.jsxs)("div",{style:{padding:"12px 16px",background:"#FFFBF0",border:"1px solid #FDE68A",borderRadius:"8px",fontSize:"13px",color:"#92400E",fontFamily:"sans-serif"},children:["\ud83d\udcad ",(0,u.jsx)("strong",{children:"Consejo:"})," Intenta responder cada pregunta antes de buscar la respuesta. El proceso de pensar es donde ocurre el aprendizaje real."]}),l.questions.map((e,n)=>(0,u.jsxs)("div",{style:{background:"white",border:"1px solid #E8E4DC",borderRadius:"10px",padding:"20px 22px",display:"flex",gap:"14px"},children:[(0,u.jsx)("div",{style:{width:"30px",height:"30px",flexShrink:0,background:s.color,borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontSize:"13px",fontWeight:"700",fontFamily:"monospace"},children:n+1}),(0,u.jsx)("p",{style:{margin:0,fontSize:"14px",lineHeight:"1.7",color:"#333",fontFamily:"sans-serif"},children:e})]},n))]}),"exercise"===o&&(0,u.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:[(0,u.jsxs)("div",{style:{background:"white",border:"1px solid #E8E4DC",borderRadius:"10px",padding:"22px"},children:[(0,u.jsxs)("div",{style:{fontSize:"16px",fontWeight:"700",marginBottom:"8px",color:"#1A1A1A"},children:["\ud83d\udee0\ufe0f ",l.exercise.title]}),(0,u.jsx)("p",{style:{fontSize:"14px",color:"#555",lineHeight:"1.7",margin:"0 0 16px",fontFamily:"sans-serif"},children:l.exercise.description}),(0,u.jsxs)("div",{style:{marginBottom:"16px"},children:[(0,u.jsx)("div",{style:{fontSize:"11px",color:"#999",fontFamily:"monospace",letterSpacing:"0.1em",marginBottom:"8px"},children:"PASOS"}),l.exercise.steps.map((e,n)=>(0,u.jsxs)("div",{style:{display:"flex",gap:"10px",padding:"6px 0",borderBottom:n<l.exercise.steps.length-1?"1px solid #F5F3F0":"none",alignItems:"flex-start"},children:[(0,u.jsx)("div",{style:{width:"20px",height:"20px",borderRadius:"50%",border:"1px solid ".concat(s.color),color:s.color,display:"flex",alignItems:"center",justifyContent:"center",fontSize:"10px",fontFamily:"monospace",flexShrink:0,marginTop:"1px"},children:n+1}),(0,u.jsx)("span",{style:{fontSize:"13px",color:"#555",fontFamily:"sans-serif",lineHeight:"1.5"},children:e})]},n))]}),(0,u.jsxs)("div",{style:{background:"#F0FDF4",border:"1px solid #BBF7D0",borderRadius:"8px",padding:"12px 14px",fontSize:"13px",color:"#166534",fontFamily:"sans-serif"},children:[(0,u.jsx)("strong",{children:"\u2705 Qu\xe9 deber\xedas ver:"})," ",l.exercise.whatYouWillSee]})]}),l.exercise.code&&(0,u.jsxs)("div",{style:{borderRadius:"10px",overflow:"hidden",border:"1px solid #E8E4DC"},children:[(0,u.jsxs)("div",{style:{background:"#2D2D2D",padding:"10px 16px",display:"flex",alignItems:"center",gap:"8px"},children:[(0,u.jsx)("div",{style:{width:"10px",height:"10px",borderRadius:"50%",background:"#FF5F56"}}),(0,u.jsx)("div",{style:{width:"10px",height:"10px",borderRadius:"50%",background:"#FFBD2E"}}),(0,u.jsx)("div",{style:{width:"10px",height:"10px",borderRadius:"50%",background:"#27C93F"}}),(0,u.jsx)("span",{style:{marginLeft:"8px",fontSize:"11px",color:"#888",fontFamily:"monospace"},children:"c\xf3digo gu\xeda"})]}),(0,u.jsx)("pre",{style:{margin:0,padding:"24px",background:"#1E1E1E",color:"#D4D4D4",fontSize:"12px",lineHeight:"1.7",overflowX:"auto",whiteSpace:"pre-wrap",wordBreak:"break-word",fontFamily:"'JetBrains Mono', 'Courier New', monospace"},children:l.exercise.code})]})]}),"keywords"===o&&(0,u.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:[(0,u.jsx)("div",{style:{fontSize:"13px",color:"#777",fontFamily:"sans-serif",marginBottom:"8px"},children:"Estos son los t\xe9rminos del d\xeda. Deber\xedas poder explicarlos con tus propias palabras."}),l.concepts_box.map((e,n)=>(0,u.jsxs)("div",{style:{background:"white",border:"1px solid #E8E4DC",borderRadius:"8px",padding:"14px 18px",display:"flex",gap:"16px",alignItems:"flex-start"},children:[(0,u.jsx)("div",{style:{background:"".concat(s.color,"15"),border:"1px solid ".concat(s.color,"30"),borderRadius:"6px",padding:"4px 10px",fontSize:"12px",fontFamily:"monospace",color:s.color,fontWeight:"700",flexShrink:0,whiteSpace:"nowrap"},children:e.term}),(0,u.jsx)("div",{style:{fontSize:"13px",color:"#555",lineHeight:"1.5",fontFamily:"sans-serif"},children:e.simple})]},n))]}),"resources"===o&&(0,u.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:[(0,u.jsx)("div",{style:{fontSize:"13px",color:"#777",fontFamily:"sans-serif",marginBottom:"8px"},children:"Recursos para profundizar. No tienes que verlos todos \u2014 elige el que m\xe1s te llame."}),l.resources.map((e,n)=>(0,u.jsxs)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",style:{background:"white",border:"1px solid #E8E4DC",borderRadius:"8px",padding:"14px 18px",display:"flex",alignItems:"center",gap:"14px",textDecoration:"none",color:"inherit",cursor:"pointer"},onMouseEnter:e=>{e.currentTarget.style.borderColor=s.color,e.currentTarget.style.background="".concat(s.color,"05")},onMouseLeave:e=>{e.currentTarget.style.borderColor="#E8E4DC",e.currentTarget.style.background="white"},children:[(0,u.jsx)("div",{style:{width:"36px",height:"36px",background:"".concat(s.color,"15"),borderRadius:"8px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"16px",flexShrink:0},children:"\ud83d\udd17"}),(0,u.jsxs)("div",{style:{flex:1},children:[(0,u.jsx)("div",{style:{fontSize:"13px",fontWeight:"600",color:"#222",fontFamily:"sans-serif"},children:e.title}),(0,u.jsx)("div",{style:{fontSize:"11px",color:"#BBB",fontFamily:"monospace",marginTop:"2px"},children:e.url})]}),(0,u.jsx)("span",{style:{color:"#CCC",fontSize:"16px"},children:"\u2192"})]},n))]})]})}),(0,u.jsxs)("div",{style:{background:"white",borderTop:"1px solid #E8E4DC",padding:"14px 32px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,u.jsx)("button",{onClick:()=>{t>0?(r(t-1),i("concept")):e>0&&(n(e-1),r(B.weeks[e-1].days.length-1),i("concept"))},disabled:0===e&&0===t,style:{display:"flex",alignItems:"center",gap:"8px",padding:"8px 18px",border:"1px solid #E8E4DC",borderRadius:"8px",background:"white",cursor:0===e&&0===t?"not-allowed":"pointer",opacity:0===e&&0===t?.4:1,fontSize:"13px",color:"#666",fontFamily:"sans-serif"},children:"\u2190 Anterior"}),(0,u.jsxs)("div",{style:{textAlign:"center"},children:[(0,u.jsxs)("div",{style:{fontSize:"13px",fontWeight:"700",color:"#1A1A1A"},children:[l.emoji," ",l.title]}),(0,u.jsxs)("div",{style:{fontSize:"11px",color:"#BBB",fontFamily:"monospace"},children:["D\xeda ",l.day," de ",p]})]}),(0,u.jsx)("button",{onClick:()=>{t<s.days.length-1?(r(t+1),i("concept")):e<B.weeks.length-1&&(n(e+1),r(0),i("concept"))},disabled:e===B.weeks.length-1&&t===s.days.length-1,style:{display:"flex",alignItems:"center",gap:"8px",padding:"8px 18px",border:"none",borderRadius:"8px",background:s.color,color:"white",cursor:"pointer",fontSize:"13px",fontFamily:"sans-serif",fontWeight:"600",opacity:e===B.weeks.length-1&&t===s.days.length-1?.4:1},children:"Siguiente \u2192"})]})]})]})]})}const W={weeks:[{id:1,title:"HTTP & Fundamentos del Servidor",color:"#00D4FF",accent:"#003D4D",days:[{day:1,title:"C\xf3mo funciona realmente un servidor HTTP",concept:"Un servidor HTTP es un proceso que escucha en un puerto TCP, acepta conexiones, lee bytes del socket, parsea esos bytes como texto HTTP y genera una respuesta. HTTP/1.1 es texto plano sobre TCP; HTTP/2 es binario y multiplexado. El servidor usa un event loop (Node.js), thread pool (Java), o goroutines (Go). Cada arquitectura tiene consecuencias en throughput, latencia y uso de memoria.",questions:["Si Node.js tiene un solo hilo, \xbfqu\xe9 pasa exactamente cuando dos requests llegan simult\xe1neamente? \xbfCu\xe1l es el riesgo real si una operaci\xf3n de CPU intensiva bloquea el event loop?","\xbfPor qu\xe9 HTTP/2 mejora el rendimiento frente a HTTP/1.1 aunque ambos corran sobre TCP? \xbfEn qu\xe9 escenarios HTTP/1.1 podr\xeda ser preferible?","\xbfQu\xe9 diferencia conceptual hay entre un servidor que usa fork() por cada request (Apache cl\xe1sico) vs. uno que usa event loop (Nginx/Node)? \xbfCu\xe1ndo se rompe cada modelo?"],exercise:{title:"Servidor HTTP desde cero con sockets crudos",description:"Crea un servidor HTTP sin usar el m\xf3dulo `http` de Node. Usa `net.createServer`, parsea manualmente el request y responde con HTTP/1.1 v\xe1lido. Luego observa con `curl -v`.",code:"const net = require('net');\n\nconst server = net.createServer((socket) => {\n  socket.on('data', (data) => {\n    const request = data.toString();\n    const firstLine = request.split('\\r\\n')[0];\n    console.log('Request line:', firstLine);\n\n    const body = 'Hello from raw socket!';\n    const response = [\n      'HTTP/1.1 200 OK',\n      'Content-Type: text/plain',\n      `Content-Length: ${Buffer.byteLength(body)}`,\n      'Connection: close',\n      '',\n      body\n    ].join('\\r\\n');\n\n    socket.write(response);\n    socket.end();\n  });\n});\n\nserver.listen(3000, () => console.log('Listening on :3000'));"},keywords:["TCP handshake","socket","event loop","non-blocking I/O","thread pool","keep-alive","multiplexing","head-of-line blocking"],resources:[{title:"High Performance Browser Networking \u2014 Ilya Grigorik",url:"https://hpbn.co"},{title:"RFC 7230 \u2014 HTTP/1.1 Message Syntax",url:"https://tools.ietf.org/html/rfc7230"},{title:"What is the event loop? \u2014 Philip Roberts (JSConf EU)",url:"https://www.youtube.com/watch?v=8aGhZQkoFbQ"}]},{day:2,title:"Headers, Status Codes y el Contrato HTTP",concept:"Los status codes no son decorativos. 200 vs 201 vs 204 tiene implicaciones en c\xf3mo el cliente cachea o reintenta. Los headers son el mecanismo de negociaci\xf3n: Content-Type determina c\xf3mo se parsea el body, Cache-Control define la pol\xedtica de cach\xe9, Authorization transporta credenciales. Entender este contrato es la base de cualquier API bien dise\xf1ada.",questions:["\xbfCu\xe1l es la diferencia sem\xe1ntica entre PUT y PATCH? Si implementas actualizaci\xf3n parcial con PUT, \xbfqu\xe9 implicaciones tiene para la idempotencia?","Un cliente recibe 401 vs 403. \xbfQu\xe9 decisi\xf3n diferente debe tomar en cada caso? \xbfPor qu\xe9 muchas APIs usan 403 cuando deber\xedan usar 401 y qu\xe9 problema de seguridad genera?","Cache-Control: no-cache vs. Cache-Control: no-store \u2014 \xbfson equivalentes? \xbfCu\xe1l es m\xe1s agresivo y por qu\xe9?"],exercise:{title:"Sem\xe1ntica correcta de c\xf3digos de estado en Express",description:"Construye un servidor que devuelva 201 + header Location al crear, 204 al eliminar, 409 en conflicto, y 422 para errores de validaci\xf3n sem\xe1ntica (distinto de 400 que es sintaxis). Prueba con curl.",code:"app.post('/users', async (req, res) => {\n  const { email } = req.body;\n  const existing = await db.users.findByEmail(email);\n  \n  if (existing) {\n    return res.status(409).json({ \n      error: 'Email already registered' \n    });\n  }\n  \n  // 422: datos bien formados pero sem\xe1nticamente inv\xe1lidos\n  if (!isValidEmailDomain(email)) {\n    return res.status(422).json({ \n      error: 'Email domain not allowed' \n    });\n  }\n  \n  const user = await db.users.create(req.body);\n  res.status(201)\n     .location(`/users/${user.id}`)\n     .json(user);\n});\n\napp.delete('/users/:id', async (req, res) => {\n  await db.users.delete(req.params.id);\n  res.status(204).send(); // No content\n});"},keywords:["idempotencia","seguridad de m\xe9todos HTTP","content negotiation","ETag","Last-Modified","conditional request","CORS preflight","OPTIONS"],resources:[{title:"MDN \u2014 HTTP Status Codes (todos los 4xx y 5xx)",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Status"},{title:"RFC 7231 \u2014 Sem\xe1ntica HTTP",url:"https://tools.ietf.org/html/rfc7231"},{title:"RESTful Web APIs \u2014 Leonard Richardson",url:"https://www.oreilly.com/library/view/restful-web-apis/9781449359713/"}]},{day:3,title:"Arquitectura REST vs. otras alternativas",concept:'REST no es solo "usar HTTP con JSON". Fielding defini\xf3 6 restricciones: cliente-servidor, stateless, cacheable, interfaz uniforme, sistema en capas, code-on-demand. La restricci\xf3n m\xe1s violada es HATEOAS: las respuestas deben incluir links a las acciones posibles. La mayor\xeda de APIs son HTTP APIs o RPC sobre HTTP, no REST puro. GraphQL resuelve over-fetching/under-fetching a costa de complejidad. gRPC resuelve performance y contratos estrictos a costa de legibilidad.',questions:["Si REST exige ser stateless, \xbfc\xf3mo se maneja la autenticaci\xf3n de forma correctamente RESTful? \xbfLas sesiones del servidor violan REST? \xbfY JWT?","\xbfEn qu\xe9 escenarios concretos GraphQL es peor opci\xf3n que REST? Considera caching, queries maliciosas y el N+1 problem.","gRPC usa Protocol Buffers. \xbfQu\xe9 ventajas concretas da la serializaci\xf3n binaria frente a JSON y en qu\xe9 contextos no justifica el overhead de configuraci\xf3n?"],exercise:{title:"API con HATEOAS + documentaci\xf3n OpenAPI 3.0",description:"Dise\xf1a e implementa una API de biblioteca con /books, /authors, /loans. Cada respuesta debe incluir un objeto _links con las acciones disponibles. Documenta con Swagger UI.",code:'// Respuesta con HATEOAS\n{\n  "id": "123",\n  "title": "Clean Code",\n  "author": { "id": "456", "name": "Robert Martin" },\n  "_links": {\n    "self": { "href": "/books/123", "method": "GET" },\n    "update": { "href": "/books/123", "method": "PUT" },\n    "delete": { "href": "/books/123", "method": "DELETE" },\n    "loans": { "href": "/books/123/loans", "method": "GET" },\n    "author": { "href": "/authors/456", "method": "GET" }\n  }\n}\n\n// openapi.yaml\npaths:\n  /books/{id}:\n    get:\n      summary: Get a book\n      responses:\n        \'200\':\n          description: Book with hypermedia links\n          content:\n            application/json:\n              schema:\n                $ref: \'#/components/schemas/BookWithLinks\''},keywords:["HATEOAS","stateless","resource vs. action","over-fetching","under-fetching","N+1 problem","Protocol Buffers","schema-first","OpenAPI"],resources:[{title:"Tesis doctoral de Roy Fielding \u2014 Cap\xedtulo 5",url:"https://ics.uci.edu/~fielding/pubs/dissertation/rest_arch_style.htm"},{title:"Documentaci\xf3n oficial gRPC",url:"https://grpc.io/docs/"},{title:"OpenAPI Specification",url:"https://swagger.io/specification/"}]},{day:4,title:"Middleware y el Pipeline de Request/Response",concept:"El patr\xf3n middleware es una cadena de funciones donde cada una puede modificar el request, la response, o pasar el control a la siguiente. Es el coraz\xf3n de Express, Koa, ASP.NET, Laravel. Lo no obvio: el orden de ejecuci\xf3n, el manejo de errores as\xedncronos, y la diferencia entre middleware global, de router y de ruta. El middleware no es solo para logging o auth \u2014 tambi\xe9n para rate limiting, compresi\xf3n, correlaci\xf3n de requests y circuit breaking.",questions:["Si tienes un middleware de manejo de errores en Express y uno de tus middlewares lanza una excepci\xf3n as\xedncrona (Promise rechazado), \xbfllega autom\xe1ticamente al error handler? \xbfQu\xe9 cambia entre Express 4 y Express 5?","\xbfPor qu\xe9 el orden del middleware importa tanto? Da un ejemplo concreto donde cambiar el orden de autenticaci\xf3n y logging causa un problema de seguridad.","Dise\xf1a una cadena de middleware para una API bancaria. \xbfQu\xe9 va primero, el rate limiter o la autenticaci\xf3n? \xbfPor qu\xe9? \xbfTiene implicaciones de seguridad el orden?"],exercise:{title:"Mini-framework de middleware desde cero",description:"Implementa sin librer\xedas externas un sistema que replique app.use() de Express, incluyendo error handlers con 4 par\xe1metros. Apl\xedcalo con: logging + correlationId, validaci\xf3n de token, y error handler global.",code:"class MiniExpress {\n  constructor() { this.middlewares = []; }\n  \n  use(fn) { this.middlewares.push(fn); }\n  \n  handle(req, res) {\n    let idx = 0;\n    const next = (err) => {\n      if (idx >= this.middlewares.length) return;\n      const middleware = this.middlewares[idx++];\n      try {\n        if (err && middleware.length === 4) {\n          middleware(err, req, res, next);\n        } else if (!err && middleware.length !== 4) {\n          middleware(req, res, next);\n        } else {\n          next(err); // skip non-error middleware when error\n        }\n      } catch (e) {\n        next(e);\n      }\n    };\n    next();\n  }\n}\n\n// Uso\nconst app = new MiniExpress();\n\napp.use((req, res, next) => {\n  req.correlationId = crypto.randomUUID();\n  console.log(`[${req.correlationId}] ${req.method} ${req.url}`);\n  next();\n});\n\n// Error handler (4 par\xe1metros)\napp.use((err, req, res, next) => {\n  res.status(500).json({ error: err.message });\n});"},keywords:["middleware chain","next()","error-first middleware","correlation ID","request lifecycle","cross-cutting concerns","pipeline pattern"],resources:[{title:"C\xf3digo fuente de Express \u2014 router/layer.js",url:"https://github.com/expressjs/express/blob/master/lib/router/layer.js"},{title:"Designing Web APIs \u2014 Brenda Jin (O'Reilly)",url:"https://www.oreilly.com/library/view/designing-web-apis/9781492026914/"}]},{day:5,title:"Autenticaci\xf3n vs. Autorizaci\xf3n en Profundidad",concept:'Autenticaci\xf3n es "\xbfqui\xe9n eres?", autorizaci\xf3n es "\xbfqu\xe9 puedes hacer?". JWT es el est\xe1ndar m\xe1s usado pero tambi\xe9n el m\xe1s mal implementado: el error m\xe1s com\xfan es no validar la firma, usar \'alg: none\', o guardar el token en localStorage (vulnerable a XSS). OAuth 2.0 no es un protocolo de autenticaci\xf3n \u2014 es de autorizaci\xf3n delegada. OpenID Connect a\xf1ade la capa de identidad. Los modelos de autorizaci\xf3n son RBAC (roles), ABAC (atributos), ReBAC (relaciones).',questions:["JWT se firma pero no se encripta por defecto. \xbfQu\xe9 informaci\xf3n nunca deber\xedas poner en un JWT? \xbfPor qu\xe9 guardar el JWT en cookie HttpOnly es m\xe1s seguro que localStorage, y qu\xe9 nuevo vector de ataque introduce?","Si implementas refresh tokens, \xbfc\xf3mo detectas y manejas el robo de un refresh token? Explica el mecanismo de 'refresh token rotation' y qu\xe9 pasa cuando el token robado se usa antes que el leg\xedtimo.","\xbfEn qu\xe9 escenario RBAC se queda corto y necesitas ABAC? Da un ejemplo de negocio concreto."],exercise:{title:"Sistema de autenticaci\xf3n completo con rotaci\xf3n de tokens",description:"Implementa: registro con bcrypt, login que emite access token (15min) y refresh token (7 d\xedas) en cookie HttpOnly, rotaci\xf3n con detecci\xf3n de reutilizaci\xf3n, y logout que invalida el token en DB.",code:"// Refresh token rotation con detecci\xf3n de robo\nasync function refreshToken(req, res) {\n  const { refreshToken } = req.cookies;\n  \n  const tokenRecord = await db.refreshTokens.findOne({ \n    token: refreshToken \n  });\n  \n  // Token no existe en DB \u2192 posible robo\n  if (!tokenRecord) {\n    // Invalidar TODOS los tokens del usuario (familia comprometida)\n    await db.refreshTokens.deleteAll({ userId: tokenRecord?.userId });\n    return res.status(401).json({ error: 'Token reuse detected' });\n  }\n  \n  // Rotar: eliminar el viejo, crear uno nuevo\n  await db.refreshTokens.delete(refreshToken);\n  const newRefreshToken = crypto.randomUUID();\n  await db.refreshTokens.create({ \n    token: newRefreshToken, \n    userId: tokenRecord.userId,\n    expiresAt: new Date(Date.now() + 7 * 24 * 60 * 60 * 1000)\n  });\n  \n  const accessToken = jwt.sign(\n    { userId: tokenRecord.userId },\n    process.env.JWT_SECRET,\n    { expiresIn: '15m' }\n  );\n  \n  res.cookie('refreshToken', newRefreshToken, { \n    httpOnly: true, \n    secure: true, \n    sameSite: 'strict' \n  });\n  res.json({ accessToken });\n}"},keywords:["JWT","JWS","JWE","OAuth 2.0","OpenID Connect","PKCE","refresh token rotation","bcrypt cost factor","RBAC","ABAC","session fixation"],resources:[{title:"jwt.io \u2014 decodifica y valida tokens en tiempo real",url:"https://jwt.io"},{title:"RFC 9700 \u2014 OAuth 2.0 Security Best Current Practice",url:"https://tools.ietf.org/html/rfc9700"},{title:"Auth0 Blog \u2014 Refresh Token Rotation",url:"https://auth0.com/blog/refresh-tokens-what-are-they-and-when-to-use-them/"}]}]},{id:2,title:"Bases de Datos y Persistencia",color:"#00FF94",accent:"#003D20",days:[{day:6,title:"SQL Avanzado y el Modelo Relacional",concept:"La mayor\xeda usa SQL para queries b\xe1sicos pero no entiende el modelo relacional: \xe1lgebra relacional, normalizaci\xf3n hasta 3FN/BCNF, y cu\xe1ndo desnormalizar deliberadamente. El query planner genera un plan de ejecuci\xf3n (Seq Scan vs. Index Scan) basado en estad\xedsticas. Un query lento no es problema del hardware sino del plan. EXPLAIN ANALYZE es la herramienta m\xe1s importante de un backend developer que trabaja con SQL.",questions:["Una tabla tiene un \xedndice en la columna email. Ejecutas SELECT * FROM users WHERE lower(email) = lower($1). \xbfSe usa el \xedndice? \xbfPor qu\xe9? \xbfC\xf3mo lo arreglar\xedas?","Tienes una tabla orders con 50M filas. El query SELECT * FROM orders WHERE status = 'pending' es lento aunque status tiene \xedndice. EXPLAIN ANALYZE muestra Seq Scan. \xbfCu\xe1ndo el planner decide ignorar un \xedndice y por qu\xe9 puede ser la decisi\xf3n correcta?","\xbfCu\xe1l es la diferencia entre un \xedndice parcial, un \xedndice compuesto y un covering index? Da un caso de uso concreto para cada uno."],exercise:{title:"Query optimizer con EXPLAIN ANALYZE",description:"Con PostgreSQL, crea un esquema de e-commerce. Escribe un query que encuentre los 10 clientes que m\xe1s gastaron en el \xfaltimo mes con su producto favorito. Usa EXPLAIN ANALYZE, identifica Seq Scans evitables y mide antes/despu\xe9s de crear \xedndices.",code:"-- Antes: Query sin optimizar\nSELECT u.id, u.name, \n       SUM(oi.price * oi.quantity) as total_spent,\n       (SELECT p.name FROM order_items oi2 \n        JOIN products p ON p.id = oi2.product_id\n        WHERE oi2.order_id IN (\n          SELECT id FROM orders WHERE user_id = u.id\n        )\n        GROUP BY p.id ORDER BY COUNT(*) DESC LIMIT 1) as fav_product\nFROM users u\nJOIN orders o ON o.user_id = u.id  \nJOIN order_items oi ON oi.order_id = o.id\nWHERE o.created_at >= NOW() - INTERVAL '1 month'\nGROUP BY u.id ORDER BY total_spent DESC LIMIT 10;\n\n-- Ejecuta para ver el plan\nEXPLAIN ANALYZE <query_anterior>;\n\n-- Despu\xe9s: \xcdndices estrat\xe9gicos\nCREATE INDEX idx_orders_user_created \n  ON orders(user_id, created_at DESC);\nCREATE INDEX idx_order_items_order_product \n  ON order_items(order_id, product_id);\n\n-- Query optimizado con CTE y window functions\nWITH monthly_orders AS (\n  SELECT o.id, o.user_id\n  FROM orders o\n  WHERE o.created_at >= NOW() - INTERVAL '1 month'\n),\n-- ... resto del query optimizado"},keywords:["query planner","Seq Scan vs. Index Scan","B-tree index","partial index","covering index","normalization","BCNF","window functions","CTE","EXPLAIN ANALYZE"],resources:[{title:"use-the-index-luke.com \u2014 gu\xeda gratuita de \xedndices SQL",url:"https://use-the-index-luke.com"},{title:"pgexercises.com \u2014 ejercicios interactivos de PostgreSQL",url:"https://pgexercises.com"},{title:"PostgreSQL: Up and Running \u2014 Regina Obe",url:"https://www.oreilly.com/library/view/postgresql-up-and/9781491963401/"}]},{day:7,title:"Transacciones, ACID y Niveles de Aislamiento",concept:"ACID es la promesa de una base de datos transaccional. El nivel de aislamiento es una variable, no un absoluto. SQL define 4 niveles: Read Uncommitted, Read Committed, Repeatable Read, Serializable. Cada nivel previene ciertos fen\xf3menos: dirty reads, non-repeatable reads, phantom reads. PostgreSQL usa MVCC (Multi-Version Concurrency Control): mantiene versiones hist\xf3ricas permitiendo que lecturas y escrituras no se bloqueen mutuamente.",questions:["Dos transacciones leen el saldo de una cuenta (100), ambas restan 50 y escriben 50. El resultado es 50 pero deber\xeda ser 0. \xbfQu\xe9 fen\xf3meno de concurrencia es este y en qu\xe9 nivel de aislamiento se previene?","\xbfPor qu\xe9 usar SERIALIZABLE en todo no es la soluci\xf3n? \xbfQu\xe9 costo tiene en throughput?","Un deadlock ocurre en tu sistema de pagos en producci\xf3n. \xbfC\xf3mo lo detectas, reproduces en dev y resuelves a nivel de c\xf3digo sin simplemente aumentar el timeout?"],exercise:{title:"Transferencia bancaria correcta bajo concurrencia",description:"Implementa transferencia bancaria con bloqueo pesimista (SELECT FOR UPDATE) y luego con bloqueo optimista (columna version). Prueba con 100 requests concurrentes y verifica que el saldo final sea siempre correcto.",code:"// Bloqueo pesimista \u2014 SELECT FOR UPDATE\nasync function transferPessimistic(fromId, toId, amount) {\n  await db.transaction(async (trx) => {\n    // Bloquear ambas cuentas en orden consistente (evitar deadlock)\n    const [from, to] = await Promise.all([\n      trx('accounts').where('id', fromId).forUpdate().first(),\n      trx('accounts').where('id', toId).forUpdate().first()\n    ]);\n    \n    if (from.balance < amount) throw new Error('Insufficient funds');\n    \n    await trx('accounts').where('id', fromId)\n      .update({ balance: from.balance - amount });\n    await trx('accounts').where('id', toId)\n      .update({ balance: to.balance + amount });\n  });\n}\n\n// Bloqueo optimista \u2014 columna version\nasync function transferOptimistic(fromId, toId, amount) {\n  const from = await db('accounts').where('id', fromId).first();\n  if (from.balance < amount) throw new Error('Insufficient funds');\n  \n  const updated = await db('accounts')\n    .where({ id: fromId, version: from.version }) // CAS\n    .update({ \n      balance: from.balance - amount, \n      version: from.version + 1 \n    });\n  \n  if (updated === 0) throw new Error('Concurrent modification \u2014 retry');\n  // ... actualizar cuenta destino\n}"},keywords:["ACID","MVCC","dirty read","phantom read","lost update","SELECT FOR UPDATE","optimistic locking","pessimistic locking","deadlock","savepoint"],resources:[{title:"Designing Data-Intensive Applications \u2014 Kleppmann (Cap\xedtulo 7)",url:"https://www.oreilly.com/library/view/designing-data-intensive-applications/9781491903063/"},{title:"PostgreSQL docs \u2014 Transaction Isolation",url:"https://www.postgresql.org/docs/current/transaction-iso.html"}]},{day:8,title:"NoSQL: cu\xe1ndo, por qu\xe9 y a qu\xe9 costo",concept:'NoSQL no es "SQL pero m\xe1s r\xe1pido". Cada familia resuelve un problema espec\xedfico: document stores (MongoDB) dan flexibilidad de schema; key-value (Redis) dan velocidad extrema; wide-column (Cassandra) dan escalabilidad horizontal de escrituras; graph databases (Neo4j) hacen eficientes las queries de relaciones complejas. El teorema CAP dice que un sistema distribuido solo puede garantizar dos de tres: Consistencia, Disponibilidad, Tolerancia a particiones.',questions:["MongoDB permite documentos embebidos o referencias. \xbfCu\xe1ndo embeddes y cu\xe1ndo referencias? Si siempre embedes, \xbfqu\xe9 problema surge a escala? Si siempre referencias, \xbfen qu\xe9 te conviertes?","En Cassandra, el modelo de datos debe dise\xf1arse a partir de las queries, no de las entidades. \xbfPor qu\xe9? \xbfQu\xe9 implica para un equipo acostumbrado a SQL?","El teorema CAP ha sido criticado por ser demasiado simplista. \xbfQu\xe9 agrega el modelo PACELC y por qu\xe9 es m\xe1s \xfatil para decisiones de arquitectura reales?"],exercise:{title:"El mismo esquema en SQL, MongoDB y Neo4j",description:"Dise\xf1a el esquema de una red social simple en tres modelos distintos. El caso de uso: 'mostrar el feed de un usuario con los posts de las personas que sigue'. Analiza el query en cada modelo y argumenta cu\xe1l elegir\xedas para 10M usuarios.",code:'-- SQL (PostgreSQL)\nSELECT p.* FROM posts p\nJOIN follows f ON f.following_id = p.user_id\nWHERE f.follower_id = $1\nORDER BY p.created_at DESC LIMIT 20;\n\n// MongoDB \u2014 embed vs reference trade-off\n// Opci\xf3n embedded (problem\xe1tica a escala):\n{ userId: "123", posts: [...] } // documento crece sin l\xedmite\n\n// Opci\xf3n referenciada:\ndb.posts.find({ \n  userId: { $in: followingIds } \n}).sort({ createdAt: -1 }).limit(20)\n// Problem: N+1 para obtener followingIds\n\n// Neo4j \u2014 query de grafo natural\nMATCH (me:User {id: $userId})-[:FOLLOWS]->(friend:User)\n      <-[:POSTED_BY]-(post:Post)\nRETURN post ORDER BY post.createdAt DESC LIMIT 20'},keywords:["teorema CAP","PACELC","eventual consistency","sharding","replication","document model","wide-column","schema-on-read vs schema-on-write","denormalization"],resources:[{title:"Designing Data-Intensive Applications \u2014 Kleppmann (Cap\xedtulos 2 y 5)",url:"https://www.oreilly.com/library/view/designing-data-intensive-applications/9781491903063/"},{title:"MongoDB University \u2014 M001 (gratis)",url:"https://university.mongodb.com"}]},{day:9,title:"Redis y Cach\xe9 en Profundidad",concept:"Redis no es solo un cach\xe9 \u2014 es una estructura de datos en memoria con persistencia opcional. Sus estructuras (strings, hashes, lists, sets, sorted sets, streams) permiten implementar rate limiting con sliding window, leaderboards en tiempo real, pub/sub y colas de trabajo. Para cach\xe9: estrategia de invalidaci\xf3n (TTL, event-driven, manual), pol\xedtica de eviction cuando la memoria se llena (LRU, LFU), y el problema de cache stampede cuando muchas requests intentan refrescar el cach\xe9 simult\xe1neamente.",questions:["Tienes un endpoint que hace una query SQL que tarda 2 segundos. Lo cacheas en Redis con TTL de 60s. A las 00:00 expira y 500 usuarios hacen la request simult\xe1neamente. \xbfQu\xe9 pasa? \xbfC\xf3mo lo prevendr\xedas con probabilistic early expiration o mutex distribuido?","\xbfCu\xe1l es la diferencia entre EXPIRE y EXPIREAT en Redis y cu\xe1ndo el uso incorrecto genera bugs sutiles en sistemas con m\xfaltiples zonas horarias?","Si necesitas que Redis sea durable (no perder datos al reiniciar), \xbfqu\xe9 opciones tienes entre RDB snapshots y AOF, y qu\xe9 trade-off tiene cada uno?"],exercise:{title:"Rate limiter con sliding window + cache stampede protection",description:"Implementa un rate limiter con sliding window usando Redis sorted sets (at\xf3mico con Lua). L\xedmite: 100 req/min por IP. Luego implementa cache-aside con lock distribuido contra stampede.",code:"-- Lua script para rate limiter at\xf3mico (sliding window)\nlocal key = KEYS[1]\nlocal now = tonumber(ARGV[1])\nlocal window = tonumber(ARGV[2])  -- 60000ms\nlocal limit = tonumber(ARGV[3])   -- 100\n\n-- Eliminar entradas fuera de la ventana\nredis.call('ZREMRANGEBYSCORE', key, 0, now - window)\n\nlocal count = redis.call('ZCARD', key)\nif count >= limit then\n  return 0  -- Rate limited\nend\n\nredis.call('ZADD', key, now, now .. math.random())\nredis.call('EXPIRE', key, math.ceil(window / 1000))\nreturn 1  -- Allowed\n\n// Node.js \u2014 Cache stampede protection con mutex\nasync function getWithLock(key, fetchFn, ttl) {\n  const cached = await redis.get(key);\n  if (cached) return JSON.parse(cached);\n  \n  const lockKey = `lock:${key}`;\n  const acquired = await redis.set(lockKey, '1', 'NX', 'EX', 10);\n  \n  if (!acquired) {\n    // Otro proceso est\xe1 refrescando, esperar con backoff\n    await sleep(100);\n    return getWithLock(key, fetchFn, ttl);\n  }\n  \n  try {\n    const data = await fetchFn();\n    await redis.setex(key, ttl, JSON.stringify(data));\n    return data;\n  } finally {\n    await redis.del(lockKey);\n  }\n}"},keywords:["cache-aside","write-through","write-behind","cache stampede","thundering herd","TTL","LRU","LFU","Redis Lua scripting","distributed lock","pub/sub","Redis Streams"],resources:[{title:"Redis Documentation \u2014 Data Structures",url:"https://redis.io/docs/data-types/"},{title:"Redis in Action \u2014 Josiah Carlson",url:"https://www.manning.com/books/redis-in-action"},{title:"Cloudflare Blog \u2014 How to Handle Cache Stampede",url:"https://blog.cloudflare.com"}]},{day:10,title:"ORM, Query Builders y el Impedance Mismatch",concept:'El "impedance mismatch" es la fricci\xf3n entre el modelo orientado a objetos y el modelo relacional. Los ORMs (Prisma, TypeORM, Sequelize) resuelven esto autom\xe1ticamente pero pueden generar SQL ineficiente, ocultar complejidad y crear abstracciones que "gotean". El N+1 problem: cargas autores y por cada uno disparas otra query para sus libros, resultando en 1+N queries en lugar de un JOIN. Entender cu\xe1ndo confiar en el ORM y cu\xe1ndo escribir SQL crudo es una habilidad senior.',questions:["\xbfEn qu\xe9 condiciones un ORM puede generar un SELECT * sin que el desarrollador lo note, y por qu\xe9 es un problema en tablas con columnas TEXT o JSONB grandes?","Prisma usa una arquitectura diferente a TypeORM \u2014 un proceso separado (query engine). \xbfQu\xe9 ventajas y desventajas concretas tiene en performance, debugging y compatibilidad?","Si el ORM no puede expresar una query compleja, \xbfcu\xe1l es la estrategia correcta? Compara raw queries, query builders (Knex), y stored procedures en t\xe9rminos de mantenibilidad y portabilidad."],exercise:{title:"Detectar y resolver N+1 con Prisma + EXPLAIN ANALYZE",description:"Implementa el esquema de e-commerce con Prisma. Activa el logging de queries para detectar N+1. Resu\xe9lvelo con include. Luego escribe la misma query con $queryRaw y compara el EXPLAIN ANALYZE de ambas versiones.",code:"// \u274c N+1 problem \u2014 genera 1 + N queries\nconst authors = await prisma.author.findMany();\nfor (const author of authors) {\n  const books = await prisma.book.findMany({ // N queries!\n    where: { authorId: author.id }\n  });\n  author.books = books;\n}\n\n// \u2705 Eager loading \u2014 genera 1 query con JOIN\nconst authors = await prisma.author.findMany({\n  include: { books: true }\n});\n\n// \u2705 Raw query para m\xe1ximo control\nconst result = await prisma.$queryRaw`\n  SELECT a.*, \n    json_agg(b.*) as books,\n    COUNT(b.id) as book_count\n  FROM authors a\n  LEFT JOIN books b ON b.author_id = a.id\n  GROUP BY a.id\n  ORDER BY book_count DESC\n`;\n\n// Ver el plan generado por cada versi\xf3n\n-- EXPLAIN ANALYZE (Prisma include):\n-- Hash Join  (cost=12.50..89.23 rows=150)\n-- EXPLAIN ANALYZE (raw query):\n-- Merge Join (cost=8.20..45.10 rows=150) // potencialmente mejor"},keywords:["impedance mismatch","N+1 problem","eager loading","lazy loading","migration","schema drift","raw query","query builder","data mapper pattern","active record pattern"],resources:[{title:"Prisma Performance Tips",url:"https://www.prisma.io/docs/guides/performance-and-optimization"},{title:"The Vietnam of Computer Science \u2014 Ted Neward",url:"http://blogs.tedneward.com/post/the-vietnam-of-computer-science/"},{title:"Patterns of Enterprise Application Architecture \u2014 Martin Fowler",url:"https://martinfowler.com/books/eaa.html"}]}]},{id:3,title:"Arquitectura, Seguridad y Sistemas Distribuidos",color:"#FF6B35",accent:"#3D1A00",days:[{day:11,title:"Dise\xf1o de APIs Escalables y Versionado",concept:"Una API p\xfablica es un contrato. Cambiarlo rompe a los consumidores. Las estrategias de versionado son: URL path (/v1/users), header (API-Version: 2), o content negotiation. El problema de pagination drift con offset-based pagination es un bug cl\xe1sico en sistemas con datos que cambian frecuentemente. La paginaci\xf3n por cursor resuelve esto pero requiere dise\xf1o m\xe1s cuidadoso.",questions:["\xbfPor qu\xe9 la paginaci\xf3n con LIMIT/OFFSET en SQL es problem\xe1tica para tablas grandes? Calcula el costo de OFFSET 1000000 LIMIT 20 y explica qu\xe9 hace el motor internamente. \xbfC\xf3mo la paginaci\xf3n por cursor lo resuelve?","Si necesitas mantener compatibilidad hacia atr\xe1s, \xbfcu\xe1ndo es un cambio 'breaking' vs. 'non-breaking'? Classifica: a\xf1adir campo, eliminar campo, cambiar tipo de int a string, renombrar endpoint.","\xbfPor qu\xe9 el versionado por URL es considerado 'anti-RESTful' por algunos y pragm\xe1tico por otros? \xbfQu\xe9 argumentar\xeda Fielding?"],exercise:{title:"Paginaci\xf3n cursor-based con cursor opaco",description:"Implementa paginaci\xf3n cursor-based para posts ordenados por fecha. El cursor debe ser opaco (base64 del ID + timestamp), funcionar correctamente cuando se insertan nuevos posts entre p\xe1ginas, y soportar orden inverso.",code:"// Encoder/decoder de cursor opaco\nconst encodeCursor = (id, createdAt) =>\n  Buffer.from(JSON.stringify({ id, createdAt })).toString('base64');\n\nconst decodeCursor = (cursor) =>\n  JSON.parse(Buffer.from(cursor, 'base64').toString());\n\nasync function getPosts(cursor, limit = 20, direction = 'forward') {\n  let query = db('posts').orderBy('created_at', 'desc').limit(limit + 1);\n  \n  if (cursor) {\n    const { id, createdAt } = decodeCursor(cursor);\n    // Keyset pagination \u2014 usa el \xedndice compuesto (created_at, id)\n    query = query.where(function() {\n      this.where('created_at', '<', createdAt)\n        .orWhere(function() {\n          this.where('created_at', '=', createdAt)\n            .andWhere('id', '<', id);\n        });\n    });\n  }\n  \n  const posts = await query;\n  const hasNextPage = posts.length > limit;\n  const items = hasNextPage ? posts.slice(0, -1) : posts;\n  \n  return {\n    data: items,\n    pageInfo: {\n      hasNextPage,\n      hasPreviousPage: !!cursor,\n      startCursor: items[0] ? encodeCursor(items[0].id, items[0].created_at) : null,\n      endCursor: items.at(-1) ? encodeCursor(items.at(-1).id, items.at(-1).created_at) : null\n    }\n  };\n}"},keywords:["cursor pagination","keyset pagination","offset pagination","pagination drift","breaking change","semantic versioning","backward compatibility","hypermedia controls","sparse fieldsets"],resources:[{title:"Stripe API Docs \u2014 referencia de dise\xf1o de API",url:"https://stripe.com/docs/api"},{title:"API Design Patterns \u2014 JJ Geewax (O'Reilly)",url:"https://www.oreilly.com/library/view/api-design-patterns/9781617295850/"},{title:"GitHub API Docs \u2014 cursor pagination real",url:"https://docs.github.com/en/rest"}]},{day:12,title:"Seguridad Backend: OWASP Top 10 en Profundidad",concept:"El OWASP Top 10 no es una lista de bugs, es una lista de categor\xedas de vulnerabilidades sist\xe9micas. Las m\xe1s cr\xedticas para backend: Injection (SQL, NoSQL, Command), Broken Authentication, IDOR, Security Misconfiguration, y Cryptographic Failures. La mayor\xeda de vulnerabilidades vienen de validaci\xf3n insuficiente de input y exceso de confianza en el cliente. El principio de defense in depth dice que ninguna capa de seguridad es suficiente sola.",questions:["SQL Injection sigue en el OWASP Top 10. Si usas un ORM con prepared statements, \xbferes completamente inmune? \xbfQu\xe9 casos edge existen donde el ORM puede ser vulnerable?","IDOR: tienes GET /invoices/:id con JWT. \xbfEs suficiente para prevenir IDOR? \xbfQu\xe9 verificaci\xf3n adicional es absolutamente necesaria?","Explica el ataque 'timing attack' en la comparaci\xf3n de tokens. \xbfPor qu\xe9 token === storedToken en JavaScript es inseguro? \xbfC\xf3mo funciona crypto.timingSafeEqual a nivel de CPU?"],exercise:{title:"Aplicaci\xf3n deliberadamente vulnerable + versi\xf3n corregida",description:"Crea una app con 5 vulnerabilidades: SQL Injection, IDOR, Mass Assignment, JWT con alg:none, y stack traces en producci\xf3n. Documenta el vector de ataque de cada una. Luego crea la versi\xf3n corregida.",code:"// \u274c VULNERABLE \u2014 Mass Assignment\napp.put('/users/:id', async (req, res) => {\n  // Un atacante puede enviar { role: 'admin', balance: 999999 }\n  await db.users.update(req.params.id, req.body); // PELIGROSO\n});\n\n// \u2705 CORREGIDO \u2014 Whitelist de campos permitidos\napp.put('/users/:id', async (req, res) => {\n  const allowedFields = ['name', 'email', 'bio'];\n  const safeData = pick(req.body, allowedFields);\n  await db.users.update(req.params.id, safeData);\n});\n\n// \u274c VULNERABLE \u2014 IDOR\napp.get('/invoices/:id', authenticate, async (req, res) => {\n  const invoice = await db.invoices.findById(req.params.id);\n  // Cualquier usuario autenticado puede ver cualquier factura!\n  res.json(invoice);\n});\n\n// \u2705 CORREGIDO \u2014 Verificar ownership\napp.get('/invoices/:id', authenticate, async (req, res) => {\n  const invoice = await db.invoices.findOne({\n    id: req.params.id,\n    userId: req.user.id  // Solo puede ver SUS facturas\n  });\n  if (!invoice) return res.status(404).json({ error: 'Not found' });\n  res.json(invoice);\n});\n\n// \u274c Timing attack en comparaci\xf3n de tokens\nif (providedToken === storedToken) { ... } // Vulnerable\n\n// \u2705 Comparaci\xf3n en tiempo constante\nconst crypto = require('crypto');\nif (crypto.timingSafeEqual(\n  Buffer.from(providedToken),\n  Buffer.from(storedToken)\n)) { ... }"},keywords:["SQL injection","prepared statement","IDOR","mass assignment","CSRF","XSS","CSP","timing attack","defense in depth","principle of least privilege","security headers"],resources:[{title:"OWASP Top 10 \u2014 documentaci\xf3n oficial",url:"https://owasp.org/Top10"},{title:"PortSwigger Web Security Academy \u2014 laboratorios gratuitos",url:"https://portswigger.net/web-security"},{title:"OWASP ASVS \u2014 Application Security Verification Standard",url:"https://owasp.org/www-project-application-security-verification-standard/"}]},{day:13,title:"Monolito vs. Microservicios vs. Modular",concept:'La falacia de que "microservicios escalan mejor" ignora que introducen complejidad distribuida: latencia de red, consistencia eventual, gesti\xf3n de fallos parciales, distributed tracing, y transacciones distribuidas. Un monolito bien estructurado puede escalar horizontalmente perfectamente. La decisi\xf3n real es cu\xe1ndo la complejidad operacional de los microservicios se justifica por la complejidad organizacional. La ley de Conway dice que la arquitectura refleja la estructura de comunicaci\xf3n de tu organizaci\xf3n.',questions:["Si microservicio A llama a B que llama a C, y C tiene 1% de tasa de error, \xbfcu\xe1l es la tasa de error total? \xbfC\xf3mo escala con 10 servicios? \xbfQu\xe9 patr\xf3n resuelve esto?","El patr\xf3n Saga resuelve transacciones distribuidas. \xbfCu\xe1l es la diferencia entre saga coreografiada y orquestada? \xbfCu\xe1ndo cada una es preferible y cu\xe1l es m\xe1s dif\xedcil de debuggear?","\xbfQu\xe9 es la 'distributed monolith' y por qu\xe9 es peor que un monolito normal Y peor que microservicios bien hechos?"],exercise:{title:"Sistema de biblioteca dividido en 3 microservicios",description:"Divide el proyecto en auth-service, catalog-service y loan-service. Implementa comunicaci\xf3n s\xedncrona (REST) para queries y as\xedncrona (eventos) para operaciones cross-domain. Implementa un circuit breaker b\xe1sico.",code:"// Circuit Breaker b\xe1sico\nclass CircuitBreaker {\n  constructor(fn, threshold = 5, timeout = 60000) {\n    this.fn = fn;\n    this.threshold = threshold;\n    this.timeout = timeout;\n    this.failures = 0;\n    this.state = 'CLOSED'; // CLOSED | OPEN | HALF_OPEN\n    this.nextAttempt = Date.now();\n  }\n  \n  async call(...args) {\n    if (this.state === 'OPEN') {\n      if (Date.now() < this.nextAttempt) {\n        throw new Error('Circuit OPEN \u2014 service unavailable');\n      }\n      this.state = 'HALF_OPEN';\n    }\n    \n    try {\n      const result = await this.fn(...args);\n      this.onSuccess();\n      return result;\n    } catch (err) {\n      this.onFailure();\n      throw err;\n    }\n  }\n  \n  onSuccess() {\n    this.failures = 0;\n    this.state = 'CLOSED';\n  }\n  \n  onFailure() {\n    this.failures++;\n    if (this.failures >= this.threshold) {\n      this.state = 'OPEN';\n      this.nextAttempt = Date.now() + this.timeout;\n    }\n  }\n}\n\n// Uso\nconst catalogBreaker = new CircuitBreaker(\n  (bookId) => catalogService.getBook(bookId)\n);"},keywords:["bounded context","domain-driven design","saga pattern","two-phase commit","circuit breaker","service mesh","event-driven architecture","choreography vs. orchestration","Conway's Law","strangler fig pattern"],resources:[{title:"Building Microservices \u2014 Sam Newman (2da edici\xf3n)",url:"https://www.oreilly.com/library/view/building-microservices-2nd/9781492034018/"},{title:"Microservice Trade-Offs \u2014 Martin Fowler",url:"https://martinfowler.com/articles/microservice-trade-offs.html"}]},{day:14,title:"Message Queues y Comunicaci\xf3n As\xedncrona",concept:"Las colas de mensajes desacoplan productores de consumidores y hacen las operaciones resilientes a fallos. RabbitMQ usa AMQP con exchanges y queues; Kafka es un log distribuido de eventos inmutables ideal para event sourcing. RabbitMQ elimina mensajes cuando son consumidos; Kafka los retiene y permite m\xfaltiples consumidores leer el mismo evento en tiempos distintos. Los problemas operacionales incluyen: at-least-once delivery (idempotencia requerida), message ordering, dead letter queues, y consumer group lag.",questions:["Si tu message broker garantiza 'at-least-once delivery', \xbfqu\xe9 implica para el consumidor? Da un ejemplo concreto de un handler que falla si no es idempotente y uno que s\xed lo es.","En Kafka, un consumer group con 3 consumers lee de un topic con 6 particiones. \xbfC\xf3mo se distribuye la carga? \xbfQu\xe9 pasa si a\xf1ades un 4to consumer? \xbfY si tienes 7 para 6 particiones?","\xbfCu\xe1l es la diferencia entre 'event notification', 'event-carried state transfer', y 'event sourcing'? \xbfCu\xe1ndo cada patr\xf3n es el correcto?"],exercise:{title:"Sistema de procesamiento de \xf3rdenes con BullMQ",description:"El endpoint HTTP encola la orden y responde 202 Accepted. Un worker la procesa con retry + backoff exponencial (m\xe1x 3 intentos). Fallos van a dead letter queue. Endpoint de monitoreo que muestra el estado de la cola.",code:"import { Queue, Worker, QueueEvents } from 'bullmq';\n\nconst orderQueue = new Queue('orders', { connection: redis });\n\n// Producer \u2014 responde inmediatamente\napp.post('/orders', async (req, res) => {\n  const job = await orderQueue.add('process-order', req.body, {\n    attempts: 3,\n    backoff: { type: 'exponential', delay: 1000 },\n    removeOnComplete: false,\n    removeOnFail: false\n  });\n  \n  res.status(202).json({ \n    jobId: job.id, \n    statusUrl: `/orders/status/${job.id}` \n  });\n});\n\n// Consumer \u2014 procesa en background\nconst worker = new Worker('orders', async (job) => {\n  const { orderId, userId, items } = job.data;\n  \n  // Idempotency check \u2014 si ya procesamos este orden, skip\n  const alreadyProcessed = await db.processedJobs.exists(job.id);\n  if (alreadyProcessed) return { skipped: true };\n  \n  await processOrder({ orderId, userId, items });\n  await db.processedJobs.insert(job.id); // Marcar como procesado\n  \n}, { connection: redis });\n\nworker.on('failed', (job, err) => {\n  if (job.attemptsMade >= job.opts.attempts) {\n    // Mover a dead letter queue manualmente\n    deadLetterQueue.add('failed-order', { \n      originalJob: job.data, \n      error: err.message \n    });\n  }\n});"},keywords:["at-least-once delivery","exactly-once delivery","idempotency key","dead letter queue","consumer group","partition","backpressure","event sourcing","CQRS","outbox pattern"],resources:[{title:"BullMQ Documentation",url:"https://docs.bullmq.io"},{title:"Kafka: The Definitive Guide \u2014 Narkhede et al.",url:"https://www.oreilly.com/library/view/kafka-the-definitive/9781492043072/"},{title:"The Many Meanings of Event-Driven Architecture \u2014 Martin Fowler",url:"https://www.youtube.com/watch?v=STKCRSUsyP0"}]}]},{id:4,title:"Observabilidad, Performance y Producci\xf3n",color:"#C77DFF",accent:"#1A0033",days:[{day:15,title:"Logging, M\xe9tricas y Tracing (Los tres pilares)",concept:"La observabilidad es la capacidad de entender el estado interno de un sistema desde sus outputs externos. Los tres pilares: logs (eventos discretos con contexto), m\xe9tricas (valores num\xe9ricos agregados en el tiempo), y trazas distribuidas (el recorrido de una request a trav\xe9s de m\xfaltiples servicios). Las m\xe9tricas te dicen QU\xc9 est\xe1 mal, los logs te dicen D\xd3NDE y POR QU\xc9, las trazas te dicen D\xd3NDE en el flujo distribuido. El est\xe1ndar OpenTelemetry unifica la instrumentaci\xf3n para los tres.",questions:["Structured logging (JSON) vs. unstructured logging (texto libre): \xbfcu\xe1l es la diferencia pr\xe1ctica a la hora de hacer queries en Elasticsearch? \xbfQu\xe9 campos deber\xedan estar siempre presentes en cada log line?","Si usas Prometheus para m\xe9tricas, \xbfcu\xe1l es la diferencia entre Counter, Gauge, Histogram y Summary? \xbfCu\xe1ndo usar\xedas Histogram sobre Summary y qu\xe9 problema tiene el Summary en sistemas distribuidos?","\xbfQu\xe9 es 'cardinality' en sistemas de m\xe9tricas? \xbfPor qu\xe9 a\xf1adir user_id como label en Prometheus puede destruir tu sistema de m\xe9tricas?"],exercise:{title:"Instrumentaci\xf3n completa: logs + m\xe9tricas + healthchecks",description:"Instrumenta la API con: logging estructurado (pino) con correlationId, m\xe9tricas Prometheus (requests totales, latencia p50/p95/p99, requests activos), y endpoints /health y /ready que distingan liveness de readiness. Visualiza con Grafana.",code:"import pino from 'pino';\nimport promClient from 'prom-client';\n\n// Structured logging con correlationId\nconst logger = pino({ level: 'info' });\n\nconst requestDuration = new promClient.Histogram({\n  name: 'http_request_duration_seconds',\n  help: 'Duration of HTTP requests',\n  labelNames: ['method', 'route', 'status_code'],\n  buckets: [0.001, 0.005, 0.01, 0.05, 0.1, 0.5, 1, 5]\n});\n\napp.use((req, res, next) => {\n  req.correlationId = req.headers['x-correlation-id'] || crypto.randomUUID();\n  req.log = logger.child({ correlationId: req.correlationId });\n  \n  const end = requestDuration.startTimer();\n  res.on('finish', () => {\n    end({ method: req.method, route: req.route?.path, status_code: res.statusCode });\n    req.log.info({ \n      method: req.method, \n      url: req.url, \n      statusCode: res.statusCode,\n      duration: Date.now() - req.startTime\n    }, 'request completed');\n  });\n  next();\n});\n\n// Liveness vs Readiness \u2014 conceptualmente distintos\napp.get('/health', (req, res) => {\n  // Liveness: \xbfel proceso est\xe1 vivo? Siempre 200 si el server responde\n  res.json({ status: 'alive' });\n});\n\napp.get('/ready', async (req, res) => {\n  // Readiness: \xbfpuede manejar tr\xe1fico? Verifica dependencias\n  try {\n    await db.query('SELECT 1');\n    await redis.ping();\n    res.json({ status: 'ready', checks: { db: 'ok', cache: 'ok' } });\n  } catch (err) {\n    res.status(503).json({ status: 'not ready', error: err.message });\n  }\n});"},keywords:["structured logging","correlation ID","distributed tracing","span","trace","OpenTelemetry","Prometheus","cardinality","percentile","p99 latency","liveness vs. readiness","SLO/SLI/SLA"],resources:[{title:"OpenTelemetry Documentation",url:"https://opentelemetry.io/docs/"},{title:"Observability Engineering \u2014 Charity Majors et al.",url:"https://www.oreilly.com/library/view/observability-engineering/9781492076438/"},{title:"Grafana Labs \u2014 tutoriales de dashboards",url:"https://grafana.com/tutorials/"}]},{day:16,title:"Performance: Profiling y Optimizaci\xf3n",concept:"Optimizar sin medir es adivinar. El flujo correcto: detectar \u2192 medir \u2192 identificar cuello de botella \u2192 optimizar \u2192 medir de nuevo. Los cuellos de botella en backend casi siempre son: I/O de base de datos (queries lentas, N+1, sin \xedndices), I/O de red (llamadas s\xedncronas innecesarias, sin connection pooling), o CPU (criptograf\xeda, serializaci\xf3n, compresi\xf3n). Entender la diferencia entre latencia y throughput, y por qu\xe9 optimizar uno puede degradar el otro, es fundamental.",questions:["Connection pooling en bases de datos: \xbfcu\xe1l es el n\xfamero \xf3ptimo de conexiones? \xbfPor qu\xe9 tener 500 conexiones activas simult\xe1neamente puede ser PEOR que tener 20?","\xbfCu\xe1l es la diferencia entre latencia P50, P95 y P99? \xbfPor qu\xe9 una API con P50 de 10ms puede tener P99 de 2000ms y qu\xe9 causa ese tail latency?","Si necesitas hacer 5 llamadas API externas independientes para construir una respuesta, \xbfcu\xe1l es la diferencia en latencia entre serie vs. Promise.all? \xbfCu\xe1ndo Promise.all puede ser contraproducente?"],exercise:{title:"Load testing + flame graph con k6 y Clinic.js",description:"Usa k6 para load testing de la API. Identifica el punto de quiebre (RPS donde P99 > 1s). Usa Clinic.js para generar un flame graph y localizar la funci\xf3n m\xe1s costosa. Implementa connection pooling y mide el impacto.",code:"// k6 load test script\nimport http from 'k6/http';\nimport { check, sleep } from 'k6';\n\nexport const options = {\n  stages: [\n    { duration: '1m', target: 50 },   // Ramp up\n    { duration: '3m', target: 50 },   // Steady state\n    { duration: '1m', target: 200 },  // Stress\n    { duration: '1m', target: 0 },    // Ramp down\n  ],\n  thresholds: {\n    http_req_duration: ['p(99)<1000'], // P99 < 1s\n    http_req_failed: ['rate<0.01'],    // Error rate < 1%\n  },\n};\n\nexport default function() {\n  const res = http.get('http://localhost:3000/books');\n  check(res, {\n    'status is 200': (r) => r.status === 200,\n    'response time < 500ms': (r) => r.timings.duration < 500,\n  });\n  sleep(1);\n}\n\n// pg-pool configuration \xf3ptima\n// F\xf3rmula: connections = (num_cores * 2) + effective_spindle_count\nconst pool = new Pool({\n  max: 20,          // No m\xe1s de 20 conexiones\n  idleTimeoutMillis: 30000,\n  connectionTimeoutMillis: 2000,\n});\n\n// Generar flame graph:\n// clinic flame -- node server.js"},keywords:["flame graph","connection pool","throughput","latency","tail latency","p99","load testing","stress testing","soak testing","backpressure","event loop lag","GC pressure"],resources:[{title:"Clinic.js \u2014 profiling de Node.js con flame graphs",url:"https://clinicjs.org"},{title:"k6 Documentation \u2014 load testing",url:"https://k6.io/docs/"},{title:"Systems Performance \u2014 Brendan Gregg",url:"https://www.brendangregg.com/systems-performance-2nd-edition-book.html"}]},{day:17,title:"Contenedores, Docker y el Entorno de Producci\xf3n",concept:'Docker no es solo "para deployar". Entender el sistema de capas de im\xe1genes, el copy-on-write filesystem, y los namespaces de Linux que hacen posible el aislamiento es esencial para escribir Dockerfiles eficientes. Un Dockerfile mal escrito genera im\xe1genes de 2GB; uno bien escrito genera im\xe1genes de 100MB. T\xe9cnicas clave: multi-stage builds, orden de capas para aprovechar el cache, usuario no-root, y variables de entorno vs. secrets.',questions:["Cada instrucci\xf3n RUN, COPY, ADD en un Dockerfile crea una nueva capa. \xbfPor qu\xe9 el orden de las instrucciones COPY importa para el cache? \xbfQu\xe9 pasar\xeda si copias todo el c\xf3digo antes de instalar dependencias?","\xbfQu\xe9 diferencia hay entre CMD y ENTRYPOINT en un Dockerfile? \xbfCu\xe1ndo usar\xedas cada uno y cu\xe1l es el comportamiento cuando ambos est\xe1n presentes?","Si tu aplicaci\xf3n Node.js corre como PID 1 en el contenedor y recibe SIGTERM, \xbfqu\xe9 puede pasar si no manejas la se\xf1al? \xbfQu\xe9 es 'graceful shutdown' y por qu\xe9 es cr\xedtico para no perder requests en vuelo?"],exercise:{title:"Dockerfile optimizado con multi-stage build",description:"Crea un Dockerfile con multi-stage build (build stage + producci\xf3n alpine). Debe: correr como usuario no-root, implementar healthcheck, y el tiempo de rebuild en cambios de c\xf3digo debe ser < 10s gracias al cache. Incluye docker-compose con PostgreSQL y Redis.",code:"# Multi-stage Dockerfile optimizado\n# Stage 1: Dependencies (se cachea si package.json no cambia)\nFROM node:20-alpine AS deps\nWORKDIR /app\nCOPY package.json package-lock.json ./  # Solo el manifest primero\nRUN npm ci --only=production            # Instala deps (cacheado)\n\n# Stage 2: Build\nFROM node:20-alpine AS builder\nWORKDIR /app\nCOPY --from=deps /app/node_modules ./node_modules\nCOPY . .                                # C\xf3digo fuente (invalida cache solo aqu\xed)\nRUN npm run build\n\n# Stage 3: Production (imagen m\xednima)\nFROM node:20-alpine AS runner\nWORKDIR /app\n\n# Crear usuario no-root\nRUN addgroup --system nodejs && adduser --system --ingroup nodejs nodejs\n\nCOPY --from=builder --chown=nodejs:nodejs /app/dist ./dist\nCOPY --from=deps --chown=nodejs:nodejs /app/node_modules ./node_modules\n\nUSER nodejs\nEXPOSE 3000\n\nHEALTHCHECK --interval=30s --timeout=3s --start-period=5s \\\n  CMD wget -qO- http://localhost:3000/health || exit 1\n\n# Graceful shutdown handler en app.js\nprocess.on('SIGTERM', async () => {\n  console.log('SIGTERM received, shutting down gracefully');\n  server.close(async () => {\n    await db.end();\n    await redis.quit();\n    process.exit(0);\n  });\n  // Force kill after 30s\n  setTimeout(() => process.exit(1), 30000);\n});"},keywords:["layer caching","multi-stage build","distroless","alpine","SIGTERM","graceful shutdown","PID 1","healthcheck","build context","secrets vs. env vars","namespaces","cgroups"],resources:[{title:"Docker Best Practices \u2014 documentaci\xf3n oficial",url:"https://docs.docker.com/develop/dev-best-practices/"},{title:"Docker Deep Dive \u2014 Nigel Poulton",url:"https://www.nigelpoulton.com/books/docker-deep-dive/"},{title:"Terminus \u2014 Graceful shutdown library",url:"https://github.com/godaddy/terminus"}]},{day:18,title:"Testing en Backend: m\xe1s all\xe1 del unit test",concept:"Para backend, los integration tests (que prueban el comportamiento de un endpoint contra una base de datos real) dan m\xe1s confianza que los unit tests de l\xf3gica aislada. Los mocks son una herramienta poderosa pero mal usada: si mockeas demasiado, est\xe1s probando que tu mock funciona, no que tu c\xf3digo funciona. Contract testing (Pact) resuelve el problema de verificar que dos servicios son compatibles sin levantar el sistema completo.",questions:["\xbfCu\xe1ndo un mock es la herramienta correcta y cu\xe1ndo es una se\xf1al de mal dise\xf1o? Si necesitas mockear 5 dependencias para testear una funci\xf3n, \xbfqu\xe9 dice eso sobre el dise\xf1o?","Los tests de integraci\xf3n que usan una base de datos real son lentos. \xbfC\xf3mo aislas el estado entre tests? Compara transactions/rollback vs. datos fixtures vs. database-per-test.","\xbfQu\xe9 es el contract testing y c\xf3mo resuelve el problema de que frontend y backend est\xe9n desarrollando en paralelo? \xbfEn qu\xe9 se diferencia de una integration test normal?"],exercise:{title:"Suite de integration tests con aislamiento por transacci\xf3n",description:"Escribe integration tests para la API de biblioteca con Jest + Supertest + PostgreSQL de test. Cada test corre en una transacci\xf3n que se hace rollback al final. A\xf1ade un contract test que falle si el response shape cambia. Corre en CI con GitHub Actions.",code:"// jest.setup.js \u2014 Transacci\xf3n por test para aislamiento\nlet client;\nlet transactionSavepoint;\n\nbeforeAll(async () => {\n  client = await pool.connect();\n});\n\nbeforeEach(async () => {\n  await client.query('BEGIN');\n  // Savepoint para poder hacer rollback sin cerrar la transacci\xf3n\n  await client.query('SAVEPOINT test_start');\n});\n\nafterEach(async () => {\n  // Rollback despu\xe9s de CADA test \u2014 aislamiento perfecto\n  await client.query('ROLLBACK TO SAVEPOINT test_start');\n});\n\nafterAll(async () => {\n  await client.query('ROLLBACK');\n  client.release();\n});\n\n// Integration test real\ndescribe('GET /books', () => {\n  it('returns books with correct shape', async () => {\n    // Insertar datos de test (se revertir\xe1n autom\xe1ticamente)\n    await client.query(\n      \"INSERT INTO books (title, author) VALUES ('Clean Code', 'Martin')\"\n    );\n    \n    const res = await request(app).get('/books');\n    \n    expect(res.status).toBe(200);\n    // Contract test \u2014 el shape nunca puede cambiar\n    expect(res.body[0]).toMatchObject({\n      id: expect.any(Number),\n      title: expect.any(String),\n      author: expect.any(String),\n      // Si alguien elimina 'author', este test falla\n    });\n  });\n});"},keywords:["integration test","contract testing","test isolation","test double","mock vs. stub vs. spy","test pyramid","property-based testing","snapshot testing","test coverage","mutation testing"],resources:[{title:"Pact \u2014 contract testing framework",url:"https://pact.io"},{title:"Testcontainers \u2014 contenedores para integration tests",url:"https://testcontainers.com"},{title:"Unit Testing: Principles, Practices, and Patterns \u2014 Khorikov",url:"https://www.manning.com/books/unit-testing"}]},{day:19,title:"CI/CD, Deployment Strategies y el camino a producci\xf3n",concept:"CI/CD es una pr\xe1ctica que reduce el riesgo de cada cambio. Blue/Green permite rollback instant\xe1neo pero requiere el doble de infraestructura; Canary expone gradualmente el cambio pero requiere feature flags y observabilidad; Rolling updates son simples pero pueden dejar dos versiones corriendo simult\xe1neamente. Las database migrations son el punto m\xe1s delgado: un ALTER TABLE en una tabla de millones de rows puede bloquear la aplicaci\xf3n.",questions:["Tu aplicaci\xf3n tiene una tabla con 100M rows y necesitas a\xf1adir una columna NOT NULL sin valor default. \xbfPor qu\xe9 esto puede hacer caer producci\xf3n? \xbfCu\xe1l es el proceso correcto en m\xfaltiples pasos para hacerlo sin downtime?","En un deployment Blue/Green, \xbfqu\xe9 pasa con las sessions o websockets activos en Blue cuando cambias el tr\xe1fico a Green? \xbfC\xf3mo lo manejas?","\xbfQu\xe9 es 'trunk-based development' y por qu\xe9 es considerado una pr\xe1ctica de \xe9lite para CI/CD? \xbfC\xf3mo funciona con feature flags para evitar ramas de larga duraci\xf3n?"],exercise:{title:"Pipeline CI/CD completo con GitHub Actions",description:"Crea un pipeline que: ejecute los integration tests del D\xeda 18, haga build de la imagen Docker, la publique a GitHub Container Registry, y haga deploy autom\xe1tico a Railway/Render en cada push a main. Implementa un smoke test post-deployment.",code:"# .github/workflows/deploy.yml\nname: CI/CD Pipeline\n\non:\n  push:\n    branches: [main]\n\njobs:\n  test:\n    runs-on: ubuntu-latest\n    services:\n      postgres:\n        image: postgres:15\n        env:\n          POSTGRES_PASSWORD: test\n        options: --health-cmd pg_isready\n    \n    steps:\n      - uses: actions/checkout@v4\n      - uses: actions/setup-node@v4\n        with: { node-version: '20' }\n      - run: npm ci\n      - run: npm test\n        env:\n          DATABASE_URL: postgresql://postgres:test@localhost:5432/test\n\n  build-and-push:\n    needs: test\n    runs-on: ubuntu-latest\n    steps:\n      - uses: actions/checkout@v4\n      - uses: docker/login-action@v3\n        with:\n          registry: ghcr.io\n          username: ${{ github.actor }}\n          password: ${{ secrets.GITHUB_TOKEN }}\n      \n      - uses: docker/build-push-action@v5\n        with:\n          push: true\n          tags: ghcr.io/${{ github.repository }}:latest\n          cache-from: type=gha  # GitHub Actions cache\n          cache-to: type=gha,mode=max\n\n  deploy:\n    needs: build-and-push\n    runs-on: ubuntu-latest\n    steps:\n      - name: Deploy to Railway\n        run: railway up --detach\n        env:\n          RAILWAY_TOKEN: ${{ secrets.RAILWAY_TOKEN }}\n      \n      # Smoke test post-deployment\n      - name: Smoke test\n        run: |\n          sleep 30  # Esperar que levante\n          curl -f https://my-api.railway.app/health || exit 1"},keywords:["blue/green deployment","canary deployment","rolling update","feature flag","zero-downtime migration","trunk-based development","semantic release","deployment pipeline","smoke test","rollback strategy"],resources:[{title:"Continuous Delivery \u2014 Jez Humble & David Farley",url:"https://continuousdelivery.com"},{title:"Accelerate \u2014 Nicole Forsgren et al. (m\xe9tricas DORA)",url:"https://itrevolution.com/book/accelerate/"},{title:"GitHub Actions Documentation",url:"https://docs.github.com/en/actions"}]}]}]};function Q(){const[e,n]=(0,a.useState)(0),[t,r]=(0,a.useState)(0),[o,i]=(0,a.useState)("concept"),[s,l]=(0,a.useState)(null),c=W.weeks[e],d=c.days[t];return(0,u.jsxs)("div",{style:{minHeight:"100vh",backgroundColor:"#19133f",color:"#E8E8F0",fontFamily:"'JetBrains Mono', 'Courier New', monospace",display:"flex",flexDirection:"column"},children:[(0,u.jsxs)("div",{style:{borderBottom:"1px solid #1E1E2E",padding:"20px 32px",background:"linear-gradient(135deg, #0A0A0F 0%, #0F0F1E 100%)",display:"flex",alignItems:"center",gap:"16px"},children:[(0,u.jsx)("div",{style:{width:"40px",height:"40px",borderRadius:"10px",background:"linear-gradient(135deg, #00D4FF, #C77DFF)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"18px"},children:"\u2699"}),(0,u.jsxs)("div",{children:[(0,u.jsx)("div",{style:{fontSize:"18px",fontWeight:"700",letterSpacing:"0.05em",color:"#fff"},children:"BACKEND MASTERY"}),(0,u.jsx)("div",{style:{fontSize:"11px",color:"#555",letterSpacing:"0.1em"},children:"PROGRAMA INTENSIVO \xb7 4 SEMANAS \xb7 1\u20132 HRS/D\xcdA"})]}),(0,u.jsx)("div",{style:{marginLeft:"auto",display:"flex",gap:"8px"},children:W.weeks.map((t,a)=>(0,u.jsxs)("div",{style:{fontSize:"10px",letterSpacing:"0.08em",padding:"4px 10px",borderRadius:"4px",cursor:"pointer",border:"1px solid ".concat(e===a?t.color:"#1E1E2E"),color:e===a?t.color:"#444",background:e===a?"".concat(t.color,"15"):"transparent",transition:"all 0.2s"},onClick:()=>{n(a),r(0),i("concept")},children:["W",t.id]},a))})]}),(0,u.jsxs)("div",{style:{display:"flex",flex:1},children:[(0,u.jsxs)("div",{style:{width:"260px",borderRight:"1px solid #1E1E2E",padding:"24px 0",flexShrink:0,overflowY:"auto"},children:[(0,u.jsxs)("div",{style:{padding:"0 20px 20px",borderBottom:"1px solid #1E1E2E"},children:[(0,u.jsxs)("div",{style:{fontSize:"10px",letterSpacing:"0.12em",color:c.color,marginBottom:"6px",fontWeight:"600"},children:["SEMANA ",c.id]}),(0,u.jsx)("div",{style:{fontSize:"13px",color:"#BCC",lineHeight:"1.4"},children:c.title})]}),(0,u.jsx)("div",{style:{padding:"16px 0"},children:c.days.map((e,n)=>(0,u.jsxs)("div",{onClick:()=>{r(n),i("concept")},style:{padding:"12px 20px",cursor:"pointer",borderLeft:t===n?"3px solid ".concat(c.color):"3px solid transparent",background:t===n?"".concat(c.color,"08"):"transparent",transition:"all 0.15s"},children:[(0,u.jsxs)("div",{style:{fontSize:"10px",color:t===n?c.color:"#444",letterSpacing:"0.1em",marginBottom:"4px"},children:["D\xcdA ",e.day]}),(0,u.jsx)("div",{style:{fontSize:"12px",color:t===n?"#E8E8F0":"#666",lineHeight:"1.4"},children:e.title})]},n))}),(0,u.jsx)("div",{style:{padding:"16px 20px 0",borderTop:"1px solid #1E1E2E",display:"flex",flexDirection:"column",gap:"8px"},children:W.weeks.map((t,a)=>(0,u.jsx)("div",{onClick:()=>{n(a),r(0),i("concept")},style:{padding:"8px 12px",borderRadius:"6px",cursor:"pointer",border:"1px solid ".concat(e===a?t.color:"#1E1E2E"),background:e===a?"".concat(t.color,"10"):"transparent",transition:"all 0.2s"},children:(0,u.jsxs)("div",{style:{fontSize:"10px",color:e===a?t.color:"#444",letterSpacing:"0.08em"},children:["S",t.id," \u2014 ",t.title.substring(0,30),"..."]})},a))})]}),(0,u.jsxs)("div",{style:{flex:1,display:"flex",flexDirection:"column",overflow:"hidden"},children:[(0,u.jsxs)("div",{style:{padding:"24px 32px",borderBottom:"1px solid #1E1E2E",background:"linear-gradient(135deg, ".concat(c.color,"08 0%, transparent 100%)")},children:[(0,u.jsxs)("div",{style:{fontSize:"11px",letterSpacing:"0.15em",color:c.color,marginBottom:"8px",fontWeight:"600"},children:["D\xcdA ",d.day," \xb7 SEMANA ",c.id]}),(0,u.jsx)("div",{style:{fontSize:"22px",fontWeight:"700",color:"#FFFFFF",lineHeight:"1.2"},children:d.title})]}),(0,u.jsx)("div",{style:{display:"flex",borderBottom:"1px solid #1E1E2E",padding:"0 32px",overflowX:"auto"},children:[{id:"concept",label:"\ud83d\udcd6 Concepto"},{id:"questions",label:"\ud83d\udd25 Preguntas Cr\xedticas"},{id:"exercise",label:"\u26a1 Ejercicio"},{id:"keywords",label:"\ud83d\udd11 Keywords"},{id:"resources",label:"\ud83d\udcda Recursos"}].map(e=>(0,u.jsx)("button",{onClick:()=>i(e.id),style:{padding:"14px 18px",background:"none",border:"none",borderBottom:o===e.id?"2px solid ".concat(c.color):"2px solid transparent",color:o===e.id?c.color:"#444",cursor:"pointer",fontSize:"12px",letterSpacing:"0.05em",whiteSpace:"nowrap",transition:"all 0.2s",marginBottom:"-1px"},children:e.label},e.id))}),(0,u.jsxs)("div",{style:{flex:1,overflowY:"auto",padding:"32px"},children:["concept"===o&&(0,u.jsx)("div",{style:{maxWidth:"780px"},children:(0,u.jsx)("div",{style:{padding:"24px",borderRadius:"10px",border:"1px solid ".concat(c.color,"30"),background:"".concat(c.color,"05"),lineHeight:"1.8",fontSize:"14px",color:"#CCC"},children:d.concept})}),"questions"===o&&(0,u.jsxs)("div",{style:{maxWidth:"780px",display:"flex",flexDirection:"column",gap:"16px"},children:[(0,u.jsx)("div",{style:{fontSize:"11px",color:"#444",letterSpacing:"0.1em",marginBottom:"8px"},children:"PREGUNTAS DE NIVEL CR\xcdTICO \u2014 No busques la respuesta r\xe1pida. Razona."}),d.questions.map((e,n)=>(0,u.jsxs)("div",{style:{padding:"20px 24px",borderRadius:"8px",border:"1px solid #1E1E2E",background:"#0D0D18",display:"flex",gap:"16px"},children:[(0,u.jsx)("div",{style:{width:"28px",height:"28px",borderRadius:"6px",background:"".concat(c.color,"20"),border:"1px solid ".concat(c.color,"40"),color:c.color,display:"flex",alignItems:"center",justifyContent:"center",fontSize:"12px",fontWeight:"700",flexShrink:0},children:n+1}),(0,u.jsx)("div",{style:{fontSize:"13px",color:"#CCC",lineHeight:"1.7"},children:e})]},n))]}),"exercise"===o&&(0,u.jsxs)("div",{style:{maxWidth:"900px"},children:[(0,u.jsxs)("div",{style:{marginBottom:"20px",padding:"16px 24px",borderRadius:"8px",border:"1px solid ".concat(c.color,"30"),background:"".concat(c.color,"08")},children:[(0,u.jsxs)("div",{style:{fontSize:"14px",fontWeight:"700",color:c.color,marginBottom:"8px"},children:["\u26a1 ",d.exercise.title]}),(0,u.jsx)("div",{style:{fontSize:"13px",color:"#999",lineHeight:"1.6"},children:d.exercise.description})]}),(0,u.jsxs)("div",{style:{borderRadius:"8px",overflow:"hidden",border:"1px solid #1E1E2E"},children:[(0,u.jsxs)("div",{style:{padding:"10px 16px",background:"#0D0D18",borderBottom:"1px solid #1E1E2E",fontSize:"11px",color:"#444",letterSpacing:"0.1em",display:"flex",alignItems:"center",gap:"8px"},children:[(0,u.jsx)("div",{style:{width:"10px",height:"10px",borderRadius:"50%",background:"#FF5F56"}}),(0,u.jsx)("div",{style:{width:"10px",height:"10px",borderRadius:"50%",background:"#FFBD2E"}}),(0,u.jsx)("div",{style:{width:"10px",height:"10px",borderRadius:"50%",background:"#27C93F"}}),(0,u.jsx)("span",{style:{marginLeft:"8px"},children:"CODE EXAMPLE"})]}),(0,u.jsx)("pre",{style:{padding:"24px",margin:0,fontSize:"12px",lineHeight:"1.7",color:"#A8B4C8",background:"#080810",overflowX:"auto",whiteSpace:"pre-wrap",wordBreak:"break-word"},children:d.exercise.code})]})]}),"keywords"===o&&(0,u.jsxs)("div",{style:{maxWidth:"780px"},children:[(0,u.jsx)("div",{style:{fontSize:"11px",color:"#444",letterSpacing:"0.1em",marginBottom:"20px"},children:"DOMINA ESTOS CONCEPTOS \u2014 Debes poder explicarlos sin dudar"}),(0,u.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:"10px"},children:d.keywords.map((e,n)=>(0,u.jsx)("div",{onClick:()=>l(s===e?null:e),style:{padding:"8px 14px",borderRadius:"6px",border:"1px solid ".concat(s===e?c.color:"#1E1E2E"),background:s===e?"".concat(c.color,"15"):"#0D0D18",color:s===e?c.color:"#888",fontSize:"12px",cursor:"pointer",letterSpacing:"0.05em",transition:"all 0.15s",fontWeight:s===e?"600":"400"},children:e},n))}),s&&(0,u.jsxs)("div",{style:{marginTop:"20px",padding:"16px 20px",borderRadius:"8px",border:"1px solid ".concat(c.color,"30"),background:"".concat(c.color,"05"),fontSize:"12px",color:"#999"},children:[(0,u.jsx)("span",{style:{color:c.color,fontWeight:"600"},children:s})," ","\u2014 Seleccionado. Busca este t\xe9rmino en el contexto del concepto del d\xeda para comprenderlo en profundidad."]}),(0,u.jsxs)("div",{style:{marginTop:"32px"},children:[(0,u.jsx)("div",{style:{fontSize:"11px",color:"#333",letterSpacing:"0.1em",marginBottom:"12px"},children:"TODAS LAS KEYWORDS DEL PROGRAMA"}),W.weeks.map((e,n)=>(0,u.jsxs)("div",{style:{marginBottom:"16px"},children:[(0,u.jsxs)("div",{style:{fontSize:"10px",color:e.color,letterSpacing:"0.1em",marginBottom:"8px"},children:["SEMANA ",e.id," \u2014 ",e.title]}),(0,u.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:"6px"},children:[...new Set(e.days.flatMap(e=>e.keywords))].map((n,t)=>(0,u.jsx)("span",{style:{padding:"3px 8px",borderRadius:"3px",background:"".concat(e.color,"10"),border:"1px solid ".concat(e.color,"20"),color:"".concat(e.color,"99"),fontSize:"10px",letterSpacing:"0.05em"},children:n},t))})]},n))]})]}),"resources"===o&&(0,u.jsxs)("div",{style:{maxWidth:"780px"},children:[(0,u.jsx)("div",{style:{fontSize:"11px",color:"#444",letterSpacing:"0.1em",marginBottom:"20px"},children:"RECURSOS COMPLEMENTARIOS"}),(0,u.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:d.resources.map((e,n)=>(0,u.jsxs)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",style:{padding:"16px 20px",borderRadius:"8px",border:"1px solid #1E1E2E",background:"#0D0D18",display:"flex",alignItems:"center",gap:"16px",textDecoration:"none",transition:"all 0.2s",cursor:"pointer"},onMouseEnter:e=>{e.currentTarget.style.borderColor="".concat(c.color,"50"),e.currentTarget.style.background="".concat(c.color,"05")},onMouseLeave:e=>{e.currentTarget.style.borderColor="#1E1E2E",e.currentTarget.style.background="#0D0D18"},children:[(0,u.jsx)("div",{style:{width:"32px",height:"32px",borderRadius:"6px",background:"".concat(c.color,"15"),display:"flex",alignItems:"center",justifyContent:"center",fontSize:"14px",flexShrink:0},children:"\ud83d\udcce"}),(0,u.jsxs)("div",{children:[(0,u.jsx)("div",{style:{fontSize:"13px",color:"#CCC",marginBottom:"3px"},children:e.title}),(0,u.jsx)("div",{style:{fontSize:"11px",color:"#444"},children:e.url})]}),(0,u.jsx)("div",{style:{marginLeft:"auto",color:"#333",fontSize:"16px"},children:"\u2192"})]},n))})]})]})]})]}),(0,u.jsxs)("div",{style:{borderTop:"1px solid #1E1E2E",padding:"14px 32px",display:"flex",justifyContent:"space-between",alignItems:"center",background:"#080810"},children:[(0,u.jsx)("button",{onClick:()=>{t>0?(r(t-1),i("concept")):e>0&&(n(e-1),r(W.weeks[e-1].days.length-1),i("concept"))},disabled:0===e&&0===t,style:{padding:"8px 18px",borderRadius:"6px",border:"1px solid #1E1E2E",background:"transparent",color:0===e&&0===t?"#2A2A3A":"#666",cursor:0===e&&0===t?"not-allowed":"pointer",fontSize:"12px",letterSpacing:"0.05em"},children:"\u2190 Anterior"}),(0,u.jsxs)("div",{style:{fontSize:"11px",color:"#333",letterSpacing:"0.1em"},children:["D\xcdA ",d.day," DE 19 \xb7 SEMANA ",c.id," DE 4"]}),(0,u.jsx)("button",{onClick:()=>{const a=t===c.days.length-1,o=e===W.weeks.length-1;a?o||(n(e+1),r(0),i("concept")):(r(t+1),i("concept"))},disabled:e===W.weeks.length-1&&t===c.days.length-1,style:{padding:"8px 18px",borderRadius:"6px",border:"1px solid ".concat(c.color,"40"),background:"".concat(c.color,"10"),color:c.color,cursor:"pointer",fontSize:"12px",letterSpacing:"0.05em"},children:"Siguiente \u2192"})]})]})}const G=()=>{const[e,n]=(0,a.useState)("home"),t={container:{fontFamily:"sans-serif",padding:"50px"},button:{margin:"10px",padding:"15px 30px",fontSize:"16px",cursor:"pointer",borderRadius:"8px",border:"none",backgroundColor:"#007bff",color:"white"},backBtn:{marginTop:"20px",padding:"10px",cursor:"pointer",background:"#6c757d",color:"white",border:"none",borderRadius:"5px"}};return"junior"===e?(0,u.jsxs)("div",{style:t.container,children:[(0,u.jsx)(j,{}),(0,u.jsx)("button",{style:t.backBtn,onClick:()=>n("home"),children:"Volver al Men\xfa"})]}):"intermediate"===e?(0,u.jsxs)("div",{style:t.container,children:[(0,u.jsx)(F,{}),(0,u.jsx)("button",{style:t.backBtn,onClick:()=>n("home"),children:"Volver al Men\xfa"})]}):"backendBeginners"===e?(0,u.jsxs)("div",{style:t.container,children:[(0,u.jsx)(H,{}),(0,u.jsx)("button",{style:t.backBtn,onClick:()=>n("home"),children:"Volver al Men\xfa"})]}):"backendprogram"===e?(0,u.jsxs)("div",{style:t.container,children:[(0,u.jsx)(Q,{}),(0,u.jsx)("button",{style:t.backBtn,onClick:()=>n("home"),children:"Volver al Men\xfa"})]}):(0,u.jsxs)("div",{style:t.container,children:[(0,u.jsx)("h1",{children:"Options"}),(0,u.jsxs)("div",{style:{marginTop:"30px"},children:[(0,u.jsx)("button",{style:t.button,onClick:()=>n("junior"),children:"Ir a SQL Junior"}),(0,u.jsx)("button",{style:c(c({},t.button),{},{backgroundColor:"#28a745"}),onClick:()=>n("intermediate"),children:"Ir a SQL Intermediate"}),(0,u.jsx)("button",{style:c(c({},t.button),{},{backgroundColor:"#c3d422"}),onClick:()=>n("backendBeginners"),children:"Ir a Backend Beginners"}),(0,u.jsx)("button",{style:c(c({},t.button),{},{backgroundColor:"#a77b28"}),onClick:()=>n("backendprogram"),children:"Ir a Backend Intermediate"})]})]})},V=e=>{e&&e instanceof Function&&t.e(453).then(t.bind(t,453)).then(n=>{let{getCLS:t,getFID:a,getFCP:r,getLCP:o,getTTFB:i}=n;t(e),a(e),r(e),o(e),i(e)})};r.createRoot(document.getElementById("root")).render((0,u.jsx)(a.StrictMode,{children:(0,u.jsx)(G,{})})),V()})();
//# sourceMappingURL=main.8467a474.js.map